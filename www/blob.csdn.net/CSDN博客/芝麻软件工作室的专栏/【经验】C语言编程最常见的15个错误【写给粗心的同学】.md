
# 【经验】C语言编程最常见的15个错误【写给粗心的同学】 -  芝麻软件工作室的专栏 - CSDN博客


2016年06月07日 06:54:46[seven-soft](https://me.csdn.net/softn)阅读数：4134


1.书写标识符时，忽略了大小写字母的区别。
main()
{     int a=5;
printf("%d",A);     }
编译程序把a和A认为是两个不同的变量名，而显示出错信息。C认为大写字母和小写字母是两个不同的字符。习惯上，符号常量名用大写，变量名用小写表示，以增加可读性。

2.忽略了变量的类型，进行了不合法的运算。

main()
{     float a,b;
printf("%d",a%b);   }
%是求余运算，得到a/b的整余数。整型变量a和b可以进行求余运算，而实型变量则不允许进行“求余”运算。

3.将字符常量与字符串常量混淆。

char c;
c="a";
在这里就混淆了字符常量与字符串常量，字符常量是由一对单引号括起来的单个字符，字符串常量是一对双引号括起来的字符序列。C规定以“\”作字符串结束标志，它是由系统自动加上的，所以字符串“a”实际上包含两个字符：‘a'和‘\'，而把它赋给一个字符变量是不行的。

4.忽略了“=”与“==”的区别。
在许多高级语言中，用“=”符号作为关系运算符“等于”。如在BASIC程序中可以写
if (a=3) then …
但C语言中，“=”是赋值运算符，“==”是关系运算符。如：
if (a==3) a=b;
前者是进行比较，a是否和3相等，后者表示如果a和3相等，把b值赋给a。由于习惯问题，初学者往往会犯这样的错误。
5.忘记加分号。
分号是C语句中不可缺少的一部分，语句末尾必须有分号。
a=1
b=2
编译时，编译程序在“a=1”后面没发现分号，就把下一行“b=2”也作为上一行语句的一部分，这就会出现语法错误。改错时，有时在被指出有错的一行中未发现错误，就需要看一下上一行是否漏掉了分号。
{ z=x+y;
t=z/100;
printf("%f",t);}
对于复合语句来说，最后一个语句中最后的分号不能忽略不写。
6.多加分号。
对于一个复合语句，如：
{ z=x+y;
t=z/100;
printf("%f",t);
};
复合语句的花括号后不应再加分号，否则将会画蛇添足。
又如：
if (a%3==0);
I++;
本是如果3整除a，则I加1。但由于if (a%3==0)后多加了分号，则if语句到此结束，程序将执行I++语句，不论3是否整除a，I都将自动加1。
再如：
for (I=0;I<5;I++);
{scanf("%d",&x);
printf("%d",x);}
本意是先后输入5个数，每输入一个数后再将它输出。由于for()后多加了一个分号，使循环体变为空语句，此时只能输入一个数并输出它。
7.输入变量时忘记加地址运算符“&”。
int a,b;
scanf("%d%d",a,b);
这是不合法的。Scanf函数的作用是：按照a、b在内存的地址将a、b的值存进去。“&a”指a在内存中的地址。

8.输入数据的方式与要求不符。

①scanf("%d%d",&a,&b);
输入时，不能用逗号作两个数据间的分隔符，如下面输入不合法：
3，4
输入数据时，在两个数据之间以一个或多个空格间隔，也可用回车键，跳格键tab。
②scanf("%d,%d",&a,&b);
C规定：如果在“格式控制”字符串中除了格式说明以外还有其它字符，则在输入数据时应输入与这些字符相同的字符。下面输入是合法的：
3，4
此时不用逗号而用空格或其它字符是不对的。
3 4 3：4
又如：
scanf("a=%d,b=%d",&a,&b);
输入应如以下形式：
a=3,b=4

9.输入字符的格式与要求不一致。

在用“%c”格式输入字符时，“空格字符”和“转义字符”都作为有效字符输入。
scanf("%c%c%c",&c1,&c2,&c3);
如输入a b c
字符“a”送给c1，字符“ ”送给c2，字符“b”送给c3，因为%c只要求读入一个字符，后面不需要用空格作为两个字符的间隔。

10.输入输出的数据类型与所用格式说明符不一致。

例如，a已定义为整型，b定义为实型
a=3;b=4.5;
printf("%f%d\n",a,b);
编译时不给出出错信息，但运行结果将与原意不符。这种错误尤其需要注意。

11.输入数据时，企图规定精度。

scanf("%7.2f",&a);
这样做是不合法的，输入数据时不能规定精度。

12.switch语句中漏写break语句。

例如：根据考试成绩的等级打印出百分制数段。
switch(grade)
{ case 'A':printf("85~100\n");
case 'B':printf("70~84\n");
case 'C':printf("60~69\n");
case 'D':printf("<60\n");
default:printf("error\n");
由于漏写了break语句，case只起标号的作用，而不起判断作用。因此，当grade值为A时，printf函数在执行完第一个语句后接着执行第二、三、四、五个printf函数语句。正确写法应在每个分支后再加上“break;”。
例如
case 'A':printf("85~100\n");break;

13..在定义数组时，将定义的“元素个数”误认为是可使的最大下标值。

main()
{static int a[10]={1,2,3,4,5,6,7,8,9,10};
printf("%d",a[10]);
}
C语言规定：定义时用a[10]，表示a数组有10个元素。其下标值由0开始，所以数组元素a[10]是不存在的。

16.在不应加地址运算符&的位置加了地址运算符。

scanf("%s",&str);
C语言编译系统对数组名的处理是：数组名代表该数组的起始地址，且scanf函数中的输入项是字符数组名，不必要再加地址符&。应改为：
scanf("%s",str);

