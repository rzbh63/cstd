
# 数据结构实践——稀疏矩阵相加 - 迂者-贺利坚的专栏 - CSDN博客

2015年10月07日 21:06:53[迂者-贺利坚](https://me.csdn.net/sxhelijian)阅读数：12017


本文针对[数据结构基础系列网络课程(5)：数组与广义表]()的实践项目。
【项目 - 稀疏矩阵相加】
采用三元组存储稀疏矩阵，设计两个稀疏矩阵相加的运算算法
提示1：两个行数、列数相同的矩阵可以相加
提示2：充分利用已经建立好的算法库解决问题
[参考解答1]（程序中使用的头文件”tup.h”见[稀疏矩阵的三元组表示算法库](http://blog.csdn.net/sxhelijian/article/details/48949971)）
```python
#include <stdio.h>
```
```python
#include "tup.h"
```
```python
bool
```
```python
MatAdd(TSMatrix a,TSMatrix b,TSMatrix &c)
{
```
```python
int
```
```python
i,j;
    ElemType va,vb,vc;
```
```python
if
```
```python
(a.rows!=b.rows || a.cols!=b.cols)
```
```python
return
```
```python
false
```
```python
;
```
```python
//行数或列数不等时不能进行相加运算
```
```python
c.rows=a.rows;
    c.cols=a.cols;
```
```python
//c的行列数与a的相同
```
```python
c.nums=
```
```python
0
```
```python
;
```
```python
for
```
```python
(i=
```
```python
0
```
```python
; i<M; i++)
```
```python
for
```
```python
(j=
```
```python
0
```
```python
; j<N; j++)
        {
            Assign(a,va,i,j);
            Assign(b,vb,i,j);
            vc=va+vb;
```
```python
if
```
```python
(vc)
                Value(c,vc,i,j);
        }
```
```python
return
```
```python
true
```
```python
;
}
```
```python
int
```
```python
main()
{
    TSMatrix ta,tb,tc;
```
```python
int
```
```python
A[M][N]=
    {
        {
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
1
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
},
        {
```
```python
0
```
```python
,
```
```python
2
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
},
        {
```
```python
3
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
},
        {
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
5
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
},
        {
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
6
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
},
        {
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
7
```
```python
,
```
```python
4
```
```python
}
    };
```
```python
int
```
```python
B[M][N]=
    {
        {
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
10
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
},
        {
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
20
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
},
        {
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
},
        {
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
50
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
},
        {
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
20
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
},
        {
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
10
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
4
```
```python
}
    };
    CreatMat(ta,A);
    CreatMat(tb,B);
```
```python
printf
```
```python
(
```
```python
"A:\n"
```
```python
);
    DispMat(ta);
```
```python
printf
```
```python
(
```
```python
"B:\n"
```
```python
);
    DispMat(tb);
```
```python
if
```
```python
(MatAdd(ta, tb, tc))
    {
```
```python
printf
```
```python
(
```
```python
"A+B:\n"
```
```python
);
        DispMat(tc);
    }
```
```python
else
```
```python
{
```
```python
printf
```
```python
(
```
```python
"相加失败\n"
```
```python
);
    }
```
```python
return
```
```python
0
```
```python
;
}
```
[参考解答2]
下面给出的解答，没有利用算法库中已经实现的Assign和Value两个基本运算，而是直接e采取了更为直接的方法去完成。用i和j两个变量扫描三元组a和b，按行序优先的原则进行处理，将结果存放于c中。当a的当前元素和b的当前元素的行号和列号均相等时，将它们的值相加，只有在相加值不为0时，才在c中添加一个新的元素。
```python
#include <stdio.h>
```
```python
#include "tup.h"
```
```python
bool MatAdd(TSMatrix a,TSMatrix b,TSMatrix &c)
{
    int i=
```
```python
0
```
```python
,j=
```
```python
0
```
```python
,k=
```
```python
0
```
```python
;
```
```python
ElemType v
```
```python
;
```
```python
if (a
```
```python
.rows
```
```python
!=b
```
```python
.rows
```
```python
|| a
```
```python
.cols
```
```python
!=b
```
```python
.cols
```
```python
)
        return
```
```python
0
```
```python
;        //行数或列数不等时不能进行相加运算
```
```python
c
```
```python
.rows
```
```python
=a
```
```python
.rows
```
```python
;
```
```python
c
```
```python
.cols
```
```python
=a
```
```python
.cols
```
```python
;       //c的行列数与a的相同
```
```python
while (i<a
```
```python
.nums
```
```python
&& j<b
```
```python
.nums
```
```python
)         //处理a和b中的每个元素
    {
        if (a
```
```python
.data
```
```python
[i]
```
```python
.r
```
```python
==b
```
```python
.data
```
```python
[j]
```
```python
.r
```
```python
)    //行号相等时
        {
            if(a
```
```python
.data
```
```python
[i]
```
```python
.c
```
```python
<b
```
```python
.data
```
```python
[j]
```
```python
.c
```
```python
)  //a元素的列号小于b元素的列号
            {
                c
```
```python
.data
```
```python
[k]
```
```python
.r
```
```python
=a
```
```python
.data
```
```python
[i]
```
```python
.r
```
```python
;//将a元素添加到c中
```
```python
c
```
```python
.data
```
```python
[k]
```
```python
.c
```
```python
=a
```
```python
.data
```
```python
[i]
```
```python
.c
```
```python
;
```
```python
c
```
```python
.data
```
```python
[k]
```
```python
.d
```
```python
=a
```
```python
.data
```
```python
[i]
```
```python
.d
```
```python
;
```
```python
k++
```
```python
;
```
```python
i++
```
```python
;
```
```python
}
            else if (a
```
```python
.data
```
```python
[i]
```
```python
.c
```
```python
>b
```
```python
.data
```
```python
[j]
```
```python
.c
```
```python
)//a元素的列号大于b元素的列号
            {
                c
```
```python
.data
```
```python
[k]
```
```python
.r
```
```python
=b
```
```python
.data
```
```python
[j]
```
```python
.r
```
```python
;      //将b元素添加到c中
```
```python
c
```
```python
.data
```
```python
[k]
```
```python
.c
```
```python
=b
```
```python
.data
```
```python
[j]
```
```python
.c
```
```python
;
```
```python
c
```
```python
.data
```
```python
[k]
```
```python
.d
```
```python
=b
```
```python
.data
```
```python
[j]
```
```python
.d
```
```python
;
```
```python
k++
```
```python
;
```
```python
j++
```
```python
;
```
```python
}
            else                    //a元素的列号等于b元素的列号
            {
                v=a
```
```python
.data
```
```python
[i]
```
```python
.d
```
```python
+b
```
```python
.data
```
```python
[j]
```
```python
.d
```
```python
;
```
```python
if (v!=
```
```python
0
```
```python
)           //只将不为
```
```python
0
```
```python
的结果添加到c中
                {
                    c
```
```python
.data
```
```python
[k]
```
```python
.r
```
```python
=a
```
```python
.data
```
```python
[i]
```
```python
.r
```
```python
;
```
```python
c
```
```python
.data
```
```python
[k]
```
```python
.c
```
```python
=a
```
```python
.data
```
```python
[i]
```
```python
.c
```
```python
;
```
```python
c
```
```python
.data
```
```python
[k]
```
```python
.d
```
```python
=v
```
```python
;
```
```python
k++
```
```python
;
```
```python
}
                i++
```
```python
;
```
```python
j++
```
```python
;
```
```python
}
        }
        else if (a
```
```python
.data
```
```python
[i]
```
```python
.r
```
```python
<b
```
```python
.data
```
```python
[j]
```
```python
.r
```
```python
) //a元素的行号小于b元素的行号
        {
            c
```
```python
.data
```
```python
[k]
```
```python
.r
```
```python
=a
```
```python
.data
```
```python
[i]
```
```python
.r
```
```python
;      //将a元素添加到c中
```
```python
c
```
```python
.data
```
```python
[k]
```
```python
.c
```
```python
=a
```
```python
.data
```
```python
[i]
```
```python
.c
```
```python
;
```
```python
c
```
```python
.data
```
```python
[k]
```
```python
.d
```
```python
=a
```
```python
.data
```
```python
[i]
```
```python
.d
```
```python
;
```
```python
k++
```
```python
;
```
```python
i++
```
```python
;
```
```python
}
        else                              //a元素的行号大于b元素的行号
        {
            c
```
```python
.data
```
```python
[k]
```
```python
.r
```
```python
=b
```
```python
.data
```
```python
[j]
```
```python
.r
```
```python
;      //将b元素添加到c中
```
```python
c
```
```python
.data
```
```python
[k]
```
```python
.c
```
```python
=b
```
```python
.data
```
```python
[j]
```
```python
.c
```
```python
;
```
```python
c
```
```python
.data
```
```python
[k]
```
```python
.d
```
```python
=b
```
```python
.data
```
```python
[j]
```
```python
.d
```
```python
;
```
```python
k++
```
```python
;
```
```python
j++
```
```python
;
```
```python
}
    }
    while (i<a
```
```python
.nums
```
```python
)         //a中尚有元素时
    {
        c
```
```python
.data
```
```python
[k]
```
```python
.r
```
```python
=a
```
```python
.data
```
```python
[i]
```
```python
.r
```
```python
;//将a元素添加到c中
```
```python
c
```
```python
.data
```
```python
[k]
```
```python
.c
```
```python
=a
```
```python
.data
```
```python
[i]
```
```python
.c
```
```python
;
```
```python
c
```
```python
.data
```
```python
[k]
```
```python
.d
```
```python
=a
```
```python
.data
```
```python
[i]
```
```python
.d
```
```python
;
```
```python
k++
```
```python
;
```
```python
i++
```
```python
;
```
```python
}
    while (j<b
```
```python
.nums
```
```python
)         //b中尚有元素时
    {
        c
```
```python
.data
```
```python
[k]
```
```python
.r
```
```python
=b
```
```python
.data
```
```python
[j]
```
```python
.r
```
```python
;      //将b元素添加到c中
```
```python
c
```
```python
.data
```
```python
[k]
```
```python
.c
```
```python
=b
```
```python
.data
```
```python
[j]
```
```python
.c
```
```python
;
```
```python
c
```
```python
.data
```
```python
[k]
```
```python
.d
```
```python
=b
```
```python
.data
```
```python
[j]
```
```python
.d
```
```python
;
```
```python
k++
```
```python
;
```
```python
j++
```
```python
;
```
```python
}
    c
```
```python
.nums
```
```python
=k
```
```python
;
```
```python
return true
```
```python
;
```
```python
}
int main()
{
    TSMatrix ta,tb,tc
```
```python
;
```
```python
int A[M][N]=
    {
        {
```
```python
0
```
```python
,
```
```python
1
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
},
        {
```
```python
0
```
```python
,
```
```python
2
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
},
        {
```
```python
3
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
},
        {
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
5
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
},
        {
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
6
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
},
        {
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
7
```
```python
,
```
```python
4
```
```python
}
    }
```
```python
;
```
```python
int B[M][N]=
    {
        {
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
10
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
},
        {
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
20
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
},
        {
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
},
        {
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
50
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
},
        {
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
20
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
},
        {
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
10
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
4
```
```python
}
    }
```
```python
;
```
```python
CreatMat(ta,A)
```
```python
;
```
```python
CreatMat(tb,B)
```
```python
;
```
```python
printf(
```
```python
"A:\n"
```
```python
)
```
```python
;
```
```python
DispMat(ta)
```
```python
;
```
```python
printf(
```
```python
"B:\n"
```
```python
)
```
```python
;
```
```python
DispMat(tb)
```
```python
;
```
```python
if(MatAdd(ta, tb, tc))
    {
        printf(
```
```python
"A+B:\n"
```
```python
)
```
```python
;
```
```python
DispMat(tc)
```
```python
;
```
```python
}
    else
    {
        printf(
```
```python
"相加失败\n"
```
```python
)
```
```python
;
```
```python
}
    return
```
```python
0
```
```python
;
```
```python
}
```
对比两种方案，“参考解答1”利用Assign和Value两个基本运算的方案，可以在只知道“矩阵加法是对应位置的元素相加”的基础上就可以求解；而“参考解答2”则不得不关注在数据存储层面的细节，以致于矩阵加法的规则都不容易看出来了。“参考解答2”中繁杂的代码，违反了程序设计中诸多的原则（例如模块化），相对“参考解答1”的简洁中透出的优雅，该不是学习者效仿的思维。
附：1楼评论中带bug的解答，原参考解答2。重点观察少了`while (i<a.nums)`、`while (j<b.nums)`两个循环，当a和b的最后一个元素不在同一行同一列时，会丢数据的。这个bug的漏网，和main函数中采用的测试数据不够好有关，让两个矩阵非0元素在同一行同一列，忽略了“边界”数据的重要性。
与此同时，再次体会参考解答1的好处，缺少了一层抽象，对应的就是处处要考虑细节。智者千虑，必有一失，还是要运用上工程中的原则为好。
```python
#include <stdio.h>
```
```python
#include "tup.h"
```
```python
bool MatAdd(TSMatrix a,TSMatrix b,TSMatrix &c)
{
    int i=
```
```python
0
```
```python
,j=
```
```python
0
```
```python
,k=
```
```python
0
```
```python
;
```
```python
ElemType v
```
```python
;
```
```python
if (a
```
```python
.rows
```
```python
!=b
```
```python
.rows
```
```python
|| a
```
```python
.cols
```
```python
!=b
```
```python
.cols
```
```python
)
        return
```
```python
0
```
```python
;        //行数或列数不等时不能进行相加运算
```
```python
c
```
```python
.rows
```
```python
=a
```
```python
.rows
```
```python
;
```
```python
c
```
```python
.cols
```
```python
=a
```
```python
.cols
```
```python
;       //c的行列数与a的相同
```
```python
while (i<a
```
```python
.nums
```
```python
&& j<b
```
```python
.nums
```
```python
)         //处理a和b中的每个元素
    {
        if (a
```
```python
.data
```
```python
[i]
```
```python
.r
```
```python
==b
```
```python
.data
```
```python
[j]
```
```python
.r
```
```python
)    //行号相等时
        {
            if(a
```
```python
.data
```
```python
[i]
```
```python
.c
```
```python
<b
```
```python
.data
```
```python
[j]
```
```python
.c
```
```python
)  //a元素的列号小于b元素的列号
            {
                c
```
```python
.data
```
```python
[k]
```
```python
.r
```
```python
=a
```
```python
.data
```
```python
[i]
```
```python
.r
```
```python
;//将a元素添加到c中
```
```python
c
```
```python
.data
```
```python
[k]
```
```python
.c
```
```python
=a
```
```python
.data
```
```python
[i]
```
```python
.c
```
```python
;
```
```python
c
```
```python
.data
```
```python
[k]
```
```python
.d
```
```python
=a
```
```python
.data
```
```python
[i]
```
```python
.d
```
```python
;
```
```python
k++
```
```python
;
```
```python
i++
```
```python
;
```
```python
}
            else if (a
```
```python
.data
```
```python
[i]
```
```python
.c
```
```python
>b
```
```python
.data
```
```python
[j]
```
```python
.c
```
```python
)//a元素的列号大于b元素的列号
            {
                c
```
```python
.data
```
```python
[k]
```
```python
.r
```
```python
=b
```
```python
.data
```
```python
[j]
```
```python
.r
```
```python
;      //将b元素添加到c中
```
```python
c
```
```python
.data
```
```python
[k]
```
```python
.c
```
```python
=b
```
```python
.data
```
```python
[j]
```
```python
.c
```
```python
;
```
```python
c
```
```python
.data
```
```python
[k]
```
```python
.d
```
```python
=b
```
```python
.data
```
```python
[j]
```
```python
.d
```
```python
;
```
```python
k++
```
```python
;
```
```python
j++
```
```python
;
```
```python
}
            else                    //a元素的列号等于b元素的列号
            {
                v=a
```
```python
.data
```
```python
[i]
```
```python
.d
```
```python
+b
```
```python
.data
```
```python
[j]
```
```python
.d
```
```python
;
```
```python
if (v!=
```
```python
0
```
```python
)           //只将不为
```
```python
0
```
```python
的结果添加到c中
                {
                    c
```
```python
.data
```
```python
[k]
```
```python
.r
```
```python
=a
```
```python
.data
```
```python
[i]
```
```python
.r
```
```python
;
```
```python
c
```
```python
.data
```
```python
[k]
```
```python
.c
```
```python
=a
```
```python
.data
```
```python
[i]
```
```python
.c
```
```python
;
```
```python
c
```
```python
.data
```
```python
[k]
```
```python
.d
```
```python
=v
```
```python
;
```
```python
k++
```
```python
;
```
```python
}
                i++
```
```python
;
```
```python
j++
```
```python
;
```
```python
}
        }
        else if (a
```
```python
.data
```
```python
[i]
```
```python
.r
```
```python
<b
```
```python
.data
```
```python
[j]
```
```python
.r
```
```python
) //a元素的行号小于b元素的行号
        {
            c
```
```python
.data
```
```python
[k]
```
```python
.r
```
```python
=a
```
```python
.data
```
```python
[i]
```
```python
.r
```
```python
;      //将a元素添加到c中
```
```python
c
```
```python
.data
```
```python
[k]
```
```python
.c
```
```python
=a
```
```python
.data
```
```python
[i]
```
```python
.c
```
```python
;
```
```python
c
```
```python
.data
```
```python
[k]
```
```python
.d
```
```python
=a
```
```python
.data
```
```python
[i]
```
```python
.d
```
```python
;
```
```python
k++
```
```python
;
```
```python
i++
```
```python
;
```
```python
}
        else                              //a元素的行号大于b元素的行号
        {
            c
```
```python
.data
```
```python
[k]
```
```python
.r
```
```python
=b
```
```python
.data
```
```python
[j]
```
```python
.r
```
```python
;      //将b元素添加到c中
```
```python
c
```
```python
.data
```
```python
[k]
```
```python
.c
```
```python
=b
```
```python
.data
```
```python
[j]
```
```python
.c
```
```python
;
```
```python
c
```
```python
.data
```
```python
[k]
```
```python
.d
```
```python
=b
```
```python
.data
```
```python
[j]
```
```python
.d
```
```python
;
```
```python
k++
```
```python
;
```
```python
j++
```
```python
;
```
```python
}
        c
```
```python
.nums
```
```python
=k
```
```python
;
```
```python
}
    return true
```
```python
;
```
```python
}
int main()
{
    TSMatrix ta,tb,tc
```
```python
;
```
```python
int A[M][N]=
    {
        {
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
1
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
},
        {
```
```python
0
```
```python
,
```
```python
2
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
},
        {
```
```python
3
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
},
        {
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
5
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
},
        {
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
6
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
},
        {
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
7
```
```python
,
```
```python
4
```
```python
}
    }
```
```python
;
```
```python
int B[M][N]=
    {
        {
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
10
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
},
        {
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
20
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
},
        {
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
},
        {
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
50
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
},
        {
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
20
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
},
        {
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
10
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
4
```
```python
}
    }
```
```python
;
```
```python
CreatMat(ta,A)
```
```python
;
```
```python
CreatMat(tb,B)
```
```python
;
```
```python
printf(
```
```python
"A:\n"
```
```python
)
```
```python
;
```
```python
DispMat(ta)
```
```python
;
```
```python
printf(
```
```python
"B:\n"
```
```python
)
```
```python
;
```
```python
DispMat(tb)
```
```python
;
```
```python
if(MatAdd(ta, tb, tc))
    {
        printf(
```
```python
"A+B:\n"
```
```python
)
```
```python
;
```
```python
DispMat(tc)
```
```python
;
```
```python
}
    else
    {
        printf(
```
```python
"相加失败\n"
```
```python
)
```
```python
;
```
```python
}
    return
```
```python
0
```
```python
;
```
```python
}
```

