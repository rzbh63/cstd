
# 200. Number of Islands - OraYang的博客 - CSDN博客

2018年01月29日 22:19:55[OraYang](https://me.csdn.net/u010665216)阅读数：257标签：[union-find																](https://so.csdn.net/so/search/s.do?q=union-find&t=blog)[leetcode																](https://so.csdn.net/so/search/s.do?q=leetcode&t=blog)[
							](https://so.csdn.net/so/search/s.do?q=union-find&t=blog)个人分类：[Leetcode																](https://blog.csdn.net/u010665216/article/category/7026962)
所属专栏：[基础算法](https://blog.csdn.net/column/details/16604.html)



# 题目
Given a 2d grid map of`'1'`s (land) and`'0'`s (water), count the number of islands. An island is surrounded by water and is formed by connecting adjacent lands horizontally or vertically. You may assume all four edges of the grid are all surrounded by water.
*Example 1:*
11110
11010
11000
00000Answer: 1
*Example 2:*
11000
11000
00100
00011Answer: 3
**Credits:**
Special thanks to[@mithmatt](https://leetcode.com/discuss/user/mithmatt)for adding this problem and creating all test cases.

# 思路
这道题目搞了我很久，主要是一边解题一般玩了，这其实也是个典型的union-find题目，我们首先要将数组里面的两两之间的连通分量求出来，再利用我们[前一篇博客](http://blog.csdn.net/u010665216/article/details/79196453)的解法求连通数。
# 代码
```python
class
```
```python
Solution {
```
```python
public
```
```python
:
```
```python
int
```
```python
numIslands(
```
```python
vector
```
```python
<
```
```python
vector
```
```python
<
```
```python
char
```
```python
>
```
```python
>
```
```python
& grid) {
```
```python
if
```
```python
(grid.size()==
```
```python
0
```
```python
)
```
```python
return
```
```python
0
```
```python
;
```
```python
int
```
```python
m = grid.size();
```
```python
int
```
```python
n = grid[
```
```python
0
```
```python
].size();
```
```python
int
```
```python
num1=
```
```python
0
```
```python
;
```
```python
vector
```
```python
<
```
```python
int
```
```python
>
```
```python
tmp(
```
```python
2
```
```python
);
```
```python
vector
```
```python
<
```
```python
vector
```
```python
<
```
```python
int
```
```python
>
```
```python
>
```
```python
res;
```
```python
//第一次遍历矩阵将字符转换成整数
```
```python
vector
```
```python
<
```
```python
vector
```
```python
<
```
```python
int
```
```python
>
```
```python
>
```
```python
matrixs;
```
```python
for
```
```python
(
```
```python
int
```
```python
i=
```
```python
0
```
```python
;i<m;i++){
```
```python
vector
```
```python
<
```
```python
int
```
```python
>
```
```python
matrix;
```
```python
for
```
```python
(
```
```python
int
```
```python
j=
```
```python
0
```
```python
;j<n;j++)
            {
                matrix.push_back(grid[i][j]-
```
```python
48
```
```python
);
            }
            matrixs.push_back(matrix);
        }
```
```python
cout
```
```python
<<matrixs[
```
```python
0
```
```python
][
```
```python
1
```
```python
]<<endl;
```
```python
//第二次遍历矩阵，统计有几个1，并赋值
```
```python
for
```
```python
(
```
```python
int
```
```python
i=
```
```python
0
```
```python
;i<m;i++)
```
```python
for
```
```python
(
```
```python
int
```
```python
j=
```
```python
0
```
```python
;j<n;j++)
            {
```
```python
if
```
```python
(matrixs[i][j]==
```
```python
1
```
```python
)
                {
                    num1++;
                    matrixs[i][j] = num1;
                }
            }
```
```python
//第三次遍历，寻找大小为2的连通分量，并存储到数组里
```
```python
for
```
```python
(
```
```python
int
```
```python
i=
```
```python
0
```
```python
;i<m;i++)
```
```python
for
```
```python
(
```
```python
int
```
```python
j=
```
```python
0
```
```python
;j<n;j++)
            {
```
```python
if
```
```python
(matrixs[i][j]==
```
```python
0
```
```python
)
```
```python
continue
```
```python
;
```
```python
else
```
```python
{
                    tmp[
```
```python
1
```
```python
] = matrixs[i][j];
```
```python
if
```
```python
(matrixs[i][max(j-
```
```python
1
```
```python
,
```
```python
0
```
```python
)]!=
```
```python
0
```
```python
)
                    {
                        tmp[
```
```python
0
```
```python
] =matrixs[i][max(j-
```
```python
1
```
```python
,
```
```python
0
```
```python
)];
                        res.push_back(tmp);
                    }
```
```python
if
```
```python
(matrixs[max(i-
```
```python
1
```
```python
,
```
```python
0
```
```python
)][j]!=
```
```python
0
```
```python
)
                    {
                        tmp[
```
```python
0
```
```python
] =matrixs[max(i-
```
```python
1
```
```python
,
```
```python
0
```
```python
)][j];
                        res.push_back(tmp);
                    }
```
```python
if
```
```python
(matrixs[i][max(j-
```
```python
1
```
```python
,
```
```python
0
```
```python
)]==
```
```python
0
```
```python
&&matrixs[max(i-
```
```python
1
```
```python
,
```
```python
0
```
```python
)][j]==
```
```python
0
```
```python
)
                    {
                        tmp[
```
```python
0
```
```python
] =matrixs[i][j];
                        res.push_back(tmp);  
                    }

                }
            }
```
```python
vector
```
```python
<
```
```python
int
```
```python
>
```
```python
M(num1+
```
```python
1
```
```python
);
```
```python
for
```
```python
(
```
```python
int
```
```python
i=
```
```python
0
```
```python
;i<num1+
```
```python
1
```
```python
;i++)
            M[i] = i;
```
```python
for
```
```python
(
```
```python
auto
```
```python
item:res)
        {
```
```python
int
```
```python
p = item[
```
```python
0
```
```python
];
```
```python
int
```
```python
q = item[
```
```python
1
```
```python
];
```
```python
while
```
```python
(p!=M[p])
                p = M[p];
```
```python
while
```
```python
(q!=M[q])
                q = M[q];
```
```python
if
```
```python
(p!=q)
            {
                M[q] = p;
                num1--;
            }

        }
```
```python
return
```
```python
num1;
    }
};
```

