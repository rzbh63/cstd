# 常用网络命令





------

## ping命令

**特点:**

- ping命令只有在安装了TCP/IP协议以后才可以使用
- 运行ping命令以后，在返回的黑屏幕窗口中会返回对方客户机的IP地址和表明ping通对方的时间，如果出现信息“Reply from ...”，则说明能与对方连通；如果出现信息“Request timeout ...”，则说明不能与对方连通
- 按照缺省设置，每发出一个ping命令就向对方发送4个网间控制报文协议ICMP的回送请求,如果网络正常,发送方应该得到4个回送的应答

**作用:**

- 利用ping命令可以排除网卡,Modem,电缆和路由器等存在的故障
- ping命令是用于检测网络连接性,可到达性和名称解析等疑难问题的TCP/IP 命令.根据返回的信息,可以推断TCP/IP参数的设置是否正确以及TCP/IP协议运行是否正常.
- ping命令发出后得到以毫秒或者毫微秒为单位的应答时间,这个时间越短就表示数据路由畅通；反之则说明网络连接不够畅通
- ping命令显示的TTL(Time To Live 存在时间)值,可以推算出数据包通过了多少个路由器.因此用ping命令来测试两台计算机是否连通非常有效
- 如果ping不成功,则可以认为故障出现在以下几个方面：网线、网卡、IP地址

**格式:**

**ping [-t] [-a] [-n Count] [-l Size] [-f] [-i TTL] [-v TOS] [-r Count] [-s Count] [[-j HostList]|[-k HostList]] [-w Timeout] TargetName**

**参数说明:**

- **-t** 指定在中断前ping命令可以持续发送回送请求信息到目的地.按下CTRL+BREAK键中断并显示统计信息，或按下CTRL+C中断并退出ping
- **-a** 指定对目的IP地址进行反向名称解析.如果解析成功,ping命令将显示相应的主机名
- **-n** Count 指定发送回送请求信息的次数,默认值为 4
- **-l** Size 指定发送的回送请求信息中“数据”字段的长度（以字节表示）,默认值为 32.Size 的最大取值是 65527
- **-f** 指定发送的回送请求信息带有“不要拆分”标志(所在的IP数据报头部标志位设为 1).回送请求信息不能由目的地路径上的路由器进行拆分.该参数可用于检测并解决“路径最大传输单位 (PMTU)”的故障
- **-i** TTL 指定发送回送请求信息的 IP 报头中的 TTL 字段值,其默认值是32.TTL 的最大值是 255
- **-v** TOS 指定发送回送请求信息的 IP 报头中的“服务类型 (TOS)”字段值,默认值是 0.TOS 被指定的范围为 0 ～ 255
- **-r** Count 指定 IP 报头中的“记录路由”选项用于记录由回送请求信息和相应的回送应答信息使用的路径.路径中的每个跃点都使用“记录路由”字段中的一个值.如果可能,可以指定一个等于或大于来源地和目的地之间跃点数的 Count.Count 的最小值为 1,最大值为 9
- **-s** Count 指定 IP 报头中的“Internet时间戳”选项用于记录每个跃点的回送请求信息和相应的回送应答信息的到达时间.Count 的最小值为 1,最大值为 4
- **-j** HostList 指定回送请求信息对于在 HostList 中指明的中间目标集使用 IP 报头中的“松散源路由”选项.主机列表中的地址或名称的最大数为 9,主机列表是一系列由空格分开的 IP 地址
- **-k** HostList 指定回送请求信息对于在 HostList 中指明的中间目标集使用 IP 报头中的“严格源路由”选项.使用严格源路由,下一个中间目的地必须是直接可达的(必须是路由器接口上的邻居).主机列表中的地址或名称的最大数为 9,主机列表是一系列由空格分开的 IP 地址
- **-w** Timeout 指定等待回送应答信息响应的时间(以微妙为单位)，该回送应答信息响应接收到的指定回送请求信息.如果在超时时间内未达到接收到回送应答信息，将会显示“请求超时”的错误信息.默认的超时时间为 4000毫秒(4秒
- **TargetName** 指定目标,可以是 IP 地址或主机名

------

## tracert命令

**特点:**

tracert命令通过递增“生存时间 (TTL)”字段的值将“ICMP 回送请求”报文发送给目标主机,从而确定到达目标主机的路径.所显示的路径是源主机与目标主机间路径上的路由器的近侧接口列表.近侧接口是距离路径中的发送主机最近的路由器的接口

**作用:**

tracert命令用来显示数据包到达目标主机所经过的路径,并显示到达每个节点的时间.该命令比较适用于大型网络

**格式:**

**tracert [-d] [-h MaximumHops] [-j HostList] [-w Timeout] TargetName**

**参数说明:**

- **-d**	防止tracert试图将中间路由器的 IP 地址解析为它们的名称。这样可加速显示tracert的结果
- **-h** MaximumHops	指定在搜索目标的路径中跃点的最大数,默认值为 30
- **-j** HostList	指定回送请求信息对于在 HostList 中指明的中间目标集使用 IP 报头中的“松散源路由”选项.主机列表中的地址或名称的最大数为 9,主机列表是一系列由空格分开的 IP 地址
- **-w** Timeout	指定等待“ICMP 已超时”或“回送应答”信息的时间(以毫秒为单位).如果在超时时间内未收到信息,则显示一个星号 (*).默认的超时时间为 4000毫秒(4 秒)
- **TargetName**	指定目标，可以是 IP 地址或主机名

------

## netstat命令

**作用:**

- 帮助网络管理员了解网络的整体使用情况.它可以显示当前正在活动的网络连接的详细信息,可以统计目前总共有哪些网络连接正在运行
- 可以显示活动的 TCP 连接,计算机侦听的端口,以太网统计信息,IP 路由表,IPv4 统计信息（对于 IP、ICMP、TCP 和 UDP 协议）以及 IPv6 统计信息（对于 IPv6,ICMPv6,通过 IPv6 的 TCP 以及通过 IPv6 的 UDP 协议）.使用时如果不带参数,netstat命令显示活动的 TCP 连接

**格式:**

**netstat [-a] [-e] [-n] [-s] [-p protocol] [-r] [interval]**

**参数说明:**

- **-a**	显示所有有效连接的信息,包括已建立的连接(ESTABLISHED),也包括监听连接请求（LISTENING）的那些连接,以及计算机侦听的 TCP 和 UDP 端口
- **-e**	显示关于以太网的统计数据.它列出的项目包括传送的数据报的总字节数、错误数、删除数、数据报的数量和广播的数量.这些数据既有发送的数据报数量,也有接收的数据报数量.该选项可以用来统计一些基本的网络流量,并可以与选项 -s 结合使用
- **-n**	显示所有已建立的有效的TCP连接.但是，只以数字形式表现地址和端口号,却不尝试确定名称
- **-s**	分别显示各个协议的统计数据.默认情况下,显示 TCP、UDP和IP 协议的统计信息.如果应用程序（如Web浏览器）运行比较慢,或者不能显示Web页之类的数据,我们就可以使用该选项来查看一下所显示的信息.可以使用选项 -p指定协议集
- **-p	Protocol** 显示 Protocol 所指定的协议的连接.在这种情况下,Protocol 可以是 TCP或UDP。如果该选项与选项 -s 一起使用来显示协议的统计信息,则 Protocol 可以是TCP、UDP或 IP
- **-r**	显示本机路由表的信息
- **Interval**	每隔 Interval 秒重新显示一次选定的信息.按 CTRL+C 停止重新显示统计信息.如果省略该参数.netstat将只打印一次选定的信息

------

## ipconfig命令

**作用:**

ipconfig命令可用于显示当前所有的 TCP/IP 网络配置值,这些信息一般用来检验人工配置的TCP/IP设置是否正确。另外,ipconfig还可以刷新动态主机配置协议 (DHCP) 和域名系统 (DNS) 的设置.使用不带参数的ipconfig命令可以显示所有适配器的 IP 地址、子网掩码和默认网关

**格式:**

**ipconfig [/all] [/renew [Adapter]] [/release [Adapter]] [/flushdns] [/displaydns] [/registerdns] [/showclassid Adapter] [/setclassid Adapter [ClassID]]**

**参数说明:**

- /all	显示所有适配器的完整 TCP/IP 配置信息.在没有该参数的情况下ipconfig只显示 IP 地址、子网掩码和各个适配器的默认网关值.适配器可以代表物理接口（例如安装的网络适配器）或逻辑接口（例如拨号连接）
- /renew [Adapter]	更新所有适配器（不带Adapter参数），或特定适配器（带有Adapter 参数）的 DHCP 配置。该参数仅在具有配置为自动获取 IP 地址的网卡的计算机上使用.要指定适配器名称,请键入使用不带参数的ipconfig命令显示的适配器名称
- /release [Adapter]	发送 DHCPRELEASE 消息到 DHCP 服务器,以释放所有适配器（不带Adapter 参数）或特定适配器（带有Adapter 参数）的当前 DHCP 配置并丢弃 IP 地址配置.该参数可以禁用配置为自动获取 IP 地址的适配器的 TCP/IP.要指定适配器名称,请键入使用不带参数的ipconfig命令显示的适配器名称
- /flushdns	清理并重设 DNS 客户解析器缓存的内容.如有必要,在 DNS 疑难解答期间,可以使用该选项从缓存中丢弃否定性缓存记录和任何其它动态添加的记录
- /displaydns	显示 DNS 客户解析器缓存的内容，包括从本地主机文件预装载的记录以及由计算机解析的名称查询而最近获得的任何资源记录.DNS 客户服务在查询配置的 DNS 服务器之前使用这些信息快速解析被频繁查询的名称
- /registerdns	初始化计算机上配置的 DNS 名称和 IP 地址的手工动态注册.可以使用该参数对失败的 DNS 名称注册进行疑难解答或解决客户和 DNS 服务器之间的动态更新问题,而不必重新启动客户计算机.TCP/IP 协议高级属性中的 DNS 设置可以确定 DNS 中注册了哪些名称
- /showclassid Adapter	显示指定适配器的 DHCP 类别 ID.要查看所有适配器的 DHCP 类别 ID,可以使用星号 (*) 通配符代替 Adapter.该参数仅在具有配置为自动获取 IP 地址的网卡的计算机上使用
- /setclassid Adapter [ClassID]	配置特定适配器的 DHCP 类别 ID.要设置所有适配器的 DHCP 类别 ID,可以使用星号(*)通配符代替 Adapter.该参数仅在具有配置为自动获取 IP 地址的网卡的计算机上使用.如果未指定 DHCP 类别 ID,则会删除当前类别 ID

------

## net命令

**作用:**

net指令的功能非常强大,在网络安全领域通常用来查看计算机上的用户列表,添加和删除用户,与对方计算机建立连接,启动或者停止某网络服务等

------

## at命令

**作用:**

使用at命令建立一个计划任务,并设置在某一个时刻执行,但是必须首先与对方建立信任连接,比如知道对方计算机的洗头管理员密码是123456,需要在对方计算机上建立一个任务计划.首先与对方计算机建立信任连接





标签: [网络](https://www.cnblogs.com/kzang/tag/%E7%BD%91%E7%BB%9C/)