
# 2015级C++第10、11周程序阅读 继承和派生 - 迂者-贺利坚的专栏 - CSDN博客

2016年04月27日 15:28:38[迂者-贺利坚](https://me.csdn.net/sxhelijian)阅读数：2617


阅读程序，请写出这些程序的运行结果
（1）阅读程序，写出执行结果
```python
#include <iostream>
```
```python
using
```
```python
namespace std;
class Data
{
```
```python
public
```
```python
:
```
```python
Data
```
```python
(
```
```python
int
```
```python
i):
```
```python
x
```
```python
(i){cout<<
```
```python
"A"
```
```python
;}
    ~Data(){ cout<<
```
```python
"B"
```
```python
;}
```
```python
private
```
```python
:
```
```python
int
```
```python
x;
};
class Base
{
```
```python
public
```
```python
:
```
```python
Base
```
```python
(
```
```python
int
```
```python
i):
```
```python
b1
```
```python
(i){cout<<
```
```python
"C"
```
```python
;}
    ~Base(){ cout<<
```
```python
"D"
```
```python
;}
```
```python
private
```
```python
:
```
```python
int
```
```python
b1;
};
class Derived:
```
```python
public
```
```python
Base
{
```
```python
public
```
```python
:
```
```python
Derived
```
```python
(
```
```python
int
```
```python
i,
```
```python
int
```
```python
j):
```
```python
Base
```
```python
(i),
```
```python
d1
```
```python
(j){
        cout<<
```
```python
"E"
```
```python
;
    }
    ~Derived(){cout<<
```
```python
"F"
```
```python
;}
```
```python
private
```
```python
:
    Data d1;
};
```
```python
int
```
```python
main()
{
    Derived obj(
```
```python
1
```
```python
,
```
```python
2
```
```python
);
```
```python
return
```
```python
0
```
```python
;
}
```
（2）阅读程序，写出执行结果
```python
#include <iostream>
```
```python
using
```
```python
namespace std;
class A
{
```
```python
public
```
```python
:
```
```python
A
```
```python
(){a=
```
```python
0
```
```python
;}
    A (
```
```python
int
```
```python
i){a=i;}
```
```python
void
```
```python
print(){cout<<a<<
```
```python
"  "
```
```python
;}
```
```python
private
```
```python
:
```
```python
int
```
```python
a;
};
class B:
```
```python
public
```
```python
A
{
```
```python
public
```
```python
:
```
```python
B
```
```python
(){b=
```
```python
0
```
```python
;}
    B(
```
```python
int
```
```python
i,
```
```python
int
```
```python
j,
```
```python
int
```
```python
k): A(i),aa(j){b=k;}
```
```python
//思考：这3处出现的print，有何区别
```
```python
void
```
```python
print()
```
```python
//(1)
```
```python
{
        A::print();
```
```python
//(2)
```
```python
aa.print();
```
```python
//(3)
```
```python
cout<<b<<endl;
    }
```
```python
private
```
```python
:
```
```python
int
```
```python
b;
    A aa;
};
```
```python
int
```
```python
main()
{
    B test[
```
```python
2
```
```python
];
    test[
```
```python
0
```
```python
]=B(
```
```python
1
```
```python
,
```
```python
4
```
```python
,
```
```python
7
```
```python
);
    test[
```
```python
1
```
```python
]=B(
```
```python
2
```
```python
,
```
```python
5
```
```python
,
```
```python
8
```
```python
);
```
```python
for
```
```python
(
```
```python
int
```
```python
i=
```
```python
0
```
```python
; i<
```
```python
2
```
```python
; i++)
        test[i].print();
```
```python
return
```
```python
0
```
```python
;
}
```
（3）阅读程序，写出执行结果
```python
#include <iostream>
```
```python
using
```
```python
namespace std;
class A
{
```
```python
public
```
```python
:
```
```python
A
```
```python
(
```
```python
char
```
```python
*s){cout<<s<<endl;}
};
class B:
```
```python
public
```
```python
A
{
```
```python
public
```
```python
:
```
```python
B
```
```python
(
```
```python
char
```
```python
*s1,
```
```python
char
```
```python
*s2):
```
```python
A
```
```python
(s1){
        cout<<s2<<endl;
    }
};
class C:
```
```python
public
```
```python
A
{
```
```python
public
```
```python
:
```
```python
C
```
```python
(
```
```python
char
```
```python
*s1,
```
```python
char
```
```python
*s2):
```
```python
A
```
```python
(s1){
        cout<<s2<<endl;
    }
};
class D:
```
```python
public
```
```python
B, C
{
```
```python
public
```
```python
:
```
```python
D
```
```python
(
```
```python
char
```
```python
*s1,
```
```python
char
```
```python
*s2,
```
```python
char
```
```python
*s3,
```
```python
char
```
```python
*s4):
```
```python
B
```
```python
(s1,s2),
```
```python
C
```
```python
(s3,s4){cout<<s4<<endl;}
};
```
```python
int
```
```python
main()
{
    D d(
```
```python
"class A"
```
```python
,
```
```python
"class B"
```
```python
,
```
```python
"class C"
```
```python
,
```
```python
"class D"
```
```python
);
```
```python
return
```
```python
0
```
```python
;
}
```
（4）阅读程序，写出执行结果
```python
#include <iostream>
```
```python
using
```
```python
namespace std;
class Base
{
```
```python
public
```
```python
:
```
```python
Base
```
```python
(
```
```python
char
```
```python
i) { cout<<
```
```python
"Base constructor. --"
```
```python
<<i<<endl; }
};
class Derived1:
```
```python
virtual
```
```python
public
```
```python
Base
{
```
```python
public
```
```python
:
```
```python
Derived1
```
```python
(
```
```python
char
```
```python
i,
```
```python
char
```
```python
j):
```
```python
Base
```
```python
(i){
        cout<<
```
```python
"Derived1 constructor. --"
```
```python
<<j<<endl;
    }
};
class Derived2:
```
```python
virtual
```
```python
public
```
```python
Base
{
```
```python
public
```
```python
:
```
```python
Derived2
```
```python
(
```
```python
char
```
```python
i,
```
```python
char
```
```python
j):
```
```python
Base
```
```python
(i){
        cout<<
```
```python
"Derived2 constructor. --"
```
```python
<<j<<endl;
    }
};
class MyDerived:
```
```python
public
```
```python
Derived1,
```
```python
public
```
```python
Derived2
{
```
```python
public
```
```python
:
```
```python
MyDerived
```
```python
(
```
```python
char
```
```python
i,
```
```python
char
```
```python
j,
```
```python
char
```
```python
k,
```
```python
char
```
```python
l,
```
```python
char
```
```python
m,
```
```python
char
```
```python
n,
```
```python
char
```
```python
x):
```
```python
Derived2
```
```python
(i,j),
```
```python
Derived1
```
```python
(k,l),
```
```python
Base
```
```python
(m),
```
```python
d
```
```python
(n){
        cout<<
```
```python
"MyDerived constructor. --"
```
```python
<<x<<endl;
    }
```
```python
private
```
```python
:
    Base d;
};
```
```python
int
```
```python
main()
{
    MyDerived obj(
```
```python
'A'
```
```python
,
```
```python
'B'
```
```python
,
```
```python
'C'
```
```python
,
```
```python
'D'
```
```python
,
```
```python
'E'
```
```python
,
```
```python
'F'
```
```python
,
```
```python
'G'
```
```python
);
```
```python
return
```
```python
0
```
```python
;
}
```
（5）阅读下面类的定义，请说出在测试函数中不同情况的调用产生的结果
```python
#include <iostream>
```
```python
using
```
```python
namespace std;
class A
{
```
```python
protected
```
```python
:
```
```python
int
```
```python
a,b;
```
```python
public
```
```python
:
```
```python
A
```
```python
(
```
```python
int
```
```python
aa,
```
```python
int
```
```python
bb):
```
```python
a
```
```python
(aa),
```
```python
b
```
```python
(bb) {}
```
```python
void
```
```python
printA(){
        cout<<
```
```python
"a: "
```
```python
<<a<<
```
```python
"\tb: "
```
```python
<<b<<endl;
    }
};
class B:
```
```python
public
```
```python
A
{
```
```python
int
```
```python
c;
```
```python
public
```
```python
:
```
```python
B
```
```python
(
```
```python
int
```
```python
aa,
```
```python
int
```
```python
bb,
```
```python
int
```
```python
cc):
```
```python
A
```
```python
(aa,bb),
```
```python
c
```
```python
(cc) {}
```
```python
void
```
```python
printB()
    {
       cout<<
```
```python
"a: "
```
```python
<<a<<
```
```python
"\tb: "
```
```python
<<b<<
```
```python
"\tc: "
```
```python
<<c<<endl;
    }
};
```
```python
int
```
```python
main()
{
    A a(
```
```python
1
```
```python
,
```
```python
1
```
```python
);
    B b(
```
```python
2
```
```python
,
```
```python
3
```
```python
,
```
```python
4
```
```python
);
```
```python
//此处加入下面各小题中的代码
```
```python
return
```
```python
0
```
```python
;
}
```
（a）
```python
a=b
```
```python
;
```
```python
a
```
```python
.printA
```
```python
()
```
```python
;
```
```python
b
```
```python
.printA
```
```python
()
```
```python
;
```
```python
b
```
```python
.printB
```
```python
()
```
```python
;
```
你认为输出结果是：**____________**
运行程序的结果是：**____________**
（b）
```python
b=a
```
```python
;
```
```python
a
```
```python
.printA
```
```python
()
```
```python
;
```
```python
b
```
```python
.printA
```
```python
()
```
```python
;
```
```python
b
```
```python
.printB
```
```python
()
```
```python
;
```
程序会发生编译错误，原因是：**____**
记录下IDE中提示的错误并理解：**___**
（c）
```python
A &
```
```python
r1
```
```python
=a
```
```python
;
```
```python
A &
```
```python
r2
```
```python
=b
```
```python
;
```
```python
r1
```
```python
.printA
```
```python
()
```
```python
;
```
```python
r2
```
```python
.printA
```
```python
()
```
```python
;
```
```python
r2
```
```python
.printB
```
```python
()
```
```python
;
```
将会发生错误的一行删除；
对余下的程序，你认为输出是：**____**
实际运行的输出是：**__________**
那一行的错误原因是：**________**
（d）
```python
A
```
```python
*p=&a;
    p->printA();
    p=&b;
    p->printA();
    p->printB();
```
将会发生错误的一行删除；
对余下的程序，你认为输出是：**____**
实际运行的输出是：**__________**
那一行的错误原因是：**________**
（e）
在class A中增加成员函数：`int getA(){return a;}`
在main函数前增加一般函数：
```python
void
```
```python
f(A x)
{
```
```python
cout
```
```python
<<
```
```python
"aaaaah, my a: "
```
```python
<<x.getA()<<endl;
}
```
main函数中指定部分为：
```python
f(a)
```
```python
;
```
```python
f(b)
```
```python
;
```
你认为输出结果是：**____________**
运行程序的结果是：**____________**

