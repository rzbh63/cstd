
# 数据库设计三范式 - wangzhiguo9261的博客 - CSDN博客


2018年07月11日 16:25:07[码里偷闲王果果](https://me.csdn.net/wangzhiguo9261)阅读数：38个人分类：[MySQL](https://blog.csdn.net/wangzhiguo9261/article/category/7454395)


标准化表示从你的数据存储中移去数据冗余(redundancy)的过程。如果数据库设计达到了完全的标准化，则把所有的表通过关键字连接在一起时，不会出现任何数据的复本(repetition)。标准化的优点是明显的，它避免了数据冗余，自然就节省了空间，也对数据的一致性(consistency)提供了根本的保障，杜绝了数据不一致的现象，同时也提高了效率。
第一范式（1NF;The First Normal Form）
第一范式是最低的规范化要求，第一范式要求数据表不能存在重复的记录，即存在一个关键字。1NF的第二个要求是每个字段都不可再分，即已经分到最小，关系数据库的定义就决定了数据库满足这一条。主关键字达到下面几个条件：
1． 主关键字段在表中是唯一的
2． 主关键字段中没有复本
3． 主关键字段不能存在空值
4． 每条记录都必须有一个主关键字
5． 主关键字是关键字的最小子集
例如，如下的数据库表是符合第一范式的：
|字段1
|字段2
|字段3
|字段4
|


|
而这样的数据库表是不符合第一范式的：
|字段1
|字段2
|字段3
|字段4
|

|字段3.1
|字段3.2
|

第二范式（The Second Normal Form）
定义：如果一个关系属于1NF，且所有的非主关键字段都完全地依赖于主关键字，则称之为第二范式，简记为2NF。
假定选课关系表为SelectCourse(学号, 姓名, 年龄, 课程名称, 成绩, 学分)，关键字为组合关键字(学号, 课程名称)，因为存在如下决定关系：
(学号, 课程名称) → (姓名, 年龄, 成绩, 学分)
这个数据库表不满足第二范式，因为存在如下决定关系：
(课程名称) → (学分)
(学号) → (姓名, 年龄)
方法是从关系中分解出新的二维表，是每个二维表中所有的非关键字都完全依赖于各自的主关键字。
由于不符合2NF，这个选课关系表会存在如下问题：
(1) 数据冗余：
同一门课程由n个学生选修，"学分"就重复n-1次；同一个学生选修了m门课程，姓名和年龄就重复了m-1次。
(2) 更新异常：
若调整了某门课程的学分，数据表中所有行的"学分"值都要更新，否则会出现同一门课程学分不同的情况。
(3) 插入异常：
假设要开设一门新的课程，暂时还没有人选修。这样，由于还没有"学号"关键字，课程名称和学分也无法记录入数据库。
(4) 删除异常：
假设一批学生已经完成课程的选修，这些选修记录就应该从数据库表中删除。但是，与此同时，课程名称和学分信息也被删除了。很显然，这也会导致插入异常。
第三范式（The Third Normal Form）
定义：如果一个关系属于2NF，且每个非关键字不传递依赖于主关键字，这种关系是3NF。
假定学生关系表为Student(学号, 姓名, 年龄, 所在学院, 学院地点, 学院电话)，关键字为单一关键字"学号"，因为存在如下决定关系：
(学号) → (姓名, 年龄, 所在学院, 学院地点, 学院电话)
这个数据库是符合2NF的，但是不符合3NF，因为存在如下决定关系：
(学号) → (所在学院) → (学院地点, 学院电话)
即存在非关键字段"学院地点"、"学院电话"对关键字段"学号"的传递函数依赖。
它也会存在数据冗余、更新异常、插入异常和删除异常的情况，读者可自行分析得知。
把学生关系表分为如下两个表：
学生：(学号, 姓名, 年龄, 所在学院)；
学院：(学院, 地点, 电话)。
这样的数据库表是符合第三范式的，消除了数据冗余、更新异常、插入异常和删除异常。


