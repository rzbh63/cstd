
# 汇编程序：显示时间（分秒） - 迂者-贺利坚的专栏 - CSDN博客

2017年05月27日 22:27:25[迂者-贺利坚](https://me.csdn.net/sxhelijian)阅读数：1547


【任务】
编程序，访问CMOS RAM，在屏幕最左上角，动态显示当前分、秒。
【参考程序】
```python
assume cs:code
code segment
```
```python
start:
```
```python
mov
```
```python
al,
```
```python
2
```
```python
;分
```
```python
out
```
```python
70
```
```python
h,al
```
```python
in
```
```python
al,
```
```python
71
```
```python
h
```
```python
mov
```
```python
ah,al
```
```python
mov
```
```python
cl,
```
```python
4
```
```python
shr ah,cl
```
```python
and
```
```python
al,
```
```python
00001111
```
```python
b
```
```python
add
```
```python
ah,
```
```python
30
```
```python
h
```
```python
add
```
```python
al,
```
```python
30
```
```python
h
```
```python
mov
```
```python
bx,
```
```python
0
```
```python
b800h
```
```python
mov
```
```python
es,bx
```
```python
mov
```
```python
byte ptr es:[
```
```python
0
```
```python
],ah
```
```python
mov
```
```python
byte ptr es:[
```
```python
1
```
```python
],
```
```python
01001111
```
```python
b
```
```python
mov
```
```python
byte ptr es:[
```
```python
2
```
```python
],al
```
```python
mov
```
```python
byte ptr es:[
```
```python
3
```
```python
],
```
```python
01001111
```
```python
b
```
```python
mov
```
```python
byte ptr es:[
```
```python
4
```
```python
],
```
```python
':'
```
```python
mov
```
```python
byte ptr es:[
```
```python
5
```
```python
],
```
```python
01001111
```
```python
b
```
```python
mov
```
```python
al,
```
```python
0
```
```python
;秒
```
```python
out
```
```python
70
```
```python
h,al
```
```python
in
```
```python
al,
```
```python
71
```
```python
h
```
```python
mov
```
```python
ah,al
```
```python
mov
```
```python
cl,
```
```python
4
```
```python
shr ah,cl
```
```python
and
```
```python
al,
```
```python
00001111
```
```python
b
```
```python
add
```
```python
ah,
```
```python
30
```
```python
h
```
```python
add
```
```python
al,
```
```python
30
```
```python
h
```
```python
mov
```
```python
bx,
```
```python
0
```
```python
b800h
```
```python
mov
```
```python
es,bx
```
```python
mov
```
```python
byte ptr es:[
```
```python
6
```
```python
],ah
```
```python
mov
```
```python
byte ptr es:[
```
```python
7
```
```python
],
```
```python
01001111
```
```python
b
```
```python
mov
```
```python
byte ptr es:[
```
```python
8
```
```python
],al
```
```python
mov
```
```python
byte ptr es:[
```
```python
9
```
```python
],
```
```python
01001111
```
```python
b
```
```python
jmp
```
```python
start
```
```python
mov
```
```python
ax,
```
```python
4
```
```python
c00h
      int
```
```python
21
```
```python
h
code ends
end start
```
【说明】
上述程序在功能、性能方面存在诸多不足，你可以以此为起点进行改造，做出更实用的程序。例如：
- 功能上的扩充：显示年月日，显示成汉字！
- 性能上，不要独立占CPU，想退出时能退出。
- 机制上，允许中断处理转做其他处理，用中断显示，而不是直接写显存……

