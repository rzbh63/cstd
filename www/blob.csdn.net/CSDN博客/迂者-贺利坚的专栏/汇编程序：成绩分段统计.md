
# 汇编程序：成绩分段统计 - 迂者-贺利坚的专栏 - CSDN博客

2017年05月12日 21:03:15[迂者-贺利坚](https://me.csdn.net/sxhelijian)阅读数：2327


【任务】
内存自BUF单元开始的缓冲区连续存放着100个学生的英文分数，编程序统计其中90～100、60～89、60以下者各有多少人？并把结果连续存放到自RESUT开始的单元中。
【参考解答1】
```python
assume ds:data, ss:stack, cs:code
 data segment
   buf db
```
```python
85
```
```python
,
```
```python
72
```
```python
,
```
```python
79
```
```python
,
```
```python
90
```
```python
,
```
```python
79
```
```python
,
```
```python
54
```
```python
,
```
```python
63
```
```python
,
```
```python
66
```
```python
,
```
```python
83
```
```python
,
```
```python
79
```
```python
,
```
```python
71
```
```python
,
```
```python
77
```
```python
,
```
```python
77
```
```python
,
```
```python
65
```
```python
,
```
```python
89
```
```python
,
```
```python
93
```
```python
db
```
```python
69
```
```python
,
```
```python
96
```
```python
,
```
```python
72
```
```python
,
```
```python
98
```
```python
,
```
```python
60
```
```python
,
```
```python
78
```
```python
,
```
```python
69
```
```python
,
```
```python
68
```
```python
,
```
```python
80
```
```python
,
```
```python
65
```
```python
,
```
```python
91
```
```python
,
```
```python
64
```
```python
,
```
```python
90
```
```python
,
```
```python
90
```
```python
,
```
```python
64
```
```python
,
```
```python
90
```
```python
db
```
```python
99
```
```python
,
```
```python
55
```
```python
,
```
```python
84
```
```python
,
```
```python
56
```
```python
,
```
```python
80
```
```python
,
```
```python
54
```
```python
,
```
```python
55
```
```python
,
```
```python
66
```
```python
,
```
```python
53
```
```python
,
```
```python
54
```
```python
,
```
```python
83
```
```python
,
```
```python
61
```
```python
,
```
```python
52
```
```python
,
```
```python
92
```
```python
,
```
```python
66
```
```python
,
```
```python
51
```
```python
db
```
```python
95
```
```python
,
```
```python
81
```
```python
,
```
```python
51
```
```python
,
```
```python
100
```
```python
,
```
```python
70
```
```python
,
```
```python
65
```
```python
,
```
```python
50
```
```python
,
```
```python
74
```
```python
,
```
```python
91
```
```python
,
```
```python
57
```
```python
,
```
```python
95
```
```python
,
```
```python
66
```
```python
,
```
```python
54
```
```python
,
```
```python
50
```
```python
,
```
```python
73
```
```python
,
```
```python
59
```
```python
db
```
```python
78
```
```python
,
```
```python
80
```
```python
,
```
```python
92
```
```python
,
```
```python
78
```
```python
,
```
```python
89
```
```python
,
```
```python
78
```
```python
,
```
```python
99
```
```python
,
```
```python
100
```
```python
,
```
```python
82
```
```python
,
```
```python
92
```
```python
,
```
```python
59
```
```python
,
```
```python
71
```
```python
,
```
```python
74
```
```python
,
```
```python
81
```
```python
,
```
```python
93
```
```python
,
```
```python
74
```
```python
db
```
```python
98
```
```python
,
```
```python
57
```
```python
,
```
```python
57
```
```python
,
```
```python
96
```
```python
,
```
```python
76
```
```python
,
```
```python
79
```
```python
,
```
```python
57
```
```python
,
```
```python
67
```
```python
,
```
```python
52
```
```python
,
```
```python
84
```
```python
,
```
```python
87
```
```python
,
```
```python
54
```
```python
,
```
```python
67
```
```python
,
```
```python
72
```
```python
,
```
```python
59
```
```python
,
```
```python
75
```
```python
db
```
```python
64
```
```python
,
```
```python
89
```
```python
,
```
```python
77
```
```python
,
```
```python
80
```
```python
resut db
```
```python
3
```
```python
dup(
```
```python
0
```
```python
)
data ends
stack segment stack
     db
```
```python
100
```
```python
H dup(
```
```python
0
```
```python
)
stack ends
code segment
```
```python
start:
```
```python
mov
```
```python
ax, data
```
```python
mov
```
```python
ds, ax
```
```python
mov
```
```python
es, ax
```
```python
mov
```
```python
ax, stack
```
```python
mov
```
```python
ss, ax
```
```python
mov
```
```python
sp,
```
```python
100
```
```python
H
```
```python
mov
```
```python
bx,
```
```python
0
```
```python
mov
```
```python
cx,
```
```python
100
```
```python
ao:
```
```python
mov
```
```python
al, buf[bx]
       cmp al,
```
```python
90
```
```python
jl l60
```
```python
inc
```
```python
[resut]
```
```python
;90-100的人数
```
```python
jmp
```
```python
com
```
```python
l60: cmp al,
```
```python
60
```
```python
jge k8960
```
```python
inc
```
```python
[resut+
```
```python
2
```
```python
]
```
```python
;60以下
```
```python
jmp
```
```python
com
```
```python
k8960:
```
```python
inc
```
```python
[resut+
```
```python
1
```
```python
]
```
```python
;60-89
```
```python
com
```
```python
:
```
```python
inc
```
```python
bx
       loop ao
```
```python
mov
```
```python
ax,
```
```python
4
```
```python
c00h
       int
```
```python
21
```
```python
h
code ends
     end start
```
【参考解答2】
```python
assume ds:data, ss:stack, cs:code
 data segment
   buf db
```
```python
85
```
```python
,
```
```python
72
```
```python
,
```
```python
79
```
```python
,
```
```python
90
```
```python
,
```
```python
79
```
```python
,
```
```python
54
```
```python
,
```
```python
63
```
```python
,
```
```python
66
```
```python
,
```
```python
83
```
```python
,
```
```python
79
```
```python
,
```
```python
71
```
```python
,
```
```python
77
```
```python
,
```
```python
77
```
```python
,
```
```python
65
```
```python
,
```
```python
89
```
```python
,
```
```python
93
```
```python
db
```
```python
69
```
```python
,
```
```python
96
```
```python
,
```
```python
72
```
```python
,
```
```python
98
```
```python
,
```
```python
60
```
```python
,
```
```python
78
```
```python
,
```
```python
69
```
```python
,
```
```python
68
```
```python
,
```
```python
80
```
```python
,
```
```python
65
```
```python
,
```
```python
91
```
```python
,
```
```python
64
```
```python
,
```
```python
90
```
```python
,
```
```python
90
```
```python
,
```
```python
64
```
```python
,
```
```python
90
```
```python
db
```
```python
99
```
```python
,
```
```python
55
```
```python
,
```
```python
84
```
```python
,
```
```python
56
```
```python
,
```
```python
80
```
```python
,
```
```python
54
```
```python
,
```
```python
55
```
```python
,
```
```python
66
```
```python
,
```
```python
53
```
```python
,
```
```python
54
```
```python
,
```
```python
83
```
```python
,
```
```python
61
```
```python
,
```
```python
52
```
```python
,
```
```python
92
```
```python
,
```
```python
66
```
```python
,
```
```python
51
```
```python
db
```
```python
95
```
```python
,
```
```python
81
```
```python
,
```
```python
51
```
```python
,
```
```python
100
```
```python
,
```
```python
70
```
```python
,
```
```python
65
```
```python
,
```
```python
50
```
```python
,
```
```python
74
```
```python
,
```
```python
91
```
```python
,
```
```python
57
```
```python
,
```
```python
95
```
```python
,
```
```python
66
```
```python
,
```
```python
54
```
```python
,
```
```python
50
```
```python
,
```
```python
73
```
```python
,
```
```python
59
```
```python
db
```
```python
78
```
```python
,
```
```python
80
```
```python
,
```
```python
92
```
```python
,
```
```python
78
```
```python
,
```
```python
89
```
```python
,
```
```python
78
```
```python
,
```
```python
99
```
```python
,
```
```python
100
```
```python
,
```
```python
82
```
```python
,
```
```python
92
```
```python
,
```
```python
59
```
```python
,
```
```python
71
```
```python
,
```
```python
74
```
```python
,
```
```python
81
```
```python
,
```
```python
93
```
```python
,
```
```python
74
```
```python
db
```
```python
98
```
```python
,
```
```python
57
```
```python
,
```
```python
57
```
```python
,
```
```python
96
```
```python
,
```
```python
76
```
```python
,
```
```python
79
```
```python
,
```
```python
57
```
```python
,
```
```python
67
```
```python
,
```
```python
52
```
```python
,
```
```python
84
```
```python
,
```
```python
87
```
```python
,
```
```python
54
```
```python
,
```
```python
67
```
```python
,
```
```python
72
```
```python
,
```
```python
59
```
```python
,
```
```python
75
```
```python
db
```
```python
64
```
```python
,
```
```python
89
```
```python
,
```
```python
77
```
```python
,
```
```python
80
```
```python
resut db
```
```python
3
```
```python
dup(
```
```python
0
```
```python
)
data ends
stack segment stack
     db
```
```python
100
```
```python
H dup(
```
```python
0
```
```python
)
stack ends
code segment
```
```python
start:
```
```python
mov
```
```python
ax, data
```
```python
mov
```
```python
ds, ax
```
```python
mov
```
```python
es, ax
```
```python
mov
```
```python
ax, stack
```
```python
mov
```
```python
ss, ax
```
```python
mov
```
```python
sp,
```
```python
100
```
```python
H
       lea si, buf
```
```python
mov
```
```python
cx,
```
```python
100
```
```python
cld
    ao:lodsb
```
```python
;lodsb指令见后说明
```
```python
cmp al,
```
```python
90
```
```python
jl l60
```
```python
inc
```
```python
[resut]
```
```python
;90-100的人数
```
```python
jmp
```
```python
com
```
```python
l60: cmp al,
```
```python
60
```
```python
jge k8960
```
```python
inc
```
```python
[resut+
```
```python
2
```
```python
]
```
```python
;60以下
```
```python
jmp
```
```python
com
```
```python
k8960:
```
```python
inc
```
```python
[resut+
```
```python
1
```
```python
]
```
```python
;60-89
```
```python
com
```
```python
: loop ao
```
```python
mov
```
```python
ax,
```
```python
4
```
```python
c00h
       int
```
```python
21
```
```python
h
code ends
     end start
```
【指令说明】
汇编语言中，串操作指令LODSB/LODSW是块读出指令，其具体操作是把SI指向的存储单元读入累加器，其中LODSB是读入AL，LODSW是读入AX中,、，然后SI自动增加或减小1或2位。当方向标志位DF=0时，则SI自动增加；DF=1时，SI自动减小。
与LODSB/LODSW类似的，STOSB/STOSW是块写入指令，其具体操作是把累加器的内容写入到指向的存储单元中。其中STOSB是从AL中读入，STOSW是从AX中读入，然后SI自动增加或减小1或2位。当方向标志位DF=0时，则SI自动增加；DF=1时，SI自动减小。

