
# np transpose - 机器学习的小学生 - CSDN博客


2017年05月09日 15:22:02[机器学习的小学生](https://me.csdn.net/xuluhui123)阅读数：708


测试np中数组的转置操作:
```python
# coding=gbk
```
```python
'''
Created on 2017年5月9日
'''
```
```python
from
```
```python
scipy.misc.pilutil
```
```python
import
```
```python
*
```
```python
# read image
```
```python
import
```
```python
matplotlib.pyplot
```
```python
as
```
```python
plt
```
```python
# show image
```
```python
import
```
```python
numpy
```
```python
as
```
```python
np
```
```python
# 两个方法都用
```
```python
from
```
```python
numpy
```
```python
import
```
```python
*
```
```python
###############################################
```
```python
################## 二维数组 ######################
```
```python
arr = np.array([[
```
```python
1
```
```python
,
```
```python
2
```
```python
,
```
```python
3
```
```python
],[
```
```python
4
```
```python
,
```
```python
5
```
```python
,
```
```python
6
```
```python
]])
rows = arr.shape[
```
```python
0
```
```python
]
cols = arr.shape[
```
```python
1
```
```python
]
```
```python
print
```
```python
"rows： "
```
```python
, rows,
```
```python
"cols: "
```
```python
,cols
```
```python
# test python.numpy: rows major
```
```python
arr2 = np.reshape(arr,[
```
```python
1
```
```python
,arr.shape[
```
```python
0
```
```python
]*arr.shape[
```
```python
1
```
```python
]])
```
```python
print
```
```python
arr2
```
```python
# result: [1 2 3 4 5 6]
```
```python
################### 三维数组 ###########################
```
```python
arr_3d = np.array([[[
```
```python
1
```
```python
,
```
```python
2
```
```python
,
```
```python
3
```
```python
,
```
```python
4
```
```python
],[
```
```python
5
```
```python
,
```
```python
6
```
```python
,
```
```python
7
```
```python
,
```
```python
8
```
```python
]],[[
```
```python
9
```
```python
,
```
```python
10
```
```python
,
```
```python
11
```
```python
,
```
```python
12
```
```python
],[
```
```python
13
```
```python
,
```
```python
14
```
```python
,
```
```python
15
```
```python
,
```
```python
16
```
```python
]],[[
```
```python
17
```
```python
,
```
```python
18
```
```python
,
```
```python
19
```
```python
,
```
```python
20
```
```python
],[
```
```python
21
```
```python
,
```
```python
22
```
```python
,
```
```python
23
```
```python
,
```
```python
24
```
```python
]]])
```
```python
print
```
```python
arr_3d.shape
```
```python
# (3L,2L,4L)  (页,行,列),按行存储
```
```python
## reshpae
```
```python
arr_3d_reshape = arr_3d.reshape((
```
```python
1
```
```python
,arr_3d.shape[
```
```python
0
```
```python
]*arr_3d.shape[
```
```python
1
```
```python
]*arr_3d.shape[
```
```python
2
```
```python
]))
```
```python
print
```
```python
arr_3d_reshape
```
```python
# (1,24)
```
```python
arr_3d_tran = arr_3d.transpose((
```
```python
2
```
```python
,
```
```python
1
```
```python
,
```
```python
0
```
```python
)) 
arr_3d_tran_reshape = arr_3d_tran.reshape((
```
```python
1
```
```python
,arr_3d.shape[
```
```python
0
```
```python
]*arr_3d.shape[
```
```python
1
```
```python
]*arr_3d.shape[
```
```python
2
```
```python
]))
```
```python
print
```
```python
"arr_3d_tran_reshape : "
```
```python
,arr_3d_tran_reshape
```
```python
print
```
```python
arr_3d_tran.shape
```
```python
#(4L,2L,3L)
```
```python
print
```
```python
arr_3d_tran
```
```python
print
```
```python
arr_3d
```
```python
######################### 分析结果 #####################
```
```python
##########
```
```python
##########
```
```python
#######################################################
```
```python
######## 分析图像
```
```python
img = imread(
```
```python
"lena.jpg"
```
```python
)
```
```python
######################
```
```python
print
```
```python
img.shape
```
```python
# (512L,512L,3L)
```
```python
print
```
```python
type(img.shape)
```
```python
# tuple
```
```python
########################
```
```python
img_tran1 = img.transpose((
```
```python
2
```
```python
,
```
```python
1
```
```python
,
```
```python
0
```
```python
))
```
```python
# change (0,1,2) to (2,1,0)
```
```python
print
```
```python
img_tran1.shape
```
```python
#(3L,512L,512L)
```
```python
gray_img = img[:,:,
```
```python
0
```
```python
]

plt.subplot(
```
```python
1
```
```python
,
```
```python
2
```
```python
,
```
```python
1
```
```python
)
plt.imshow(gray_img)
plt.subplot(
```
```python
1
```
```python
,
```
```python
2
```
```python
,
```
```python
2
```
```python
)
plt.imshow(img_tran1[
```
```python
0
```
```python
,:,:])
plt.show()
```
```python
# 结论: 由 (512,513,3)，即 高*宽*通道,转换为 ：(3,512,512)，即 通道*宽*高
```
![这里写图片描述](https://img-blog.csdn.net/20170509152149932?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcmFieV9neWw=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)

