
# 2015级C++第10、11周实践项目 继承和派生 - 迂者-贺利坚的专栏 - CSDN博客

2016年04月27日 21:41:58[迂者-贺利坚](https://me.csdn.net/sxhelijian)阅读数：5479


【项目1 - 点-圆-圆柱类族的设计】[参考解答](http://blog.csdn.net/sxhelijian/article/details/51262626)
按以下的提示，由基类的设计和测试开始，逐渐地完成各个类的设计，求出圆格柱体的表面积、体积并输出并且完成要求的计算任务：
（1）先建立一个Point(点)类，包含数据成员x,y(坐标点)，实现需要的成员函数，并设计main函数完成测试；
（2）以Point为基类，派生出一个Circle(圆)类，增加数据成员r(半径)，以及求面积的成员函数area，实现其他需要的成员函数，设计main函数完成测试；
（3）再以Circle类为直接基类，派生出一个Cylinder(圆柱体)类，再增加数据成员h(高)，，以及求圆柱表面积的成员函数area和求圆柱体积的成员函数volume，实现需要的成员函数，并设计main函数完成测试。
（提示：此任务可以分为三个子任务分成若干步骤进行。先声明基类，再声明派生类，逐级进行，分步调试。——这种方法适用于做任何的项目）
【项目2 - 存储班长信息的学生类】[参考解答](http://blog.csdn.net/sxhelijian/article/details/45670781)
```python
class Stu
```
```python
//声明基类
```
```python
{
```
```python
public
```
```python
:
```
```python
Stu
```
```python
(
```
```python
int
```
```python
n,
```
```python
string
```
```python
nam );
```
```python
//基类构造函数
```
```python
void
```
```python
display( );
```
```python
//成员函数，输出基类数据成员
```
```python
protected
```
```python
:        //（*）访问权限为保护型的数据成员
```
```python
int
```
```python
num;
```
```python
//学生学号
```
```python
string
```
```python
name;
```
```python
//学生姓名
```
```python
};
class StuDetail:
```
```python
public
```
```python
Stu              //声明派生类StuDetail
{
```
```python
public
```
```python
:
    //学生nam，学号n，a岁，家住ad，他的班长是nam1，学号n1
```
```python
StuDetail
```
```python
(
```
```python
int
```
```python
n,
```
```python
string
```
```python
nam,
```
```python
int
```
```python
a,
```
```python
string
```
```python
ad,
```
```python
int
```
```python
n1,
```
```python
string
```
```python
nam1);
```
```python
//派生类构造函数
```
```python
void
```
```python
show( );
```
```python
//成员函数，输出学生的信息
```
```python
void
```
```python
show_monitor( );
```
```python
//成员函数，输出班长信息
```
```python
private
```
```python
:
    Stu monitor;
```
```python
//学生所在班的班长，班长是学生，是Stu类的成员
```
```python
int
```
```python
age;
```
```python
//学生年龄
```
```python
string
```
```python
addr;
```
```python
//学生的住址
```
```python
};
```
```python
int
```
```python
main( )
{
```
```python
//学生王力，10010号，19岁，家住上海的北京路，他的班长是李孙，学号10001
```
```python
StuDetail s(
```
```python
10010
```
```python
,
```
```python
"Wang-li"
```
```python
,
```
```python
19
```
```python
,
```
```python
"115 Beijing Road,Shanghai"
```
```python
,
```
```python
10001
```
```python
,
```
```python
"Li-sun"
```
```python
);
    s.show( );
```
```python
//输出学生信息
```
```python
s.show_monitor();
```
```python
//输出班长信息
```
```python
return
```
```python
0
```
```python
;
}
```
（1）上面是声明好的类及测试函数，请完成类中成员函数的定义，使运行结果如图所示。
（2）将Stu类的数据成员的访问权限改为private，你的程序是否能完成要求的功能？如果不行，请修改程序。请不要修改给出的代码，只能修改自己写的代码。
【项目3 - 警察和厨师】[参考解答](http://blog.csdn.net/sxhelijian/article/details/51262278)
（1）根据下面的类图，定义各个类：
![这里写图片描述](https://img-blog.csdn.net/20160427160652698)[ ](https://img-blog.csdn.net/20160427160652698)
> 要求：

> 各个成员函数，只要输出相关的信息即可，暂不深究其业务功能

> 请为各个类增加构造函数

> 在实现中，可以增加需要的其他函数

> 自行编制main函数，完成初步的测试

> （2）下面的类图，为Polic类和Cook类增加了对象成员，请扩充代码，完成上述各项要求
![这里写图片描述](https://img-blog.csdn.net/20160427160837625)
> 【项目4- 教师兼干部类】
> [参考解答](http://blog.csdn.net/sxhelijian/article/details/45848655)

> 分别定义Teacher(教师)类和Cadre（干部）类，采用多重继承方式由这两个类派生出新类Teacher_Cadre（教师兼干部）。

> 要求：

> （1）在两个基类中都包含姓名、年龄、性别、地址、电话等数据成员。

> （2）在Teacher类中还包含数据成员title(职称)，在Cadre类中还包含数据成员post（职务），在Teacher_Cadre类中还包含数据成员wages(工资)。

> （3）对两个基类中的姓名、年龄、性别、地址、电话等数据成员用相同的名字，在引用这些数据成员时，指定作用域。

> （4）在类体中声明成员函数，在类外定义成员函数。

> （5）在派生类Teacher_Cadre的成员函数show中调用Teacher类中的display函数，输出姓名、年龄、性别、职称、地址、电话，然后再用cout语句输出职务与工资。

> 【项目5 - 摩托车继承自行车和机动车】
> [参考解答](http://blog.csdn.net/sxhelijian/article/details/45848917)

> 在下面一段类的定义中，自行车类的虚基类为车辆类，机动车类的虚基类也为车辆类，摩托车类的基类为自行车类和机动车类，类之间均为公有继承，如图所示。
![这里写图片描述](https://img-blog.csdn.net/20140511103200500)
> [ ](https://img-blog.csdn.net/20140511103200500)

> 下载可执行文件链接
> [motorcar.exe](http://pan.baidu.com/s/1ntodu9z)
> .

> （1）根据上面各类间关系的描述，补全下面程序段中空缺的代码；

> （2）实现程序中声明的成员函数，注意相应操作中的动作发生的条件不能满足时应给出提示。

> （3）运行程序，享受开摩托的过程。（可以在博客中
> [下载可执行文件](http://pan.baidu.com/s/1ntodu9z)
> ，先开摩托，再编程。不必申请驾照，这个摩托车很安全。）

> （4）在报告中，请用自己的话写清楚使用虚基类解决什么问题？

> \#include <iostream>
> \#include<conio.h>
> \#include <windows.h>
> using
> namespace
> std
> ;
> enum
> vehicleStaus {rest, running};
> //车辆状态：泊车、行进
> class
> vehicle
> //车辆类
> {
> protected
> :
> int
> maxSpeed;
> //最大车速
> int
> currentSpeed;
> //当前速度
> int
> weight;
> //车重
> vehicleStaus status;
> //rest-泊车状态；running-行进状态
> public
> :
    vehicle(
> int
> maxS,
> int
> w);
> //构造函数，初始时，当前速度总为0且处在停车状态
> void
> start();
> //由rest状态到running, 初速为1
> void
> stop();
> //由running状态到rest, 当前速度小于5时，才允许停车
> void
> speed_up();
> //加速，调用1次，速度加1
> void
> slow_down();
> //减速，调用1次，速度减1，速度为0时，停车
> };
> class
> bicycle :_____(
> 1
> )_________
> //（1）自行车类的虚基类为车辆类
> {
> protected
> :
> double
> height;
> //车高
> public
> :
    bicycle(
> int
> maxS=
> 10
> ,
> int
> w=
> 50
> ,
> int
> h=
> 0.7
> );
> //定义构造函数
> };
> class
> motorcar : ______(
> 2
> )__________
> //（2）机动车类的虚基类也为车辆类
> {
> protected
> :
> int
> seatNum;
> //座位数
> int
> passengerNum;
> //乘客人数
> public
> :
    motorcar(
> int
> maxS=
> 150
> ,
> int
> w=
> 1500
> ,
> int
> s=
> 5
> ,
> int
> p=
> 1
> );
> //定义构造函数
> void
> addPassenger(
> int
> p=
> 1
> );
> //增加搭载的乘客，超员要拒载，有人下车时，p为负数。当然车上乘客至少有1个（司机）。只有车停稳后才能上下客。
> };
> class
> motorcycle: ______(
> 3
> )_________
> //（3）摩托车类的基类为自行车类和机动车类
> {
> public
> :    
    motorcycle(
> int
> maxS=
> 90
> ,
> int
> w=
> 100
> ,
> int
> s=
> 3
> ,
> int
> p=
> 1
> ,
> int
> h=
> 0.7
> );
> //定义构造函数
> void
> show();
> //显示摩托车的运行状态
> };
> int
> main( )
{
    motorcycle m;
> bool
> end=
> false
> ;
> while
> (!end)
    {
> cout
> <<
> "请操作：1-启动  2-加速  3-减速  4-有人上车  5-有人下车  6-停车 0-结束"
> <<endl;
> char
> keydown= _getch();
> //_getch()返回键盘上读取的字符
> switch
> (keydown)
        {
> case
> '1'
> :
> cout
> <<
> "选中的操作是1-启动\t"
> ;
            m.start();
> break
> ;
> case
> '2'
> :
> cout
> <<
> "选中的操作是2-加速\t"
> ;
            m.speed_up();
> break
> ;
> case
> '3'
> :
> cout
> <<
> "选中的操作是3-减速\t"
> ;
            m.slow_down();
> break
> ;
> case
> '4'
> :
> cout
> <<
> "选中的操作是4-有人上车\t"
> ;
            m.addPassenger();
> break
> ;
> case
> '5'
> :
> cout
> <<
> "选中的操作是5-有人下车\t"
> ;
            m.addPassenger(-
> 1
> );
> break
> ;
> case
> '6'
> :
> cout
> <<
> "选中的操作是6-停车\t"
> ;
            m.stop();
> break
> ;
> case
> '0'
> :
            end=
> true
> ;
> break
> ;
        }
        m.show();
> cout
> <<endl;
        Sleep(
> 200
> );
> //要包含头文件<windows.h>
> }
> return
> 0
> ;
}
> 参考运行结果如下：

> 请操作：
> 1
> -启动
> 2
> -加速
> 3
> -减速
> 4
> -有人上车
> 5
> -有人下车
> 6
> -停车
> 0
> -结束
选中的操作是
> 1
> -启动      状态：行进；    车速：
> 1
> /
> 90
> 当前乘员：
> 1
> /
> 3
> 请操作：
> 1
> -启动
> 2
> -加速
> 3
> -减速
> 4
> -有人上车
> 5
> -有人下车
> 6
> -停车
> 0
> -结束
选中的操作是
> 2
> -加速      状态：行进；    车速：
> 2
> /
> 90
> 当前乘员：
> 1
> /
> 3
> 请操作：
> 1
> -启动
> 2
> -加速
> 3
> -减速
> 4
> -有人上车
> 5
> -有人下车
> 6
> -停车
> 0
> -结束
选中的操作是
> 2
> -加速      状态：行进；    车速：
> 3
> /
> 90
> 当前乘员：
> 1
> /
> 3
> 请操作：
> 1
> -启动
> 2
> -加速
> 3
> -减速
> 4
> -有人上车
> 5
> -有人下车
> 6
> -停车
> 0
> -结束
选中的操作是
> 4
> -有人上车  车辆正在行驶，停车后再上下车！
状态：行进；    车速：
> 3
> /
> 90
> 当前乘员：
> 1
> /
> 3
> 请操作：
> 1
> -启动
> 2
> -加速
> 3
> -减速
> 4
> -有人上车
> 5
> -有人下车
> 6
> -停车
> 0
> -结束
选中的操作是
> 5
> -有人下车  车辆正在行驶，停车后再上下车！
状态：行进；    车速：
> 3
> /
> 90
> 当前乘员：
> 1
> /
> 3
> 请操作：
> 1
> -启动
> 2
> -加速
> 3
> -减速
> 4
> -有人上车
> 5
> -有人下车
> 6
> -停车
> 0
> -结束
选中的操作是
> 6
> -停车      状态：泊车；    车速：
> 0
> /
> 90
> 当前乘员：
> 1
> /
> 3
> 请操作：
> 1
> -启动
> 2
> -加速
> 3
> -减速
> 4
> -有人上车
> 5
> -有人下车
> 6
> -停车
> 0
> -结束
选中的操作是
> 4
> -有人上车  状态：泊车；    车速：
> 0
> /
> 90
> 当前乘员：
> 2
> /
> 3
> 请操作：
> 1
> -启动
> 2
> -加速
> 3
> -减速
> 4
> -有人上车
> 5
> -有人下车
> 6
> -停车
> 0
> -结束
选中的操作是
> 1
> -启动      状态：行进；    车速：
> 1
> /
> 90
> 当前乘员：
> 2
> /
> 3
> 请操作：
> 1
> -启动
> 2
> -加速
> 3
> -减速
> 4
> -有人上车
> 5
> -有人下车
> 6
> -停车
> 0
> -结束
选中的操作是
> 2
> -加速      状态：行进；    车速：
> 2
> /
> 90
> 当前乘员：
> 2
> /
> 3
> 请操作：
> 1
> -启动
> 2
> -加速
> 3
> -减速
> 4
> -有人上车
> 5
> -有人下车
> 6
> -停车
> 0
> -结束
选中的操作是
> 2
> -加速      状态：行进；    车速：
> 3
> /
> 90
> 当前乘员：
> 2
> /
> 3
> 请操作：
> 1
> -启动
> 2
> -加速
> 3
> -减速
> 4
> -有人上车
> 5
> -有人下车
> 6
> -停车
> 0
> -结束
选中的操作是
> 2
> -加速      状态：行进；    车速：
> 4
> /
> 90
> 当前乘员：
> 2
> /
> 3
> 请操作：
> 1
> -启动
> 2
> -加速
> 3
> -减速
> 4
> -有人上车
> 5
> -有人下车
> 6
> -停车
> 0
> -结束
选中的操作是
> 2
> -加速      状态：行进；    车速：
> 5
> /
> 90
> 当前乘员：
> 2
> /
> 3
> 请操作：
> 1
> -启动
> 2
> -加速
> 3
> -减速
> 4
> -有人上车
> 5
> -有人下车
> 6
> -停车
> 0
> -结束
选中的操作是
> 2
> -加速      状态：行进；    车速：
> 6
> /
> 90
> 当前乘员：
> 2
> /
> 3
> 请操作：
> 1
> -启动
> 2
> -加速
> 3
> -减速
> 4
> -有人上车
> 5
> -有人下车
> 6
> -停车
> 0
> -结束
选中的操作是
> 6
> -停车      车速太快！先减速再停车……
状态：行进；    车速：
> 6
> /
> 90
> 当前乘员：
> 2
> /
> 3
> 请操作：
> 1
> -启动
> 2
> -加速
> 3
> -减速
> 4
> -有人上车
> 5
> -有人下车
> 6
> -停车
> 0
> -结束
选中的操作是
> 3
> -减速      状态：行进；    车速：
> 5
> /
> 90
> 当前乘员：
> 2
> /
> 3
> 请操作：
> 1
> -启动
> 2
> -加速
> 3
> -减速
> 4
> -有人上车
> 5
> -有人下车
> 6
> -停车
> 0
> -结束
选中的操作是
> 3
> -减速      状态：行进；    车速：
> 4
> /
> 90
> 当前乘员：
> 2
> /
> 3
> 请操作：
> 1
> -启动
> 2
> -加速
> 3
> -减速
> 4
> -有人上车
> 5
> -有人下车
> 6
> -停车
> 0
> -结束
选中的操作是
> 6
> -停车      状态：泊车；    车速：
> 0
> /
> 90
> 当前乘员：
> 2
> /
> 3
> 请操作：
> 1
> -启动
> 2
> -加速
> 3
> -减速
> 4
> -有人上车
> 5
> -有人下车
> 6
> -停车
> 0
> -结束
状态：泊车；    车速：
> 0
> /
> 90
> 当前乘员：
> 2
> /
> 3
> Process returned
> 0
> (
> 0x0
> )   execution
> time
> :
> 73.297
> s
Press
> any
> key
> to
> continue.

