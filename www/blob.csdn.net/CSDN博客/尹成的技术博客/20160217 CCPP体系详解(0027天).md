
# 20160217.CCPP体系详解(0027天) - 尹成的技术博客 - CSDN博客

置顶2016年03月15日 00:38:11[尹成](https://me.csdn.net/yincheng01)阅读数：2946个人分类：[CCPP](https://blog.csdn.net/yincheng01/article/category/6096925)



程序片段(01):TestCmd.c
内容概要:管道_字符串
```python
#define _CRT_SECURE_NO_WARNINGS
```
```python
#include <stdio.h>
```
```python
#include <stdlib.h>
```
```python
#include <string.h>
```
```python
//01.管道:Windows应用程序与DOS系统之间的通信桥梁
```
```python
//  1.用于进程之间的通信(两个进程:窗体进程+cmd进程)
```
```python
//  2.窗体进程发送指令到cmd进程进行执行;
```
```python
//      然后将cmd进程执行之后的结果反馈到当前窗体进程
```
```python
//注:C语言将所有的设备都可以当做文件进行处理!(很重要)
```
```python
int
```
```python
exeShell(
```
```python
char
```
```python
* cmd,
```
```python
char
```
```python
* result)
{
```
```python
//通过管道让cmd进程执行窗体进程向cmd进程发送的指令,并通过管道返回指令执行结果到窗体进程
```
```python
FILE * pf = _popen(cmd,
```
```python
"r"
```
```python
);
```
```python
//以读取的模式打开一个管道,用管道的另一端执行一个cmd指令并反馈执行结果
```
```python
//1.打开进程之间通信的管道,进程管道用于进程之间的信息传递,可以向进程管道的另外一端(cmd进程)发送一个指令
```
```python
//      等待该指令的执行结果反馈,然后再做对指令执行结果的信息处理(窗体进程)
```
```python
//2.在Windows系统当中,操作各种设备的时候,都可以将各种设备当做文件系统进行处理(设备概念-->文件概念)
```
```python
//      C语言的文件概念模拟设备要点!(操作文件就等同于操作设备)-->需要_popen();函数进行文件模拟!
```
```python
if
```
```python
(NULL == pf)
    {
```
```python
printf
```
```python
(
```
```python
"窗体进程和cmd进程之间的通信管道创建失败! \n"
```
```python
);
```
```python
return
```
```python
0
```
```python
;
    }
```
```python
while
```
```python
(!feof(pf))
```
```python
//到达文件结尾返回1,没有到达文件结尾返回0
```
```python
{
```
```python
char
```
```python
str[
```
```python
256
```
```python
] = {
```
```python
0
```
```python
};
```
```python
//信息读取字符缓冲区
```
```python
if
```
```python
(fgets(str,
```
```python
256
```
```python
, pf))
```
```python
//fgets();函数的返回值就是通过管道进行进程通信所读取到的字符个数
```
```python
{
```
```python
//进行进程通信信息的拼接:通过strcat函数不断的进行拼接动作,每次拼接都是采取替换字符串标识'\0'的方式进行拼接
```
```python
strcat
```
```python
(result, str);
```
```python
//拼接字符串信息,构成完整信息体(逐步读取文件,构建完整文件体)
```
```python
}
    }
    _pclose(pf);
```
```python
//关闭进程之间的通信管道,避免过度占用资源
```
```python
return
```
```python
1
```
```python
;
}
```
```python
int
```
```python
main01(
```
```python
void
```
```python
)
{
```
```python
char
```
```python
str[
```
```python
1024
```
```python
];
    gets(str);
```
```python
//获取键盘录入的字符串,并存储到参数所指定的字符串当中特点:只以回车作为录入结束标识符!
```
```python
puts
```
```python
(str);
    system(
```
```python
"pause"
```
```python
);
}
```
```python
int
```
```python
main02(
```
```python
void
```
```python
)
{
```
```python
char
```
```python
result[
```
```python
1024
```
```python
*
```
```python
8
```
```python
] = {
```
```python
0
```
```python
};
```
```python
//8M尺寸的字符串缓冲区
```
```python
if
```
```python
(exeShell(
```
```python
"tasklist"
```
```python
, result))
    {
```
```python
//如果执行脚本成功,就输出脚本的执行结果信息
```
```python
printf
```
```python
(
```
```python
"%s \n"
```
```python
, result);
    }
```
```python
//判断某个进程是否正在操作系统之上运行
```
```python
//char * p = strstr(result, "QQ.exe");
```
```python
//if (NULL != p)
```
```python
//{
```
```python
//  printf("QQ正在执行当中! \n");
```
```python
//}
```
```python
//else
```
```python
//{
```
```python
//  printf("QQ未在执行当中! \n");
```
```python
//}
```
```python
int
```
```python
i =
```
```python
0
```
```python
;
```
```python
//统计QQ进程的执行个数,找到返回地址,未找到返回NULL
```
```python
for
```
```python
(
```
```python
char
```
```python
* p =
```
```python
strstr
```
```python
(result,
```
```python
"QQ.exe"
```
```python
); NULL != p;
```
```python
strstr
```
```python
(p +
```
```python
6
```
```python
,
```
```python
"QQ.exe"
```
```python
))
    {
        ++i;
```
```python
printf
```
```python
(
```
```python
"QQ运行了%d个! \n"
```
```python
, i);
    }
    system(
```
```python
"pause"
```
```python
);
}
```
```python
int
```
```python
main03(
```
```python
void
```
```python
)
{
```
```python
char
```
```python
cmd[
```
```python
128
```
```python
] = {
```
```python
0
```
```python
};
```
```python
char
```
```python
result[
```
```python
1024
```
```python
*
```
```python
8
```
```python
] = {
```
```python
0
```
```python
};
```
```python
//gets(cmd);//只以\n作为录入状态结束标识符!
```
```python
scanf
```
```python
(
```
```python
"%[^\n]"
```
```python
, cmd);
```
```python
//%[^\n]正则表达式+scanf();函数-->只以\n作为扫描结束标识符
```
```python
puts
```
```python
(cmd);
```
```python
if
```
```python
(
```
```python
0
```
```python
!= exeShell(cmd, result))
    {
```
```python
printf
```
```python
(
```
```python
"%s \n"
```
```python
, result);
    }
    system(
```
```python
"pause"
```
```python
);
}
```
```python
//1.tree Directory:用于将某个目录以树状形式进行显示,以及用于扫描某个地址(搜索文件的最佳方式!)-->避免使用递归遍历!
```
```python
//2.netstat -a:用于显示所有的TCP/UDP协议信息,用于显示网络链接状态,本地客户端与服务器之间的联系
```
```python
//3.ftp:都可以用命令行进行操作,这个操作的特点就是可以用于进行WiFi密码的破解,因为匹配密码的时候都会通过命令行发送一系列密码字典,我们可以采用密码字典进行密码的破解
```
```python
//4.管道的特点:进程之间的通信桥梁,Windows操作设备都是将设备看做为文件系统进行的操作;管道既可以用于操作文件也可以用于操作系统设备
```
```python
//5.strstr();的读取特点,会从首地址不断的进行数据的比对,只要检索到一个就停止检索状态
```
```python
//6.scanf();和gets();的不同点:scanf();不会处理空格,Tab键盘,gets();会进行空格的处理读取
```
程序片段(02):PrintF.c
内容概要:**PrintF可变参数**
```python
#include <stdio.h>
```
```python
#include <stdlib.h>
```
```python
#include <stdarg.h>
```
```python
//可变参数使用头文件
```
```python
//01.可变参数的使用特点:
```
```python
//  1.包含可变参数头文件:
```
```python
//      #include <stdarg.h>
```
```python
//  2.可变参数列表描述符:
```
```python
//      ...-->代表可变参数列表
```
```python
//  3.可变参数列表的特点:
```
```python
//      类型可以不一致,个数可以不确定
```
```python
//  4.几大标识符的使用:
```
```python
//      va_list:可变列表
```
```python
//      va_start:初始化列表
```
```python
//      va_arg:列表获取
```
```python
//      va_end:结束读取
```
```python
void
```
```python
myPrintf(
```
```python
char
```
```python
* pStr, ...)
```
```python
//...代表可变参数列表,类型可以不一致,个数也可以不一致
```
```python
{
    va_list vl;
```
```python
//可变参数列表起点
```
```python
va_start(vl, pStr);
```
```python
//通过pStr指向字符串的指针来初始化可变列表
```
```python
char
```
```python
flag;
```
```python
while
```
```python
(*pStr)
```
```python
//*pStar<=>*pStr!=NULL
```
```python
{
```
```python
//循环遍历每一个字符(字符指针特点)
```
```python
flag = *pStr;
```
```python
//取出字符
```
```python
if
```
```python
(
```
```python
'%'
```
```python
!= flag)
        {
```
```python
putchar
```
```python
(flag);
```
```python
//打印字符
```
```python
++pStr;
        }
```
```python
else
```
```python
{
            ++pStr;
```
```python
//跳过格式控制符前缀:%c->%s->%d->%f->%%(标识前缀'%')
```
```python
flag = *pStr;
```
```python
switch
```
```python
(flag)
            {
```
```python
case
```
```python
'c'
```
```python
:
            {
```
```python
char
```
```python
chr = va_arg(vl,
```
```python
char
```
```python
);
```
```python
//按照指定类型从可变列表当中进行数据解析
```
```python
printf
```
```python
(
```
```python
"%c"
```
```python
, chr);
```
```python
break
```
```python
;
            }
```
```python
case
```
```python
's'
```
```python
:
            {
```
```python
char
```
```python
*str = va_arg(vl,
```
```python
char
```
```python
*);
```
```python
printf
```
```python
(
```
```python
"%s"
```
```python
, str);
```
```python
break
```
```python
;
            }
```
```python
case
```
```python
'd'
```
```python
:
            {
```
```python
int
```
```python
num = va_arg(vl,
```
```python
int
```
```python
);
```
```python
printf
```
```python
(
```
```python
"%d"
```
```python
, num);
```
```python
//printf();函数的底层实现就依赖于putchar();这个函数进行的实现
```
```python
break
```
```python
;
```
```python
//将一个整数转化成为字符串,并且按照字符串的显示方式最简单方式就是调用printf();函数实现
```
```python
}
```
```python
case
```
```python
'f'
```
```python
:
            {
```
```python
double
```
```python
db = va_arg(vl,
```
```python
double
```
```python
);
```
```python
printf
```
```python
(
```
```python
"%lf"
```
```python
, db);
```
```python
break
```
```python
;
            }
```
```python
case
```
```python
'%'
```
```python
:
            {
```
```python
putchar
```
```python
(
```
```python
'%'
```
```python
);
```
```python
break
```
```python
;
            }
```
```python
default
```
```python
:
```
```python
break
```
```python
;
            }
            ++pStr;
        }
    }
    va_end(vl);
```
```python
//结束可变参数列表的数据读取操作
```
```python
}
```
```python
int
```
```python
main01(
```
```python
void
```
```python
)
{
    myPrintf(
```
```python
"1234abc \n"
```
```python
);
    myPrintf(
```
```python
"1234abc%d \n"
```
```python
,
```
```python
10
```
```python
);
    myPrintf(
```
```python
"1234abc%d%s \n"
```
```python
,
```
```python
10
```
```python
,
```
```python
"tytyuytu"
```
```python
);
    myPrintf(
```
```python
"1234abc%d%s%c \n"
```
```python
,
```
```python
10
```
```python
,
```
```python
"tytyuytu"
```
```python
,
```
```python
'A'
```
```python
);
    myPrintf(
```
```python
"1234abc%d%s%c%% \n"
```
```python
,
```
```python
10
```
```python
,
```
```python
"tytyuytu"
```
```python
,
```
```python
'A'
```
```python
);
    myPrintf(
```
```python
"1234abc%d%s%c%%%f \n"
```
```python
,
```
```python
10
```
```python
,
```
```python
"tytyuytu"
```
```python
,
```
```python
'A'
```
```python
,
```
```python
1234.78
```
```python
);
    system(
```
```python
"pause"
```
```python
);
}
```
程序片段(03):01.StrCpyStrCat.c+02.StrChr.c+03.StrSet.c
内容概要:**Str函数学习与实现**
```python
///01.StrCpyStrCat.c
```
```python
#define _CRT_SECURE_NO_WARNINGS
```
```python
#include <stdio.h>
```
```python
#include <stdlib.h>
```
```python
#include <string.h>
```
```python
//01.strcpy();和strcat();区别:
```
```python
//  strcpy();从目标字符串的首地址开始拷贝
```
```python
//  strcat();从目标字符串的末尾字符串结束标识符'\0'开始拷贝
```
```python
void
```
```python
myStrCpy(
```
```python
char
```
```python
* dest,
```
```python
const
```
```python
char
```
```python
* src)
{
```
```python
//无法正确的记录目标首地址+目标地址默认有结束标识符!
```
```python
if
```
```python
(
```
```python
'\0'
```
```python
== *src)
    {
```
```python
//递归的标准形式
```
```python
return
```
```python
;
    }
    *dest = *src;
```
```python
//按照指针变量方式进行内存拷贝(一个指针映射一块儿内存)
```
```python
myStrCpy(++dest, ++src);
```
```python
//指针变量当中的指针往前递进
```
```python
}
```
```python
//02.递归传参的几种方式:
```
```python
//  1.全局变量
```
```python
//  2.静态变量
```
```python
//  3.函数传参
```
```python
//  4.函数返回
```
```python
char
```
```python
* myStrCpyWithReturn(
```
```python
char
```
```python
* dest,
```
```python
const
```
```python
char
```
```python
* src,
```
```python
char
```
```python
* destS)
{
```
```python
//采用函数传参的方式进行所需内存首地址的保存传递
```
```python
if
```
```python
(
```
```python
'\0'
```
```python
== *src)
    {
```
```python
//递归结束条件+健壮性判断
```
```python
return
```
```python
destS;
    }
    *dest = *src;
    myStrCpyWithReturn(++dest, ++src, destS);
}
```
```python
//03.三种修改数据方式所需传递的内容:
```
```python
//  1.普通变量:(1种)
```
```python
//      修改普通变量的数据,需要传递普通变量的地址
```
```python
//  2.指针变量:(2种)
```
```python
//      修改指针变量所指向的数据,传递指针变量本身
```
```python
//      修改指针变量所存储的指向,传递指针变量的地址
```
```python
void
```
```python
myStrCpyWithPoint(
```
```python
char
```
```python
* dest,
```
```python
const
```
```python
char
```
```python
* src)
{
    dest = (
```
```python
char
```
```python
*)
```
```python
malloc
```
```python
(
```
```python
100
```
```python
);
```
```python
//内存不一致,跨内存修改无效!
```
```python
while
```
```python
(*dest++ = *src++);
```
```python
//过程详解:
```
```python
//  1.运算符优先级:递变运算符的优先级高于取值运算符的优先级
```
```python
//      *dest++=*src++<=>*(dest++)=*(src++);
```
```python
//  2.后递变运算符的运算特点,先赋值再进行运算(这个先后指的是整体表达式)
```
```python
//      *(desc++)=*(src++);<=>
```
```python
//      *desc=*src;
```
```python
//      ++src;
```
```python
//      ++desc
```
```python
}
```
```python
void
```
```python
myStrCpyWithPointPlus(
```
```python
char
```
```python
** dest,
```
```python
const
```
```python
char
```
```python
* src)
{
    *dest = (
```
```python
char
```
```python
*)
```
```python
malloc
```
```python
(
```
```python
100
```
```python
);
```
```python
//跨函数修改指针变量所存储的指针
```
```python
char
```
```python
* tmpDest = *dest;
```
```python
//指针类型,需要匹配-->防止修改了指针变量本身所存储的内存首地址
```
```python
while
```
```python
(*tmpDest++ = *src++);
}
```
```python
char
```
```python
* myStrCat(
```
```python
char
```
```python
* dest,
```
```python
const
```
```python
char
```
```python
* src)
{
```
```python
while
```
```python
(
```
```python
'\0'
```
```python
!= *dest)
    {
        ++dest;
    }
```
```python
while
```
```python
(*dest++ = *src++);
}
```
```python
int
```
```python
main01(
```
```python
void
```
```python
)
{
```
```python
char
```
```python
str1[
```
```python
10
```
```python
] =
```
```python
"task"
```
```python
;
```
```python
char
```
```python
str2[
```
```python
10
```
```python
] =
```
```python
"list"
```
```python
;
```
```python
strcat
```
```python
(str1, str2);
```
```python
//printf("%s \n", str1);
```
```python
char
```
```python
str[
```
```python
50
```
```python
] = {
```
```python
0
```
```python
};
```
```python
//myStrCpy(str, str1);
```
```python
//printf("%s \n", str);
```
```python
//printf("%s \n", myStrCpyWithReturn(str, str1, str));
```
```python
char
```
```python
* str3 = NULL;
    myStrCpyWithPointPlus(&str3, str1);
```
```python
printf
```
```python
(
```
```python
"%s \n"
```
```python
, str3);
    system(
```
```python
"pause"
```
```python
);
}
```
```python
///02.StrChr.c
```
```python
#define _CRT_SECURE_NO_WARNINGS
```
```python
#include <stdio.h>
```
```python
#include <stdlib.h>
```
```python
#include <string.h>
```
```python
char
```
```python
* myStrChr(
```
```python
const
```
```python
char
```
```python
* str,
```
```python
const
```
```python
char
```
```python
c)
{
```
```python
//for (int i = 0; i < strlen(str); ++i)
```
```python
//{//索引法
```
```python
//  if (c == *(str + i))
```
```python
//  {
```
```python
//      return str + i;
```
```python
//  }
```
```python
//}
```
```python
for
```
```python
(
```
```python
const
```
```python
char
```
```python
* p = str;
```
```python
'\0'
```
```python
!= *p; ++p)
    {
```
```python
//指针法
```
```python
if
```
```python
(c == *p)
        {
```
```python
return
```
```python
p;
        }
    }
}
```
```python
char
```
```python
* myStrChrRecursion(
```
```python
const
```
```python
char
```
```python
* str,
```
```python
const
```
```python
char
```
```python
c)
{
```
```python
//递归法
```
```python
if
```
```python
(
```
```python
'\0'
```
```python
== *str)
    {
```
```python
return
```
```python
NULL;
    }
```
```python
if
```
```python
(c == *str)
    {
```
```python
return
```
```python
str;
    }
    myStrChrRecursion(++str, c);
}
```
```python
int
```
```python
main02(
```
```python
void
```
```python
)
{
```
```python
char
```
```python
* p = myStrChrRecursion(
```
```python
"calc"
```
```python
,
```
```python
'c'
```
```python
);
```
```python
if
```
```python
(NULL == p)
    {
```
```python
printf
```
```python
(
```
```python
"can't find!!! \n"
```
```python
);
    }
```
```python
else
```
```python
{
```
```python
printf
```
```python
(
```
```python
"can find %p, %c!!! \n"
```
```python
, p, *p);
    }
    system(
```
```python
"pause"
```
```python
);
}
```
```python
///03.StrSet.c
```
```python
#define _CRT_SECURE_NO_WARNINGS
```
```python
#include <stdio.h>
```
```python
#include <stdlib.h>
```
```python
#include <string.h>
```
```python
//01.strset函数详解:
```
```python
//  函数名:strset
```
```python
//  功能:将一个字符串当中的所有字符都设置为指定字符
```
```python
//  用法:char * strset(char * str, char c);
```
```python
void
```
```python
* myStrSet(
```
```python
char
```
```python
* str,
```
```python
char
```
```python
c)
{
```
```python
//for (int i = 0; i < strlen(str); ++i)
```
```python
//{//索引法
```
```python
//  *(str + i) = c;
```
```python
//}
```
```python
//for (char * p = str; '\0' != *p; ++p)
```
```python
//{//指针法
```
```python
//  *p = c;
```
```python
//}
```
```python
}
```
```python
void
```
```python
* myStrSetRecursion(
```
```python
char
```
```python
* str,
```
```python
char
```
```python
c)
{
```
```python
//递归法
```
```python
if
```
```python
(
```
```python
'\0'
```
```python
== *str)
    {
```
```python
return
```
```python
;
    }
    *str = c;
    myStrSetRecursion(++str, c);
}
```
```python
int
```
```python
main03(
```
```python
void
```
```python
)
{
```
```python
char
```
```python
* p = (
```
```python
char
```
```python
[
```
```python
10
```
```python
]) {
```
```python
0
```
```python
};
```
```python
strcpy
```
```python
(p,
```
```python
"123456"
```
```python
);
```
```python
printf
```
```python
(
```
```python
"%s \n"
```
```python
, p);
    myStrSetRecursion(p,
```
```python
'a'
```
```python
);
```
```python
printf
```
```python
(
```
```python
"%s \n"
```
```python
, p);
    system(
```
```python
"pause"
```
```python
);
}
```
程序片段(04):宽字符.c
内容概要:**宽字符实现**
```python
#include <stdio.h>
```
```python
#include <stdlib.h>
```
```python
#include <string.h>
```
```python
#include <locale.h>
```
```python
int
```
```python
myWcsLen(
```
```python
wchar_t
```
```python
* wstr)
{
```
```python
int
```
```python
i =
```
```python
0
```
```python
;
```
```python
while
```
```python
(L
```
```python
'\0'
```
```python
!= *wstr)
    {
        ++i;
        ++wstr;
    }
```
```python
return
```
```python
i;
}
```
```python
//01.宽字符问题处理流程:
```
```python
//  1.设置本地化:
```
```python
//      setlocale(生效范围, "语言-国籍");
```
```python
//  2.宽字符使用:
```
```python
//      wchar_t+wcslen+wprintf(L"%ls", 宽字符指针);
```
```python
int
```
```python
main01(
```
```python
void
```
```python
)
{
    setlocale(LC_ALL,
```
```python
"zh-CN"
```
```python
);
```
```python
//设置本地化
```
```python
wchar_t
```
```python
wstr[
```
```python
10
```
```python
] = L
```
```python
"我是男神爱女神！\n"
```
```python
;
    wprintf(L
```
```python
"%ls"
```
```python
, wstr);
```
```python
//宽字符格式输出字符串L"%ls"
```
```python
system(
```
```python
"pause"
```
```python
);
}
```
```python
int
```
```python
main02(
```
```python
void
```
```python
)
{
    setlocale(LC_ALL,
```
```python
"zh-CN"
```
```python
);
```
```python
wchar_t
```
```python
wstr[
```
```python
12
```
```python
] = L
```
```python
"a我是男神爱女神12 "
```
```python
;
```
```python
//strlen-->wcslen
```
```python
//int length = wcslen(wstr);
```
```python
int
```
```python
length = myWcsLen(wstr);
```
```python
printf
```
```python
(
```
```python
"%d \n"
```
```python
, length);
    system(
```
```python
"pause"
```
```python
);
}
```
```python
int
```
```python
main03(
```
```python
void
```
```python
)
{
    setlocale(LC_ALL,
```
```python
"zh-CN"
```
```python
);
```
```python
wchar_t
```
```python
wch = L
```
```python
'我'
```
```python
;
    putwchar(wch);
    system(
```
```python
"pause"
```
```python
);
}
```
```python
wchar_t
```
```python
* myWcsCpy(
```
```python
wchar_t
```
```python
* dest,
```
```python
const
```
```python
wchar_t
```
```python
* src)
{
```
```python
if
```
```python
(NULL == dest || NULL == src)
    {
```
```python
return
```
```python
NULL;
    }
```
```python
wchar_t
```
```python
* tmpDest = dest;
```
```python
while
```
```python
(*tmpDest++ = *src++);
```
```python
return
```
```python
dest;
}
```
```python
int
```
```python
main04(
```
```python
void
```
```python
)
{
    setlocale(LC_ALL,
```
```python
"zh-CN"
```
```python
);
```
```python
wchar_t
```
```python
* p = (
```
```python
wchar_t
```
```python
[
```
```python
100
```
```python
]) {
```
```python
0
```
```python
};
```
```python
//栈上分配一个数组
```
```python
wchar_t
```
```python
wstr[
```
```python
10
```
```python
] = L
```
```python
"我是男神爱女神"
```
```python
;
    myWcsCpy(p, wstr);
    wprintf(L
```
```python
"%ls"
```
```python
, p);
    system(
```
```python
"pause"
```
```python
);
}
```
程序片段(05):01.StrCmpi.c+02.StrNICmp.c
内容概要:**StrCmpi**
```python
///01.StrCmpi.c
```
```python
#include <stdio.h>
```
```python
#include <stdlib.h>
```
```python
#include <string.h>
```
```python
void
```
```python
turnUpperToLower(
```
```python
char
```
```python
* pChr)
{
```
```python
if
```
```python
(
```
```python
'A'
```
```python
<= *pChr && *pChr <=
```
```python
'Z'
```
```python
)
        *pChr +=
```
```python
32
```
```python
;
}
```
```python
int
```
```python
myStrCmpI(
```
```python
char
```
```python
* str1,
```
```python
char
```
```python
* str2)
{
```
```python
char
```
```python
chr1 = *str1;
```
```python
char
```
```python
chr2 = *str2;
    turnUpperToLower(&chr1);
    turnUpperToLower(&chr2);
```
```python
while
```
```python
(chr1 == chr2 &&
```
```python
'\0'
```
```python
!= *str1)
    {
        ++str1;
        ++str2;
        turnUpperToLower(&chr1);
        turnUpperToLower(&chr2);
    }
```
```python
if
```
```python
(
```
```python
'\0'
```
```python
== *str1 &&
```
```python
'\0'
```
```python
== *str2)
    {
```
```python
return
```
```python
0
```
```python
;
    }
```
```python
else
```
```python
{
```
```python
if
```
```python
(
```
```python
0
```
```python
< chr1 - chr2)
        {
```
```python
return
```
```python
1
```
```python
;
        }
```
```python
else
```
```python
{
```
```python
return
```
```python
-
```
```python
1
```
```python
;
        }
    }
}
```
```python
//01.根据排序数组决定:
```
```python
//  需要待排序数组元素的地址
```
```python
int
```
```python
comp(
```
```python
void
```
```python
* p1,
```
```python
void
```
```python
* p2)
{
```
```python
char
```
```python
** pStr1 = (
```
```python
char
```
```python
**)p1;
```
```python
char
```
```python
** pStr2 = (
```
```python
char
```
```python
**)p2;
```
```python
return
```
```python
myStrCmpI(*pStr1, *pStr2);
}
```
```python
//02.strcmpi:
```
```python
//  1.忽略大小写
```
```python
//  2.比较全字符
```
```python
int
```
```python
main01(
```
```python
void
```
```python
)
{
```
```python
//strcmpi
```
```python
//char str1[10] = "calc";
```
```python
//char str2[10] = "Calc";
```
```python
//printf("%d \n", _strcmpi(str1, str2));
```
```python
char
```
```python
* strs[
```
```python
5
```
```python
] = {
```
```python
"calc"
```
```python
,
```
```python
"ali"
```
```python
,
```
```python
"A3"
```
```python
,
```
```python
"Bt"
```
```python
,
```
```python
"BH"
```
```python
};
    qsort(strs,
```
```python
5
```
```python
,
```
```python
4
```
```python
, comp);
```
```python
for
```
```python
(
```
```python
int
```
```python
i =
```
```python
0
```
```python
; i <
```
```python
5
```
```python
; ++i)
    {
```
```python
printf
```
```python
(
```
```python
"%s \n"
```
```python
, *(strs + i));
    }
    system(
```
```python
"pause"
```
```python
);
}
```
```python
///02.StrNICmp.c
```
```python
#include <stdio.h>
```
```python
#include <stdlib.h>
```
```python
#include <string.h>
```
```python
//01.大写转小写:
```
```python
//  大写+32<=>小写
```
```python
//02.C语言static:
```
```python
//  限定作用域
```
```python
static
```
```python
void
```
```python
turnUpperToLower(
```
```python
char
```
```python
* pchr)
{
```
```python
if
```
```python
(
```
```python
'A'
```
```python
<= *pchr && *pchr <=
```
```python
'Z'
```
```python
)
        *pchr +=
```
```python
32
```
```python
;
}
```
```python
int
```
```python
myStrNICmp(
```
```python
const
```
```python
char
```
```python
* str1,
```
```python
const
```
```python
char
```
```python
* str2,
```
```python
unsigned
```
```python
int
```
```python
maxCount)
{
```
```python
char
```
```python
* bakStr = (
```
```python
char
```
```python
*)str1;
```
```python
char
```
```python
chr1 = *str1;
```
```python
char
```
```python
chr2 = *str2;
    turnUpperToLower(&chr1);
    turnUpperToLower(&chr2);
```
```python
int
```
```python
i =
```
```python
0
```
```python
;
```
```python
while
```
```python
(chr1 == chr2 &&
```
```python
'\0'
```
```python
!= (*str1) && i < maxCount)
    {
```
```python
//注意顺序
```
```python
++str1;
        ++str2;
        ++i;
        chr1 = *str1;
        chr2 = *str2;
        turnUpperToLower(&chr1);
        turnUpperToLower(&chr2);
    }
```
```python
if
```
```python
(maxCount == i)
    {
```
```python
return
```
```python
0
```
```python
;
    }
```
```python
else
```
```python
{
```
```python
int
```
```python
length =
```
```python
strlen
```
```python
(bakStr);
```
```python
if
```
```python
(maxCount <= length)
        {
```
```python
//最大个数和有效长度
```
```python
if
```
```python
(chr1 - chr2 >
```
```python
0
```
```python
)
            {
```
```python
return
```
```python
1
```
```python
;
            }
```
```python
else
```
```python
{
```
```python
return
```
```python
-
```
```python
1
```
```python
;
            }
        }
```
```python
else
```
```python
{
```
```python
//有效长度范围之外!
```
```python
if
```
```python
(
```
```python
'\0'
```
```python
== *str1 &&
```
```python
'\0'
```
```python
== *str2)
            {
```
```python
return
```
```python
1
```
```python
;
            }
```
```python
else
```
```python
{
```
```python
if
```
```python
(chr1 - chr2 >
```
```python
0
```
```python
)
                {
```
```python
return
```
```python
1
```
```python
;
                }
```
```python
else
```
```python
{
```
```python
return
```
```python
-
```
```python
1
```
```python
;
                }
            }
        }         
    }
}
```
```python
//03.strnicmp:
```
```python
//  1.忽略大小写
```
```python
//  2.比较前N项
```
```python
int
```
```python
main02(
```
```python
void
```
```python
)
{
```
```python
//strnicmp;
```
```python
//char str1[20] = "wangfangshandong";
```
```python
//char str2[20] = "wangfangshandong";
```
```python
//printf("%d \n", _strnicmp(str1, str2, 8));
```
```python
//printf("%d \n", myStrNICmp(str1, str2, 8));
```
```python
char
```
```python
str1[
```
```python
24
```
```python
] =
```
```python
"A2341231A"
```
```python
;
    str1[
```
```python
6
```
```python
] =
```
```python
'A'
```
```python
;
```
```python
char
```
```python
str2[
```
```python
24
```
```python
] =
```
```python
"a2341231a"
```
```python
;
```
```python
printf
```
```python
(
```
```python
"%d \n"
```
```python
, myStrNICmp(str1, str2,
```
```python
8
```
```python
));
    system(
```
```python
"pause"
```
```python
);
}
```

