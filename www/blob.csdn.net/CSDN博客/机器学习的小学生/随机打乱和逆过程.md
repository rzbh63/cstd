
# 随机打乱和逆过程 - 机器学习的小学生 - CSDN博客


2017年06月20日 19:19:11[机器学习的小学生](https://me.csdn.net/xuluhui123)阅读数：351


实验中，我们经常需要对样本进行随机打乱，一般情况下，首先生成一个随机序列，然后通过下标索引的方式得到打乱后的序列。
A 表示原样本，B表示打乱的样本，通过 rand_ind，我们可以知道：B ==> A （B到A的映射）。
而现在我们想知道 A ==> B 的映射。
```python
clear all;
A =
```
```python
[
```
```python
3
```
```python
4
```
```python
5
```
```python
6
```
```python
1
```
```python
2
```
```python
]
```
```python
;
```
```python
disp
```
```python
(
```
```python
'A:'
```
```python
);
```
```python
disp
```
```python
(A);
```
```python
if
```
```python
~exist(
```
```python
'tst_rand.mat'
```
```python
,
```
```python
'file'
```
```python
)
    ind = randperm(
```
```python
length
```
```python
(A));
    save(
```
```python
'tst_rand.mat'
```
```python
,
```
```python
'ind'
```
```python
);
```
```python
else
```
```python
load
```
```python
tst_rand.
```
```python
mat;
```
```python
end
```
```python
B = A(ind);
```
```python
disp
```
```python
(
```
```python
'B: '
```
```python
);
```
```python
disp
```
```python
(B);
```
```python
% create map
```
```python
map =
```
```python
zeros
```
```python
(
```
```python
length
```
```python
(A),
```
```python
2
```
```python
);
reverse_map =
```
```python
zeros
```
```python
(
```
```python
length
```
```python
(A),
```
```python
2
```
```python
);
```
```python
for
```
```python
i
```
```python
=
```
```python
1
```
```python
:
```
```python
length
```
```python
(ind)
    map(
```
```python
i
```
```python
,
```
```python
1
```
```python
) =
```
```python
i
```
```python
;
    map(
```
```python
i
```
```python
,
```
```python
2
```
```python
) = ind(
```
```python
i
```
```python
);
```
```python
% B ==> A
```
```python
end
```
```python
for
```
```python
i
```
```python
=
```
```python
1
```
```python
:
```
```python
length
```
```python
(ind)
    reverse_map(
```
```python
i
```
```python
,
```
```python
1
```
```python
) = map(
```
```python
i
```
```python
,
```
```python
2
```
```python
);
    reverse_map(
```
```python
i
```
```python
,
```
```python
2
```
```python
) = map(
```
```python
i
```
```python
,
```
```python
1
```
```python
);
```
```python
% A == >B
```
```python
end
```
```python
ss = sortrows(reverse_map,
```
```python
1
```
```python
);
re_ind = ss(:,
```
```python
2
```
```python
);
re_A = B(re_ind);
```
```python
disp
```
```python
(
```
```python
're_A:'
```
```python
);
```
```python
disp
```
```python
(re_A);
```
结果：
```python
A:
```
```python
3
```
```python
4
```
```python
5
```
```python
6
```
```python
1
```
```python
2
```
```python
B:
```
```python
4
```
```python
1
```
```python
2
```
```python
6
```
```python
5
```
```python
3
```
```python
re_A:
```
```python
3
```
```python
4
```
```python
5
```
```python
6
```
```python
1
```
```python
2
```

