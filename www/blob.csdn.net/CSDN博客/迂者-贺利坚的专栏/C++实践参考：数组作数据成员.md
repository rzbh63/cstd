
# C++实践参考：数组作数据成员 - 迂者-贺利坚的专栏 - CSDN博客

2016年04月15日 22:23:43[迂者-贺利坚](https://me.csdn.net/sxhelijian)阅读数：4659


【项目 - 数组作数据成员】下面是设计好的一个工资类(Salary)：
```python
class Salary  
{
```
```python
public
```
```python
:
```
```python
void
```
```python
set_salarys
```
```python
( );
```
```python
//输入职工工资（输入-1标志着工资输入结束），工资保存到salary数组中，实际人数保存到number中；
```
```python
void
```
```python
add_salarys(
```
```python
int
```
```python
x);
```
```python
//给每个人涨x元工资
```
```python
void
```
```python
sort_salarys();
```
```python
//对工资由大到小排序
```
```python
void
```
```python
show_salarys( );
```
```python
//显示工资信息
```
```python
private
```
```python
:
```
```python
double
```
```python
salarys[50];
```
```python
//多人的工资
```
```python
int
```
```python
number;
```
```python
//实际人数
```
```python
};
```
（1）实现Salary类中的成员函数，在main函数定义Salary类的对象，输入工资，再给每个人涨500元工资，排序后工资数据，然后输出结果。
（2）手工输入工资？！太让人不能忍受了。现给出包含了不足500个职工工资的文件salary.txt（[下载](http://pan.baidu.com/s/1jGMihRg)），增加一个成员函数，用于从文件中读出数据，再增加一个成员函数，将排序后结果保存到一个文件中。编写main函数，测试你扩充的功能。
（3）用多文件的方式组织最后的程序。
参考解答：
（1）
```python
using
```
```python
namespace
```
```python
std
```
```python
;
```
```python
class
```
```python
Salary  
{
```
```python
public
```
```python
:
```
```python
void
```
```python
set_salarys( );
```
```python
//输入工资
```
```python
void
```
```python
add_salarys(
```
```python
int
```
```python
x);
```
```python
//涨工资
```
```python
void
```
```python
sort_salarys();
```
```python
//排序工资
```
```python
void
```
```python
show_salarys( );
```
```python
//显示工资
```
```python
private
```
```python
:
```
```python
double
```
```python
salarys[
```
```python
50
```
```python
];
```
```python
//工资
```
```python
int
```
```python
number;
```
```python
//实际人数
```
```python
};
```
```python
void
```
```python
Salary::set_salarys( )  
{
```
```python
int
```
```python
x,i=
```
```python
0
```
```python
;
```
```python
cin
```
```python
>>x;
```
```python
while
```
```python
(x>
```
```python
0
```
```python
)  
    {  
        salarys[i]=x;
```
```python
//工资保存到数组数据成员中
```
```python
++i;
```
```python
cin
```
```python
>>x;  
    }  
    number=i;
```
```python
//number是数据成员，记录下职工人数
```
```python
}
```
```python
void
```
```python
Salary::add_salarys(
```
```python
int
```
```python
x)  
{
```
```python
int
```
```python
i;
```
```python
for
```
```python
(i=
```
```python
0
```
```python
;i<number;i++)  
        salarys[i]+=x;  
}
```
```python
void
```
```python
Salary::sort_salarys()  
{
```
```python
int
```
```python
i,j;
```
```python
double
```
```python
t;
```
```python
for
```
```python
(i=
```
```python
0
```
```python
;i<number-
```
```python
1
```
```python
;i++)
```
```python
for
```
```python
(j=
```
```python
0
```
```python
;j<number-i-
```
```python
1
```
```python
;j++)
```
```python
if
```
```python
(salarys[j]<salarys[j+
```
```python
1
```
```python
])  
            {  
                t=salarys[j];  
                salarys[j]=salarys[j+
```
```python
1
```
```python
];  
                salarys[j+
```
```python
1
```
```python
]=t;  
            }  
}
```
```python
void
```
```python
Salary::show_salarys( )  
{
```
```python
int
```
```python
i;
```
```python
for
```
```python
(i=
```
```python
0
```
```python
;i<number;i++)
```
```python
cout
```
```python
<<salarys[i]<<
```
```python
" "
```
```python
;  
}
```
```python
int
```
```python
main( )  
{  
    Salary s;  
    s.set_salarys( );  
    s.add_salarys(
```
```python
500
```
```python
);  
    s.sort_salarys();  
    s.show_salarys( );
```
```python
return
```
```python
0
```
```python
;  
}
```
（2）
```python
#include <iostream>
```
```python
#include <fstream>
```
```python
#include <cstdlib>
```
```python
using
```
```python
namespace
```
```python
std
```
```python
;
```
```python
const
```
```python
int
```
```python
N=
```
```python
500
```
```python
;
```
```python
class
```
```python
Salary  
{
```
```python
public
```
```python
:
```
```python
void
```
```python
read_data( );
```
```python
void
```
```python
write_data();
```
```python
void
```
```python
add_salarys(
```
```python
int
```
```python
x);
```
```python
void
```
```python
sort_salarys();
```
```python
void
```
```python
show_salarys( );
```
```python
private
```
```python
:
```
```python
double
```
```python
salarys[N];
```
```python
//工资, 用指针更好
```
```python
int
```
```python
number;
```
```python
//人数
```
```python
};
```
```python
void
```
```python
Salary::read_data( )  
{
```
```python
int
```
```python
i;  
    ifstream infile(
```
```python
"salary.txt"
```
```python
,ios::in);
```
```python
//以输入的方式打开文件
```
```python
if
```
```python
(!infile)
```
```python
//测试是否成功打开
```
```python
{
```
```python
cerr
```
```python
<<
```
```python
"open error!"
```
```python
<<endl;
```
```python
exit
```
```python
(
```
```python
1
```
```python
);  
    }  
    i=
```
```python
0
```
```python
;
```
```python
while
```
```python
(infile>>salarys[i])  
        i++;  
    number=i;  
    infile.close();  
}
```
```python
void
```
```python
Salary::write_data( )  
{
```
```python
int
```
```python
i;  
    ofstream outfile(
```
```python
"salary_ordered.txt"
```
```python
,ios::out);
```
```python
//以输入的方式打开文件
```
```python
if
```
```python
(!outfile)
```
```python
//测试是否成功打开
```
```python
{
```
```python
cerr
```
```python
<<
```
```python
"open error!"
```
```python
<<endl;
```
```python
exit
```
```python
(
```
```python
1
```
```python
);  
    }
```
```python
for
```
```python
(i=
```
```python
0
```
```python
; i<number; ++i)  
    {  
        outfile<<salarys[i]<<endl;  
    }  
    outfile.close();  
}
```
```python
void
```
```python
Salary::add_salarys(
```
```python
int
```
```python
x)  
{
```
```python
int
```
```python
i;
```
```python
for
```
```python
(i=
```
```python
0
```
```python
; i<number; i++)  
        salarys[i]+=x;  
}
```
```python
void
```
```python
Salary::sort_salarys()  
{
```
```python
int
```
```python
i,j;
```
```python
double
```
```python
t;
```
```python
for
```
```python
(i=
```
```python
0
```
```python
; i<number-
```
```python
1
```
```python
; i++)
```
```python
for
```
```python
(j=
```
```python
0
```
```python
; j<number-i-
```
```python
1
```
```python
; j++)
```
```python
if
```
```python
(salarys[j]<salarys[j+
```
```python
1
```
```python
])  
            {  
                t=salarys[j];  
                salarys[j]=salarys[j+
```
```python
1
```
```python
];  
                salarys[j+
```
```python
1
```
```python
]=t;  
            }  
}
```
```python
void
```
```python
Salary::show_salarys( )  
{
```
```python
int
```
```python
i;
```
```python
for
```
```python
(i=
```
```python
0
```
```python
; i<number; i++)
```
```python
cout
```
```python
<<salarys[i]<<
```
```python
"\t"
```
```python
;  
}
```
```python
int
```
```python
main( )  
{  
    Salary s;  
    s.read_data( );  
    s.add_salarys(
```
```python
500
```
```python
);  
    s.sort_salarys();  
    s.write_data( );  
    s.show_salarys( );
```
```python
return
```
```python
0
```
```python
;  
}
```
（3）(略)

