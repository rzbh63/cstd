
# 量化交易研究———基础篇（3）借助talib库来直接获得MACD、动量、rsi、移动均线 - leofionn的博客 - CSDN博客


2018年05月12日 21:14:19[leofionn](https://me.csdn.net/qq_36142114)阅读数：1345


talib库有超多现成的方法，不用辛辛苦苦造轮子。上面几篇博客写了MACD、动量、rsi、移动均线的方法，但用起来还是不爽。刚好talib都有这些函数。
比较懒，就直接放代码吧
先看10日的移动均线：
```python
import
```
```python
tushare
```
```python
as
```
```python
ts
```
```python
import
```
```python
pandas
```
```python
as
```
```python
pd
```
```python
import
```
```python
matplotlib.pyplot
```
```python
as
```
```python
plt
```
```python
import
```
```python
numpy
```
```python
as
```
```python
np
```
```python
import
```
```python
talib
df=ts.get_k_data(
```
```python
'600600'
```
```python
)
df[
```
```python
'MA10_rolling'
```
```python
] = pd.rolling_mean(df[
```
```python
'close'
```
```python
],
```
```python
10
```
```python
)
close = [float(x)
```
```python
for
```
```python
x
```
```python
in
```
```python
df[
```
```python
'close'
```
```python
]]
```
```python
# 调用talib计算10日移动平均线的值
```
```python
df[
```
```python
'MA10_talib'
```
```python
] = talib.MA(np.array(close), timeperiod=
```
```python
10
```
```python
) 
df.tail(
```
```python
12
```
```python
)
```
![这里写图片描述](https://img-blog.csdn.net/20171019172053029?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvbml1Z2U4OTA1/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)
再来看指数移动均线和MACD
```python
import matplotlib.pyplot
```
```python
as
```
```python
plt
import numpy
```
```python
as
```
```python
np
import talib
df=ts.get_k_data(
```
```python
'600600'
```
```python
)
```
```python
close
```
```python
= [float(x)
```
```python
for
```
```python
x
```
```python
in
```
```python
df[
```
```python
'close'
```
```python
]]
```
```python
# 调用talib计算指数移动平均线的值
```
```python
df[
```
```python
'EMA12'
```
```python
] = talib.EMA(np.array(
```
```python
close
```
```python
), timeperiod=
```
```python
6
```
```python
)  
df[
```
```python
'EMA26'
```
```python
] = talib.EMA(np.array(
```
```python
close
```
```python
), timeperiod=
```
```python
12
```
```python
)
```
```python
# 调用talib计算MACD指标
```
```python
df[
```
```python
'MACD'
```
```python
],df[
```
```python
'MACDsignal'
```
```python
],df[
```
```python
'MACDhist'
```
```python
] = talib.MACD(np.array(
```
```python
close
```
```python
),
                            fastperiod=
```
```python
6
```
```python
, slowperiod=
```
```python
12
```
```python
, signalperiod=
```
```python
9
```
```python
)   
df.tail(
```
```python
12
```
```python
)
```
![这里写图片描述](https://img-blog.csdn.net/20171019172457494?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvbml1Z2U4OTA1/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)
最后来看动量和RSI的函数
```python
import
```
```python
tushare
```
```python
as
```
```python
ts
```
```python
import
```
```python
pandas
```
```python
as
```
```python
pd
```
```python
import
```
```python
matplotlib.pyplot
```
```python
as
```
```python
plt
```
```python
import
```
```python
numpy
```
```python
as
```
```python
np
```
```python
import
```
```python
talib
df=ts.get_k_data(
```
```python
'600600'
```
```python
)
close = [float(x)
```
```python
for
```
```python
x
```
```python
in
```
```python
df[
```
```python
'close'
```
```python
]]
df[
```
```python
'RSI'
```
```python
]=talib.RSI(np.array(close), timeperiod=
```
```python
12
```
```python
)
```
```python
#RSI的天数一般是6、12、24
```
```python
df[
```
```python
'MOM'
```
```python
]=talib.MOM(np.array(close), timeperiod=
```
```python
5
```
```python
)
df.tail(
```
```python
12
```
```python
)
```
![这里写图片描述](https://img-blog.csdn.net/20171019172759574?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvbml1Z2U4OTA1/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)

