
# scala 数组详解 - bitcarmanlee的博客 - CSDN博客


2017年06月17日 11:35:39[bitcarmanlee](https://me.csdn.net/bitcarmanlee)阅读数：1644



## 1.初始化数组
想要初始化数组，可以跟java里面一样，使用new关键字，指定数据类型与数组长度。
```python
def test() = {
        val arr =
```
```python
new
```
```python
Array
```
```python
[Int](
```
```python
3
```
```python
)
        arr.
```
```python
foreach
```
```python
(x =>
```
```python
print
```
```python
(x +
```
```python
","
```
```python
))
    }
```
上面代码run起来以后：
```python
0,0,0,
```
也可以不使用new关键字，直接提供初始值：
```python
def test() = {
        val arr =
```
```python
Array
```
```python
[Int](
```
```python
3
```
```python
)
        arr.
```
```python
foreach
```
```python
(x =>
```
```python
print
```
```python
(x +
```
```python
","
```
```python
))
    }
```
注意此时run起来以后，结果就为：
```python
3,
```
通过上面的例子，很容易看出有没有new关键字，区别还是很大的。
## 2.初始化变长数组
很多时候，我们需要长度可变的数组。比如在java中，很常用的就是ArrayList。在Scala中，则有ArrayBuffer这一神器。为了看清楚ArrayBuffer的用法，直接上源码。
```python
def test() = {
        val arrBuffer = ArrayBuffer[Int]()
```
```python
//数组末尾添加一个元素
```
```python
arrBuffer +=
```
```python
1
```
```python
//数组末尾添加多个元素
```
```python
arrBuffer += (
```
```python
2
```
```python
,
```
```python
3
```
```python
,
```
```python
4
```
```python
)
```
```python
//数组末尾添加另外一个数组
```
```python
arrBuffer ++=
```
```python
Array
```
```python
(
```
```python
5
```
```python
,
```
```python
6
```
```python
,
```
```python
7
```
```python
)
        printArr(arrBuffer)
```
```python
// 1,2,3,4,5,6,7,
```
```python
//删除最后一个元素
```
```python
arrBuffer.trimEnd(
```
```python
1
```
```python
)
```
```python
//删除第一个元素
```
```python
arrBuffer.trimStart(
```
```python
1
```
```python
)
        printArr(arrBuffer)
```
```python
// 2,3,4,5,6,
```
```python
//在指定位置插入元素
```
```python
arrBuffer.insert(
```
```python
1
```
```python
,
```
```python
0
```
```python
)
        printArr(arrBuffer)
```
```python
// 2,0,3,4,5,6,
```
```python
//在指定位置插入序列
```
```python
arrBuffer.insert(
```
```python
2
```
```python
,
```
```python
1
```
```python
,
```
```python
2
```
```python
,
```
```python
3
```
```python
)
        printArr(arrBuffer)
```
```python
// 2,0,1,2,3,3,4,5,6,
```
```python
//删除指定位置元素
```
```python
arrBuffer.remove(
```
```python
0
```
```python
)
        printArr(arrBuffer)
```
```python
// 0,1,2,3,3,4,5,6,
```
```python
//删除指定位置以后的若干个元素
```
```python
arrBuffer.remove(
```
```python
0
```
```python
,
```
```python
4
```
```python
)
        printArr(arrBuffer)
```
```python
// 3,4,5,6,
```
```python
}
    def printArr(arrBuffer: ArrayBuffer[Int]) = {
        arrBuffer.
```
```python
foreach
```
```python
(x =>
```
```python
print
```
```python
(x +
```
```python
","
```
```python
))
        println()
    }
```
## 3.Array与ArrayBuffer相互转换
如果我们需要在Array与ArrayBuffer中进行相互转换，操作也很简单。
```python
def test() = {
```
```python
val
```
```python
arrayBuffer = ArrayBuffer(
```
```python
1
```
```python
,
```
```python
2
```
```python
,
```
```python
3
```
```python
)
```
```python
val
```
```python
res = arrayBuffer.toArray
```
```python
val
```
```python
array
```
```python
= Array[Int](
```
```python
5
```
```python
,
```
```python
6
```
```python
,
```
```python
7
```
```python
)
```
```python
val
```
```python
buf =
```
```python
array
```
```python
.toBuffer
    }
```
## 4.数组遍历
集合遍历是最常见的做法。一般用for循环就可以搞定：
```python
def test() = {
        val
```
```python
array
```
```python
=
```
```python
Array
```
```python
(
```
```python
"a"
```
```python
,
```
```python
"b"
```
```python
,
```
```python
"c"
```
```python
,
```
```python
"d"
```
```python
)
```
```python
for
```
```python
(i <-
```
```python
0
```
```python
until
```
```python
array
```
```python
.length)
            println(i +
```
```python
":"
```
```python
+
```
```python
array
```
```python
(i))
    }
```
将代码run起来以后，输出如下：
```python
0
```
```python
:a
```
```python
1
```
```python
:b
```
```python
2
```
```python
:c
```
```python
3
```
```python
:d
```
如果想将步长调整为2：
```python
for
```
```python
(i <-
```
```python
0
```
```python
until
```
```python
(array.
```
```python
length
```
```python
,
```
```python
2
```
```python
))
```
如果想实现逆序遍历：
```python
for
```
```python
(i <- (
```
```python
0
```
```python
until
```
```python
(array.
```
```python
length
```
```python
)).
```
```python
reverse
```
```python
)
```
在java中有增强型for循环，scala中自然也提供了这一方便的操作：
```python
for
```
```python
(item <-
```
```python
array
```
```python
)
```
## 5.一些实用的操作
数组有一些经常使用，特别好用的操作，也一并列出来。
```python
def test()
```
```python
=
```
```python
{
        val
```
```python
array
```
```python
=
```
```python
Array
```
```python
(
```
```python
1
```
```python
,
```
```python
2
```
```python
,
```
```python
3
```
```python
,
```
```python
4
```
```python
,
```
```python
5
```
```python
)
        println(
```
```python
array
```
```python
.
```
```python
sum
```
```python
)
```
```python
//15
```
```python
println(
```
```python
array
```
```python
.
```
```python
max
```
```python
)
```
```python
//5
```
```python
println(
```
```python
array
```
```python
.
```
```python
min
```
```python
)
```
```python
//1
```
```python
println(
```
```python
array
```
```python
.
```
```python
mkString(
```
```python
"-"
```
```python
))
```
```python
//1-2-3-4-5,实际项目中经常使用
```
```python
println(
```
```python
array
```
```python
.
```
```python
mkString(
```
```python
"("
```
```python
,
```
```python
"-"
```
```python
,
```
```python
")"
```
```python
))
```
```python
//(1-2-3-4-5)
```
```python
}
```
## 6.一些其他操作
使用yield产生一个新数组
```python
def test() = {
        val
```
```python
array
```
```python
=
```
```python
Array
```
```python
(
```
```python
2
```
```python
,
```
```python
4
```
```python
,
```
```python
5
```
```python
,
```
```python
6
```
```python
,
```
```python
7
```
```python
)
        val res =
```
```python
for
```
```python
(item <-
```
```python
array
```
```python
if
```
```python
item %
```
```python
2
```
```python
==
```
```python
0
```
```python
)
```
```python
yield
```
```python
item *
```
```python
2
```
```python
res.
```
```python
foreach
```
```python
(x =>
```
```python
print
```
```python
(x +
```
```python
","
```
```python
))
```
```python
// 4,8,12,
```
```python
}
```
上面的操作等价于以下代码：
```python
array
```
```python
.filter
```
```python
(_ %
```
```python
2
```
```python
==
```
```python
0
```
```python
)
```
```python
.map
```
```python
(_ *
```
```python
2
```
```python
)
```

