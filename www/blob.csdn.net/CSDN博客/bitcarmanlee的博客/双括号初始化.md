
# 双括号初始化 - bitcarmanlee的博客 - CSDN博客


2017年05月16日 21:26:11[bitcarmanlee](https://me.csdn.net/bitcarmanlee)阅读数：771


在集合类(List,Map,Set等)的使用时，我们创建一个常量集合或者传递一个常量集合时，一般会这么做：
```python
Set<String> set = new HashSet();
set.add(
```
```python
"1"
```
```python
);
set.add(
```
```python
"2"
```
```python
);
```
```python
...
```
或者在类中初始化一个常量集合：
```python
privates static final Set<String> set = new HashSet();
static {
    set.add(
```
```python
"1"
```
```python
);
    set.add(
```
```python
"2"
```
```python
);
```
```python
...
```
```python
}
```
我们可以使用更简单的双括号方法：
```python
Set
```
```python
<
```
```python
String
```
```python
>
```
```python
set = new HashSet()
```
```python
{{
```
```python
add
```
```python
(
```
```python
"1"
```
```python
);
```
```python
add
```
```python
(
```
```python
"2"
```
```python
);
```
```python
...
```
```python
}}
```
```python
removeCodeIn(new HashSet
```
```python
<
```
```python
String
```
```python
>
```
```python
()
```
```python
{{
```
```python
add
```
```python
(
```
```python
"XZ13s"
```
```python
);
```
```python
add
```
```python
(
```
```python
"AB21/X"
```
```python
);
```
```python
add
```
```python
(
```
```python
"YYLEX"
```
```python
);
```
```python
add
```
```python
(
```
```python
"AR5E"
```
```python
);
 }}
```
```python
);
```
这两个大括号的含义分别是：
第一个括号创建了一个新的匿名内部类；
第二个括号声明了匿名内部类实例化时运行的实例初始化块。
如果你只是要创建并初始化一个实例而不是创建一个新类，或者创建任何不添加字段属性或重载方法的匿名类时，用双括号语法就很好了。
如果你用的是集合类且该类有构造器参数接受另一个集合生成该集合的实例，那么有个更好的更惯用的替代方法。例如List可以用Arrays.asList来初始化：
```python
List
```
```python
<
```
```python
String
```
```python
>
```
```python
list
```
```python
=
```
```python
new
```
```python
ArrayList
```
```python
<
```
```python
String
```
```python
>
```
```python
(Arrays
```
```python
.
```
```python
asList(
```
```python
"1"
```
```python
,
```
```python
"2"
```
```python
,
```
```python
"3"
```
```python
));
```

