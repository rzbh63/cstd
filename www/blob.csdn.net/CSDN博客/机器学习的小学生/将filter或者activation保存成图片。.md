
# 将filter或者activation保存成图片。 - 机器学习的小学生 - CSDN博客


2018年11月23日 19:18:32[机器学习的小学生](https://me.csdn.net/xuluhui123)阅读数：59


在python代码中，将滤波器filter保存为.mat文件（这里是为了利用matlab写图片，当然也可以在python中直接写图片）：
```python
filters
```
```python
=
```
```python
net
```
```python
.
```
```python
params
```
```python
[
```
```python
'conv1'
```
```python
]
```
```python
[
```
```python
0
```
```python
]
```
```python
.
```
```python
data              
filters
```
```python
=
```
```python
(
```
```python
filters
```
```python
-
```
```python
filters
```
```python
.
```
```python
min
```
```python
(
```
```python
)
```
```python
)
```
```python
/
```
```python
(
```
```python
filters
```
```python
.
```
```python
max
```
```python
(
```
```python
)
```
```python
-
```
```python
filters
```
```python
.
```
```python
min
```
```python
(
```
```python
)
```
```python
)
```
```python
vis_square
```
```python
(
```
```python
filters
```
```python
.
```
```python
transpose
```
```python
(
```
```python
0
```
```python
,
```
```python
2
```
```python
,
```
```python
3
```
```python
,
```
```python
1
```
```python
)
```
```python
)
```
```python
sio
```
```python
.
```
```python
savemat
```
```python
(
```
```python
snap_path
```
```python
+
```
```python
'filter.mat'
```
```python
,
```
```python
{
```
```python
'filter'
```
```python
:
```
```python
filters
```
```python
}
```
```python
)
```
```python
plt
```
```python
.
```
```python
show
```
```python
(
```
```python
)
```
利用matlab写图片：
```python
close all;
filter = load('filter.mat');
filter = filter.filter;
filter = permute(filter,[1 3 4 2]);
disp(size(filter));
for i = 1:size(filter,1)
    img = filter(i,:,:,:);
    img = squeeze(img);
    
    img1=imresize(img,10);
    subplot(1, 2, 1)
    
    imshow(img1,'Border','tight');
    saveas(gcf,['test.jpg']);
    img0=uint8(img*255);%这样可以，这个快一点
    %img0=im2uint8(img0);%这样也可以，这个很慢
    img0=imresize(img0,10);
    imwrite(img0,['test.png']);
    subplot(1, 2, 2)
    imshow(img0,'Border','tight');
    %pause(1);
    break;
end
```

