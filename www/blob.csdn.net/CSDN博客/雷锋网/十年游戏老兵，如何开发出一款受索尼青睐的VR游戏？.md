
# 十年游戏老兵，如何开发出一款受索尼青睐的VR游戏？ - 雷锋网 - CSDN博客


2016年11月24日 17:45:30[leiphone](https://me.csdn.net/leiphone)阅读数：1402


导语：本期公开课，雷锋网邀请到姚堃（Kun，更多的被人称为“姚姚丸”）。

![十年游戏老兵，如何开发出一款受索尼青睐的VR游戏？ | 硬创公开课](http://static.leiphone.com/uploads/new/article/740_740/201610/580207fd0dcdd.png?imageMogr2/format/jpg/quality/90)
提及当下VR的应用场景，VR游戏无疑是最火的，也是最能够吸引消费者的。但针对目前三大头显平台Oculus
 Rift、HTC Vive和PlayStation VR，开发一款优质的VR游戏，对开发者们来说虽充满惊喜，却挑战重重。
本期公开课，雷锋网邀请到姚堃（Kun，更多的被人称为“姚姚丸”）。他是万岁游戏创始人。曾在日本SQUEARE ENIX本社第一开发部从事游戏美术设计工作近17年，专注于大屏幕游戏的研发。那么传统的主机游戏经验，是否能帮助他更好地开发VR游戏？VR带给他们最大的挑战是什么？他们又如何开发出一款受索尼青睐的VR游戏？本期公开课姚姚丸将为我们解答。
![十年游戏老兵，如何开发出一款受索尼青睐的VR游戏？ | 硬创公开课](http://static.leiphone.com/uploads/new/article/740_740/201610/58020821b48e5.png?imageMogr2/format/jpg/quality/90)
以下是本次公开的内容整理。
雷锋网： 之前您在日本参与过不少主机游戏的开发，能为我们大致介绍下吗？
**姚姚丸**：我在日本生活了十几年，在大家比较熟悉的日本SQUEARE ENIX本社工作了八年，参与过《最终幻想13》《最终幻想纷争012》《零式》《王国之心3D》《最终幻想15》《最终幻想13雷霆回归》等游戏制作，后来觉得中国的主机游戏也需要有发展，2014年辞职回北京，创办了万岁游戏，主要业务是为各大主机平台，PS4、psvr、xbox one等主机类平台（大屏幕类游戏）做原创游戏，现在开发中的游戏有《除夕》，已经上了国行的VR版本，还有一款解密类游戏叫《Your Toy》（你的玩具），是xbox
 one的平台，马上要发售了，多谢大家。
雷锋网：作为开发者，就游戏本身而言，主机游戏最大的特点是什么？与PC游戏，或手游相比。
**姚姚丸**：我觉得和手机相比，首先主机游戏的屏幕比手机大，一定要插电视上去玩。玩的场所也不一样。手机是移动着、用碎片化的时间去玩，主机游戏是大屏幕是在客厅，在这方面体验肯定是不一样的。然后主机机能比较高，比手机要高，画面、音效体验也会特别好，可以舒舒服服地坐在沙发上玩。
玩的时间可以比手机更长一点，当然手机也可以玩得很高兴，但是一直盯着手机去看的话，可能对眼睛和身体有过多的压力，比如说你看手机你的眼睛是往下看的，就算把手机举起来眼球也是往下看的（不信你们可以去试试），玩手机的时候总是弯着腰，对人体的伤害性更大。那么主机游戏呢，回到家打开电视可以躺在沙发上玩，环境稍微舒适些。
和PC相比呢，主机虽然比市面上超级配置的PC性能要弱，但是主机的硬件环境比较统一，它是一个闭环的开发环境，并不开放，所以不会出现那种设备不兼容的bug。你要玩一个游戏需要换电脑的情况，是不会在主机环境中出现的，只要是主机平台上可以下载的东西，你的这台游戏机是一定可以玩的。除非万分之一你的机器有问题，才会出现不能玩的情况，不会有升级显卡的事发生，它是一个很统一很干净的环境。
![十年游戏老兵，如何开发出一款受索尼青睐的VR游戏？ | 硬创公开课](http://static.leiphone.com/uploads/new/article/740_740/201610/58020eb3e7cfa.png?imageMogr2/format/jpg/quality/90)
雷锋网： 此前的工作经验对VR版游戏的开发有什么帮助，又有哪些经验不适用？在开发过程中，您做了哪些改变？
**姚姚丸**：我之前一直做这种主机类相关的游戏，回来创业做的东西是和之前一样的，我自信在经验方面还是很丰富的，但这种技术类东西的革新比较快，比如索尼的PS4，他原来有PS3、PS2、PS1，并不是说你能做好PS2的游戏就能做好PS3的游戏，其实每一次这种硬件的更新换代，或者硬件没换代，它的附属品做了娱乐的的升级，对开发者的挑战还是挺大的。
但是我以前积累下来的经验，对PS4娱乐升级的开发还是起到了很多的帮助。**首先在游戏开发的流程上来讲他是没有什么大的变化。**比如说我以前在SE，他是一家非常大的公司，比你们想象得还要大，已经在主机游戏这个圈子里大概三十年了，所以他非常有钱，人才非常多，比如做一个《最终幻想》有好几百人，流程也是针对好几百人去形成的，所以他的流程并不能直接复制到我的公司来用。
因为我的公司是刚起步的，不能用这种人海或者砸钱的战术去模拟原来老东家的流程，所以我们要重新根据自己的情况去制定我们的流程。**比如说立项，我不能说我也做一个《最终幻想》那样的3A类游戏，而是要针对我们的人数、开发时间、成本等等，把项立得小一点，玩法立得简单点。**
然后是考虑怎么能**一是节省成本、二是缩短开发周期**。那么节省成本并不是偷工减料，是在画面不会有缩水，不会让玩家感到这个东西很糙、很坑爹的前提下去减少成本。**具体的做法比如缩短游戏的时长，减少游戏里的一些特效，用一些容易实现的，又不影响视觉感官的方式去实现。**
还有个方法是**我们会把整张的游戏分成章节去发售，这样对开发者的压力就会减小，购买者的压力也会小很多。**市面上，一款主机游戏至少卖三四百，量级大一点的可能会买到五六百。分章节的话我们能保证开发的一个连续度，又不会让我们的钱马上消耗掉，同时开发者和玩家的新鲜感可以保持住，用这样的方式在国内主机圈子里为大家做游戏，我觉得是最好的一个方法吧。
雷锋网：在你们开发过程中，是怎么解决眩晕感这个问题的？做了哪些与以往不同的处理方式？
姚姚丸：开发者也要去碰这个问题，玩家也要经历这个问题，我们现在跟PSVR合作，去年年初拿到PSVR的工程机。索尼自己本身也做了很多研究，他们整理了一些经验文档分享给我们，其中包括怎么防眩晕、玩法，如何发挥PSVR长处，以及机能，我们做了很多的功课。
![十年游戏老兵，如何开发出一款受索尼青睐的VR游戏？ | 硬创公开课](http://static.leiphone.com/uploads/new/article/740_740/201610/58020890eecbf.png?imageMogr2/format/jpg/quality/90)
这张图能看到，设备把脸罩的很紧，这是为了达到沉浸感的目的。如何达到沉浸感，人体感官上做功课。VR就是用视觉来欺骗大脑，视觉、听觉，触觉（Move手柄的震动）这几项完全可以欺骗你的大脑。大脑老受骗的话，大脑会受不了的。大脑被你骗了，但身体没有被你骗，大脑和身体分家了，那么你会产生各种不适应的感觉。
人的大脑前庭和视觉系统不一致，非常敏感。眼前画面在移动，但玩家身体却没有移动，大脑无法做出正确的判断。也就是，视觉告诉大脑，咱们现在在跑了，但腿还留在原地。那么大脑判断的错误，使有些人会难受，不光晕，还会呕吐、耳鸣。
![十年游戏老兵，如何开发出一款受索尼青睐的VR游戏？ | 硬创公开课](http://static.leiphone.com/uploads/new/article/740_740/201610/58020a3969978.png?imageMogr2/format/jpg/quality/90)
传统游戏，游戏里面由程序控制相机的旋转，程序控制相机的位置变化，走路上下颠簸特效，画面上上下下颠簸，人往前跑，就很真实。地震、落石等相机震动特效。比如拍电影，拍大地震的场景，现场是没有震的，演员假装震动的感觉。摄影师在摇摄像机，拍出来再看，有地震的效果，但其实是假的。
蒙太奇镜头的切换，如过场动画，不是你直接演过去、走过去，而是切镜头的效果，这在传统游戏镜头中是非常多的。景深特效，如远处的地方虚了，近的地方虚了，有一个电影感。这在传统电影里面都是OK的。
VR游戏是什么样的呢？把传统的东西全删掉了，一个不留，没用了。**因为VR，相机就等于玩家的双眼，去感受虚拟的世界**。做一些效果，蒙太奇，如果你强制转摄像机，但玩家并不想转摄像机，那玩家肯定会晕。
所以，一定要避免，在VR中像传统游戏一样给玩家一些信息，如画面、视觉等等。比如，你想震动就震动，完全不考虑玩家是否可以接受这个震动。这是要去做功课的。
![十年游戏老兵，如何开发出一款受索尼青睐的VR游戏？ | 硬创公开课](http://static.leiphone.com/uploads/new/article/740_740/201610/58020f015309a.png?imageMogr2/format/jpg/quality/90)
![十年游戏老兵，如何开发出一款受索尼青睐的VR游戏？ | 硬创公开课](http://static.leiphone.com/uploads/new/article/740_740/201610/58020f1bc28d9.png?imageMogr2/format/jpg/quality/90)
雷锋网：PS4的游戏玩家多采用手柄，而现在PSVR要使用Move，这对游戏交互产生了怎样的影响？
姚姚丸：PSVR+Move可以带来更真实的操作方式，跟传统方式不同。
PS4手柄前面有一个灯，带六轴传感器，给追踪感应打下基础，PSVR中有一款《生化危机》的demo《Kitchen》，玩家直接用手柄玩，晃动手柄的话，里面被绑住的游戏角色的手和手臂也会晃动，游戏角色手臂晃动和你自己真实手臂的晃动是一致的。这样给你很强的代入感。
但手柄是一个，分不开，这时Move起到了很大的作用，左右手分别一个，相当于游戏中的手臂。如果体验过VR版的《蝙蝠侠》，你会发现在游戏里面，你抬头照镜子蝙蝠侠也抬头照镜子，你手抬起来摸自己的脸，你自己就是蝙蝠侠。非常酷。这是因为做到了反IK（反向运动）的追踪。
![十年游戏老兵，如何开发出一款受索尼青睐的VR游戏？ | 硬创公开课](http://static.leiphone.com/uploads/new/article/740_740/201610/58020ba12f4a1.png?imageMogr2/format/jpg/quality/90)
摄像头会捕捉Move的光点，空间上进行反推的演算，把数据传到角色身上，游戏中角色的动作会跟你真实的动作一样。比如说我捡东西，弯腰用拿着Move的手捡东西，游戏里的手会伸出去，我按下Move上的扳机键，游戏角色的手指会弯曲，捡东西。这完全跟传统的手柄感受不同。所以我建议大家一定要买Move。
传统游戏角色会射箭，按一个钮就射了。但VR游戏没有那么简单。先要手往后背掏一下，箭要搭在弓上。左手拿个弓，往后拉，箭会射出去，跟真实的射箭一样，所以我得真实的操作感受是有区别的。
![十年游戏老兵，如何开发出一款受索尼青睐的VR游戏？ | 硬创公开课](http://static.leiphone.com/uploads/new/article/740_740/201610/58020a573b89c.png?imageMogr2/format/jpg/quality/90)
**简单总结下，VR游戏中的双手控制。**
> 接近真实物体的使用方法；


> 像刚刚讲的射箭；（开门是真的要转门把手，把门打开 ；扔手雷，要拉线，你要是不扔，手雷可能掉到你脚底下。）


> 利用震动、视觉等增加更真实的反馈；（像震动的背心，震动加视觉，再加上操作，真的让你沉浸在虚拟世界里。）


> 需要考虑玩家操作的不确定性。（比如朝自己头开一枪，会不会掉血；关键道具钥匙去开门，扔到井里面怎么办。整个环境、逻辑设计要难一倍。）


> 不同控制器需要对应不同的处理方式。（如我们的《除夕》正式版要加入对手柄的支持，既要支持Move，又要支持传统手柄，这需要花费大量时间考虑。）

雷锋网：PSVR上的一些游戏，有些可用Daul Shock，有些可用PS Move，手柄的选择是由什么决定的？
姚姚丸：特别奇妙的事，PSVR是今年刚出的。PS4是2013年上市，PS Move是2010年上市。当时用户对Move的定位不太接受，支持Move的游戏也较少，普及量没上去，这次借着PSVR，Move跟它是完美的组合。当年索尼把Move配件公布的两个形象，大家觉得很奇葩，到现在有的人第一次见到，还是觉得奇葩，但仔细看，是具有一定的视觉效果，使用感受在上面，不是一般人能理解的。
PSVR用Move最好。支持手柄的原因，是在Move被越来越多玩家购买前，达到一定用户量前，还是希望没有Move的玩家能体验到游戏的乐趣，考虑到中间的过渡。
![十年游戏老兵，如何开发出一款受索尼青睐的VR游戏？ | 硬创公开课](http://static.leiphone.com/uploads/new/article/740_740/201610/58020bdd94dfa.png?imageMogr2/format/jpg/quality/90)
雷锋网：VR游戏开发时，在技术上、模型面数上，以及场景搭建上都跟以前不同，可以针对这三个方面具体讲讲吗？
姚姚丸：为什么3D开发成本一定比2D成本高，2D是平面的，3D是360度无死角。玩家会来回看，就是一棵草，一个石头子，都不能偷懒，360度去看它，所以成本会飙高。
那么VR呢？VR要求这种单纯3D还不行，要把所有模型，所有场景中能看到的东西，能摸到的东西做的很细。如果写实的东西，材质做的很糙。当你戴上头盔去看的时候，会觉得特别特别假。所以我们在建模精度上会提高很多倍，至少是两倍。如果你有钱，也有时间，可以把建模的精度提高到三四倍左右，这样玩VR的人看到你场景里的东西会很舒服。
![十年游戏老兵，如何开发出一款受索尼青睐的VR游戏？ | 硬创公开课](http://static.leiphone.com/uploads/new/article/740_740/201610/58020c0a2c1ad.png?imageMogr2/format/jpg/quality/90)
**除了建模的精度、摆放，模型比例包括人物、场景、道具，必须按实际比例去建模。**比如一个锤子长30厘米就必须要做一个长30厘米的锤子，当然，传统游戏也是这么做的，这是要帮助去跟角色和怪物成一个比例。但问题是，如果按真实比例去做，放到VR里会感到非常小 。因为双眼有误差，你闭上一只眼，睁开一只眼，位置有误差，同时稍微晃动头去看东西，它的大小变化是很柔和的。
VR，如果让大脑觉得这个锤子真的是这么大，包括它在十几米开外，或拿到手里在眼前的重量感，因为控制器没有重量，只有用比例感受它的重量。**想要感受到它的贴图很真实，它的大小是对的，就要刻意加大模型尺寸，等比例加大。**这样在VR中拿到这个锤子的时候很舒服，跟真实大小差不多，其实都是做了功课的。角色的脸，如果按正常大小来做，VR中会觉得脸很小。把角色的头放大一些，在模型上看着是偏大，但VR中很正常。
**还有关于物体摆放的问题**。传统游戏中桌子上放一些东西，看起来没什么问题。但在VR中，不仅是360度看这个场景，还可以360度看桌子上的任何一个东西，这对开发者来说，工作量会很大。戴上VR走到水壶前面，稍微一低头，会发现水壶是悬空的。传统游戏中，没有这么高自由度，但在VR中，稍微一歪头，就会发现，什么是穿插的，什么是悬空的，这也是考验开发者的耐心吧。
![十年游戏老兵，如何开发出一款受索尼青睐的VR游戏？ | 硬创公开课](http://static.leiphone.com/uploads/new/article/740_740/201610/58020c3d96de4.png?imageMogr2/format/jpg/quality/90)
![十年游戏老兵，如何开发出一款受索尼青睐的VR游戏？ | 硬创公开课](http://static.leiphone.com/uploads/new/article/740_740/201610/58020cc0006fe.png?imageMogr2/format/jpg/quality/90)
**场景的搭建不同。**以游戏玩家行径为例。传统游戏中，玩家上上下下，来回随便走。VR中尽可能往前走，左拐，左上拐，右拐，右上拐。不要让玩家有猛的转身，光线追踪可以判定你转身，但老转身，会丢失一些灵敏度。游玩时，玩家会出现一些危险，因为看不到旁边的东西。老让玩家左右往后的动作，肯定会出危险的。
**帧数对VR很重要。**
什么是帧数？看电影，一秒是25帧，如果你少于这个数，看的时候很别扭。如果一秒4帧，画面会很不顺滑。游戏也是这个道理。每秒刷新率越高，看见画面越顺畅。传统游戏一般不低于30帧，玩起来不会有不适感。
VR完全是模拟你的眼睛，欺骗大脑，对刷新率有更严格的要求。头扭过去了，画面还没过来，肯定会晕。索尼一定要求我们的游戏60帧以上，低于60帧过不了索尼质检。
在画面效果上看起来没有什么大的改变，同时去优化。如优化模型面数，从10万面减少到9万，肉眼看不出很大区别。贴图改小一点，运算量上有很大优化，画面看不到区别。为什么很痛苦？因为一点一点试，减少到多少不会掉帧，这个场景多了一个箱子，改好的特效例子还是会掉帧，那么是不是要把刚改好的箱子面数减少。
这个场景好了，往前走，两个箱子，我开一枪，有特效有烟雾例子，还是掉帧，但删掉的话已经不像烟雾了，那就要重新去写特效的算法，所以做主机游戏，对图形学的精通还是很重要的。
![十年游戏老兵，如何开发出一款受索尼青睐的VR游戏？ | 硬创公开课](http://static.leiphone.com/uploads/new/article/740_740/201610/58020d18653cb.png?imageMogr2/format/jpg/quality/90)
**帧数>=60帧**
> 任何微小的卡顿在VR中也变得十分明显

> 视觉上的延迟会让玩家感到不适
**解决方法：**
> 画面淡出后读取资源

> 退出VR模式读取资源

> 优化并少用镜头效果（如景深、模糊）

> 使用尽量少的实时光源，调低实时阴影

> 光照特别费资源，场景中模型数量都是会计算光的折射，每计算一次会占用资源；

> 利用LOD，batching和遮挡剔除减少同屏显示模型面数和draw call

> （根据实际帧数选择是否开启unity的新功能，比如Single pass VR，Graphics jobs和IL2CPP）
什么是LOD？一只怪物冲我跑过来，离我很远用了另外一个模型，这个模型面数很少，很粗糙。一百米是一个模型，跑到离我50米之内是一个模型，跑到我眼前又是一个模型，三个模型减少运算量。

![十年游戏老兵，如何开发出一款受索尼青睐的VR游戏？ | 硬创公开课](http://static.leiphone.com/uploads/new/article/740_740/201610/58020e4c745ce.png?imageMogr2/format/jpg/quality/90)
雷锋网(公众号：雷锋网)：您有提过主机游戏开发的环境很封闭，很多技术都需要开发人员自己去琢磨，不管是主机游戏，还是VR游戏，您能给其他开发者一些建议吗？
姚姚丸：封闭是要有一个很干净的环境，所有用户硬件统一。这样给开发者一个比较好的测试环境，不用考虑很多人是不是用的东西不一样。主机就是这一个一样的PS4，但开发商配合平台商，保证用户玩游戏时不会出现bug。
在封闭的环境下，把自己的游戏做的非常非常好，FQA（工厂品质保证）不是光你游戏没问题就好了。当游戏场景是一个汽油桶爆炸的特效一瞬间时，我们拔掉头盔、摘掉手柄，然后再连上设备，看游戏还能不能玩？如果机器就崩溃了，进不去游戏了，那么这个游戏是有问题的。所有，拨插的测试也很重要。
主机刚进中国，主机玩家要求蛮高的，买主机游戏的人 可以玩到不同于网游、手游的游戏，但开发成本、门槛很高。索尼、微软很支持少人数，独立游戏团队先做小一点的游戏，把品质做好。不是在画面上的，是在玩法上的，慢慢让你的团队，让开发者习惯闭环的开发环境后，摸透设备的性能后，再提高团队整体开发流程和技术。

雷锋网原创文章，网页转载请注明来自雷锋网，署名作者和原文链接。移动端转载授权，请联系雷锋网公众号，详情见转载须知。



