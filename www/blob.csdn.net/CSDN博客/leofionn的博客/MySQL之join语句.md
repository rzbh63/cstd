
# MySQL之join语句 - leofionn的博客 - CSDN博客


2018年05月28日 10:37:34[leofionn](https://me.csdn.net/qq_36142114)阅读数：135


## 介绍
join用于多表中字段之间的联系，语法如下
```python
...
```
```python
from
```
```python
table1 inner|left|
```
```python
right
```
```python
join table2
```
```python
on
```
```python
...
```
首先建表
![这里写图片描述](https://img-blog.csdn.net/20170420194450606?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvanl4bXVzdA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)
![这里写图片描述](https://img-blog.csdn.net/20170420194504621?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvanl4bXVzdA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)
## 1、inner join
### 基于连接谓词将两张表的列组合在一起，产生新的结果表
```python
select
```
```python
*
```
```python
from
```
```python
user1
```
```python
inner
```
```python
join
```
```python
user2
```
```python
on
```
```python
user1.user_name=user2.user_name;
```
![这里写图片描述](https://img-blog.csdn.net/20170420195809474?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvanl4bXVzdA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)
![这里写图片描述](https://img-blog.csdn.net/20170420204233348?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvanl4bXVzdA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)
## 2、left join
### 从左表产生一套完整的记录，还有右边匹配的记录，如果没有匹配就包含null
![这里写图片描述](https://img-blog.csdn.net/20170420204311151?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvanl4bXVzdA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)
```python
select
```
```python
*
```
```python
from
```
```python
user1
```
```python
left
```
```python
join
```
```python
user2
```
```python
on
```
```python
user1.user_name=user2.user_name;
```
![这里写图片描述](https://img-blog.csdn.net/20170420200728477?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvanl4bXVzdA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)
### 只查询左表的数据，不包含右表的，使用where 限制右表key为null
```python
select
```
```python
*
```
```python
from
```
```python
user1
```
```python
left
```
```python
outer
```
```python
join
```
```python
user2
```
```python
on
```
```python
user1.user_name=user2.user_n
ame
```
```python
where
```
```python
user2.user_name
```
```python
is
```
```python
null
```
```python
;
```
![这里写图片描述](https://img-blog.csdn.net/20170420201007807?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvanl4bXVzdA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)
### 使用left join实现inner join的效果
使用where 限制左右表key不为null
```python
select
```
```python
*
```
```python
from
```
```python
user1
```
```python
left
```
```python
outer
```
```python
join
```
```python
user2
```
```python
on
```
```python
user1.user_name=user2.user_n
ame
```
```python
where
```
```python
user1.user_name
```
```python
is
```
```python
not
```
```python
null
```
```python
and
```
```python
user2.user_name
```
```python
is
```
```python
not
```
```python
null
```
```python
;
```
![这里写图片描述](https://img-blog.csdn.net/20170420201358636?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvanl4bXVzdA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)
### 求差集
就求除重合的其他全部
```python
mysql
```
```python
>
```
```python
select
```
```python
*
```
```python
from user1 left
```
```python
join
```
```python
user2
```
```python
on
```
```python
user1
```
```python
.
```
```python
user_name
```
```python
=
```
```python
user2
```
```python
.
```
```python
user_name
```
```python
->
```
```python
where
```
```python
user2
```
```python
.
```
```python
id is
```
```python
null
```
```python
->
```
```python
union
```
```python
->
```
```python
select
```
```python
*
```
```python
from user1 right
```
```python
join
```
```python
user2
```
```python
on
```
```python
user1
```
```python
.
```
```python
user_name
```
```python
=
```
```python
user2
```
```python
.
```
```python
user_name
```
```python
->
```
```python
where
```
```python
user1
```
```python
.
```
```python
id is
```
```python
null
```
```python
;
```
![这里写图片描述](https://img-blog.csdn.net/20170420202749812?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvanl4bXVzdA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)
![这里写图片描述](https://img-blog.csdn.net/20170420202710170?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvanl4bXVzdA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)
## 3、right join
![这里写图片描述](https://img-blog.csdn.net/20170420204527149?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvanl4bXVzdA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)
```python
select
```
```python
*
```
```python
from
```
```python
user1
```
```python
right
```
```python
join
```
```python
user2
```
```python
on
```
```python
user1.user_name=user2.user_name;
```
![这里写图片描述](https://img-blog.csdn.net/20170420203137412?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvanl4bXVzdA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)
## 4、cross join
### 交叉连接，得到的结果是两个表的乘积，即
### 笛卡尔积
```python
select
```
```python
*
```
```python
from
```
```python
user1
```
```python
cross
```
```python
join
```
```python
user2;
```
![这里写图片描述](https://img-blog.csdn.net/20170420203331961?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvanl4bXVzdA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)
再试一下 select * from user1 inner join user2;
![这里写图片描述](https://img-blog.csdn.net/20170420203518725?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvanl4bXVzdA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)
可以看出在MySQL cross join、inner join、join这三者实现效果一样
## 5、full join
### full join的实现使用左连接和右连接一起实现，如果没匹配，对面就null
```python
mysql>
```
```python
select
```
```python
*
```
```python
from
```
```python
user1 left
```
```python
join
```
```python
user2
```
```python
on
```
```python
user1.user_name=user2.user_name
    ->
```
```python
union
```
```python
->
```
```python
select
```
```python
*
```
```python
from
```
```python
user1 right
```
```python
join
```
```python
user2
```
```python
on
```
```python
user1.user_name=user2.user_name;
```
![这里写图片描述](https://img-blog.csdn.net/20170420204108728?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvanl4bXVzdA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)
![这里写图片描述](https://img-blog.csdn.net/20170420204706385?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvanl4bXVzdA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)
## 6、3个或者3个以上表间的连接
```python
select
```
```python
*
```
```python
from
```
```python
(
 user1
```
```python
inner
```
```python
join
```
```python
user2
```
```python
on
```
```python
user1.user_name=user2.user_name
 )
```
```python
inner
```
```python
join
```
```python
user_kills;
```
括号里面的SQL语句可以看成一个表，然后又使用inner join….on连接起来的两个或者多个表，作为新表与其他表进行连接
![这里写图片描述](https://img-blog.csdn.net/20170420222858846?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvanl4bXVzdA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)

