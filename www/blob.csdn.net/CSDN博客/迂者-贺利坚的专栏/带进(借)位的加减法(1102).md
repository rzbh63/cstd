
# 带进(借)位的加减法(1102) - 迂者-贺利坚的专栏 - CSDN博客

2017年03月31日 21:14:24[迂者-贺利坚](https://me.csdn.net/sxhelijian)阅读数：647


本文为《汇编语言程序设计》1102小节例程。点击[链接…](http://blog.csdn.net/sxhelijian/article/details/56671827)进课程主页。
编写一个子程序，对两个128位数据进行相加。
名称：add128
功能：两个逆序存放的128位数据进行相加
```python
assume cs:code,ds:data
```
```python
;这里的128位在data空间中是逆序放置的，就是从低位到高位排列的
```
```python
data segment
    dw
```
```python
0
```
```python
A452H,
```
```python
0
```
```python
A8F5H,
```
```python
78E6
```
```python
H,
```
```python
0
```
```python
A8EH,
```
```python
8
```
```python
B7AH,
```
```python
54
```
```python
F6H,
```
```python
0
```
```python
F04H,
```
```python
671
```
```python
EH
    dw
```
```python
0E71
```
```python
EH,
```
```python
0
```
```python
EF04H,
```
```python
54
```
```python
F6H,
```
```python
8
```
```python
B7AH,
```
```python
0
```
```python
A8EH,
```
```python
78E6
```
```python
H,
```
```python
58
```
```python
F5H,
```
```python
0452
```
```python
H
data ends
code segment
start :
```
```python
mov
```
```python
ax,data
```
```python
mov
```
```python
ds,ax
```
```python
mov
```
```python
si,
```
```python
0
```
```python
mov
```
```python
di,
```
```python
16
```
```python
mov
```
```python
cx,
```
```python
8
```
```python
call
```
```python
add128
```
```python
mov
```
```python
ax,
```
```python
4
```
```python
c00h
    int
```
```python
21
```
```python
h
```
```python
;编写一个子程序，对两个128位数据进行相加。
```
```python
;名称：add128
```
```python
;功能：两个128位数据进行相加
```
```python
;参数：
```
```python
;   ds:si指向存储第一个数的内存空间，因数据为128位，所以需要8个字单元，由低地址单元到高地址单元依次存
```
```python
;   放128位数据由低到高的各个字。运算结果存储在第一个数的存储空间中。
```
```python
;   ds:di指向存储第二个数的内存空间
```
```python
add128:
```
```python
push
```
```python
ax
```
```python
push
```
```python
cx
```
```python
push
```
```python
si
```
```python
push
```
```python
di
```
```python
sub
```
```python
ax,ax
```
```python
;将CF设置为0
```
```python
s:
```
```python
mov
```
```python
ax,[si]
```
```python
adc
```
```python
ax,[di]
```
```python
mov
```
```python
[si],ax
```
```python
inc
```
```python
si
```
```python
inc
```
```python
si
```
```python
inc
```
```python
di
```
```python
inc
```
```python
di
        loop s
```
```python
pop
```
```python
di
```
```python
pop
```
```python
si
```
```python
pop
```
```python
cx
```
```python
pop
```
```python
ax
```
```python
ret
```
```python
code ends
end start
```

