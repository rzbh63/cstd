
# 2015级C++第13周实践项目 多态性和实现 - 迂者-贺利坚的专栏 - CSDN博客

2016年05月19日 21:33:16[迂者-贺利坚](https://me.csdn.net/sxhelijian)阅读数：1451


【项目1-分数类中的运算符重载】[参考解答](http://blog.csdn.net/sxhelijian/article/details/51457371)
（1）实现分数类中的运算符重载，在分数类中可以完成分数的加减乘除（运算后再化简）、比较（6种关系）的运算。
```python
class
```
```python
CFraction
```
```python
{
```
```python
private
```
```python
:
```
```python
int
```
```python
nume;
```
```python
// 分子
```
```python
int
```
```python
deno;
```
```python
// 分母
```
```python
public
```
```python
:
```
```python
//构造函数及运算符重载的函数声明
```
```python
};
```
```python
//重载函数的实现及用于测试的main()函数
```
（2）在（1）的基础上，实现分数类中的对象和整型数的四则运算。分数类中的对象可以和整型数进行四则运算，且运算符合交换律。例如：CFraction a(1,3),b; int i=2; 可以完成b=a+i;。同样，可以完成i+a, 45+a, a*27, 5/a等各种运算。
（3）定义分数的一目运算+和-，分别代表分数取正和求反，将“按位取反运算符”~重载为分数的求倒数运算。
（4）定义分数类中<<和>>运算符重载，实现分数的输入输出，改造原程序中对运算结果显示方式，使程序读起来更自然。
【项目2-动物这样叫】[参考解答](http://blog.csdn.net/sxhelijian/article/details/46010307)
下面是给出的基类Animal声明和main()函数。
```python
class Animal
{
```
```python
public
```
```python
:
  virtual
```
```python
void
```
```python
cry()
    {
      cout
```
```python
<<
```
```python
"不知哪种动物，让我如何学叫？"
```
```python
<<
```
```python
endl;
    }
};
int main( )
{
    Animal
```
```python
*
```
```python
p;
    p
```
```python
=
```
```python
new
```
```python
Animal();
    p
```
```python
->
```
```python
cry(); 
    Mouse m1(
```
```python
"Jerry"
```
```python
,
```
```python
'm'
```
```python
); 
    p
```
```python
=&
```
```python
m1;
    p
```
```python
->
```
```python
cry(); 
    Mouse m2(
```
```python
"Jemmy"
```
```python
,
```
```python
'f'
```
```python
);
    p
```
```python
=&
```
```python
m2;
    p
```
```python
->
```
```python
cry(); 
    Cat c1(
```
```python
"Tom"
```
```python
);
    p
```
```python
=&
```
```python
c1;
    p
```
```python
->
```
```python
cry(); 
    Dog d1(
```
```python
"Droopy"
```
```python
);
    p
```
```python
=&
```
```python
d1;
    p
```
```python
->
```
```python
cry(); 
    Giraffe g1(
```
```python
"Gill"
```
```python
,
```
```python
'm'
```
```python
);
    p
```
```python
=&
```
```python
g1;
    p
```
```python
->
```
```python
cry();
```
```python
return
```
```python
0
```
```python
;
}
```
程序的运行结果将是：
![这里写图片描述](https://img-blog.csdn.net/20140525204523484)[ ](https://img-blog.csdn.net/20140525204523484)
1、根据给出的main()函数和运行结果的提示，设计出相关的各个类，注意观察运行结果，提取出每个类中需要的数据成员，并匹配上需要的成员函数。
2、显然，Animal设计为抽象类更合适，Animal不需要能够实例化，是专门作基类使用的。改造程序，使Animal设计为抽象类，这时main()函数中p = new Animal();将出错，将此行删除。
3、每一个Animal的派生类都有一个“名字”数据成员，这个成员设置为基类Animal的成员更好。改造上面的程序，将“名字”成员作为抽象类Animal数据成员被各派生类使用。
【项目3-形状类族的中的纯虚函数】[参考解答](http://blog.csdn.net/sxhelijian/article/details/46010333)
写一个程序，定义抽象基类Shape，由它派生出3个派生类，Circle（圆形）、Rectangle（矩形）、Triangle（三角形）。用如下的main()函数，求出定义的几个几何体的面积和。
```python
int
```
```python
main()
{
    Circle c1(
```
```python
12.6
```
```python
),c2(
```
```python
4.9
```
```python
);
```
```python
//建立Circle类对象c1,c2,参数为圆半径
```
```python
Rectangle r1(
```
```python
4.5
```
```python
,
```
```python
8.4
```
```python
),r2(
```
```python
5.0
```
```python
,
```
```python
2.5
```
```python
);
```
```python
//建立Rectangle类对象r1,r2,参数为矩形长、宽
```
```python
Triangle t1(
```
```python
4.5
```
```python
,
```
```python
8.4
```
```python
),t2(
```
```python
3.4
```
```python
,
```
```python
2.8
```
```python
);
```
```python
//建立Triangle类对象t1,t2，参数为三角形底边长与高
```
```python
Shape *pt[
```
```python
6
```
```python
]= {&c1,&c2,&r1,&r2,&t1,&t2};
```
```python
//定义基类指针数组pt，使它每一个元素指向一个派生类对象
```
```python
double
```
```python
areas=
```
```python
0.0
```
```python
;
```
```python
//areas为总面积
```
```python
for
```
```python
(
```
```python
int
```
```python
i=
```
```python
0
```
```python
; i<
```
```python
6
```
```python
; i++)
    {
        areas=areas + pt[i]->area();
    }
```
```python
cout
```
```python
<<
```
```python
"totol of all areas="
```
```python
<<areas<<endl;
```
```python
//输出总面积
```
```python
return
```
```python
0
```
```python
;
}
```
【项目4-立体类族共有的抽象类】[参考解答](http://blog.csdn.net/sxhelijian/article/details/46010335)
设计一个抽象类CSolid，含有用于求表面积及体积的两个纯虚函数。设计派生类CCube、CBall、CCylinder，分别表示正方体、球体及圆柱体。在main()函数中，定义CSolid *p;（p是指向基类的指针，且这个基类是个抽象类）。要求利用这个p指针，能够求出正方体、球体及圆柱体对象的表面积及体积。

