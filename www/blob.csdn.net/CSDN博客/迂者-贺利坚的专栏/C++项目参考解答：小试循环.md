
# C++项目参考解答：小试循环 - 迂者-贺利坚的专栏 - CSDN博客

2016年03月08日 10:52:05[迂者-贺利坚](https://me.csdn.net/sxhelijian)阅读数：1631



## 【项目-小试循环】
写出实现下面求解任务的程序【提示：m是一个变量，在程序中输入】
（1）求1到m的平方和
（2）求1到m间所有奇数的和
（3）求1到m的倒数和，即
$$
1+\frac{1}{2}+\frac{1}{3}+\frac{1}{4}+...+\frac{1}{m}
$$
（4）求值：
$$
1-\frac{1}{2}+\frac{1}{3}-\frac{1}{4}+...+(-1)^{(m+1)}×\frac{1}{m}
$$
（5）求m!，即
$$
1×2×3×...×m
$$

---

## 【参考解答】
写出实现下面求解任务的程序【提示：m是一个变量，在程序中输入】
（1）求1到m的平方和
```python
#include <iostream>
```
```python
using
```
```python
namespace
```
```python
std
```
```python
;
```
```python
int
```
```python
main( )
{
```
```python
int
```
```python
n,m,total;
```
```python
cin
```
```python
>>m;
    n=
```
```python
1
```
```python
;
    total=
```
```python
0
```
```python
;
```
```python
while
```
```python
(n<=m)
    {
        total+=(n*n);
        n++;
    }
```
```python
cout
```
```python
<<
```
```python
"total="
```
```python
<<total<<endl;
```
```python
return
```
```python
0
```
```python
;
}
```
或用for循环：
```python
#include <iostream>
```
```python
using
```
```python
namespace
```
```python
std
```
```python
;
```
```python
int
```
```python
main( )
{
```
```python
int
```
```python
n,m,total;
```
```python
cin
```
```python
>>m;
    total=
```
```python
0
```
```python
;
```
```python
for
```
```python
(n=
```
```python
1
```
```python
;n<=m;n++)
    {
        total+=(n*n);
    }
```
```python
cout
```
```python
<<
```
```python
"total="
```
```python
<<total<<endl;
```
```python
return
```
```python
0
```
```python
;
}
```
（2）求1到m间所有奇数的和
```python
#include <iostream>
```
```python
using
```
```python
namespace
```
```python
std
```
```python
;
```
```python
int
```
```python
main( )
{
```
```python
int
```
```python
n,m,total;
```
```python
cin
```
```python
>>m;
    n=
```
```python
1
```
```python
;
    total=
```
```python
0
```
```python
;
```
```python
while
```
```python
(n<=m)
    {
        total+=n;
        n+=
```
```python
2
```
```python
;
    }
```
```python
cout
```
```python
<<
```
```python
"total="
```
```python
<<total<<endl;
```
```python
return
```
```python
0
```
```python
;
}
```
或用for循环：
```python
#include <iostream>
```
```python
using
```
```python
namespace
```
```python
std
```
```python
;
```
```python
int
```
```python
main( )
{
```
```python
int
```
```python
n,m,total;
```
```python
cin
```
```python
>>m;
    total=
```
```python
0
```
```python
;
```
```python
for
```
```python
(n=
```
```python
1
```
```python
;n<=m;n+=
```
```python
2
```
```python
)
    {
        total+=n;
    }
```
```python
cout
```
```python
<<
```
```python
"total="
```
```python
<<total<<endl;
```
```python
return
```
```python
0
```
```python
;
}
```
（3）求1到m的倒数和，即
$$
1+\frac{1}{2}+\frac{1}{3}+\frac{1}{4}+...+\frac{1}{m}
$$

```python
#include <iostream>
```
```python
using
```
```python
namespace
```
```python
std
```
```python
;
```
```python
int
```
```python
main( )
{
```
```python
int
```
```python
n,m;
```
```python
double
```
```python
total;
```
```python
cin
```
```python
>>m;
    n=
```
```python
1
```
```python
;
    total=
```
```python
0
```
```python
;
```
```python
while
```
```python
(n<=m)
    {
        total+=(
```
```python
1.0
```
```python
/n);
```
```python
//注意1.0引发的类型转换，非常重要！
```
```python
n++;
    }
```
```python
cout
```
```python
<<
```
```python
"total="
```
```python
<<total<<endl;
```
```python
return
```
```python
0
```
```python
;
}
```
或用for循环：
```python
#include <iostream>
```
```python
using
```
```python
namespace
```
```python
std
```
```python
;
```
```python
int
```
```python
main( )
{
```
```python
int
```
```python
n,m;
```
```python
double
```
```python
total;
```
```python
cin
```
```python
>>m;
    n=
```
```python
1
```
```python
;
    total=
```
```python
0
```
```python
;
```
```python
for
```
```python
(n=
```
```python
1
```
```python
;n<=m;n++)
    {
        total+=(
```
```python
1.0
```
```python
/n);
```
```python
//注意1.0引发的类型转换，非常重要！
```
```python
}
```
```python
cout
```
```python
<<
```
```python
"total="
```
```python
<<total<<endl;
```
```python
return
```
```python
0
```
```python
;
}
```
（4）求值：
$$
1-\frac{1}{2}+\frac{1}{3}-\frac{1}{4}+...+(-1)^{(m+1)}×\frac{1}{m}
$$

```python
#include <iostream>
```
```python
using
```
```python
namespace
```
```python
std
```
```python
;
```
```python
int
```
```python
main( )
{
```
```python
int
```
```python
n,m,sign;
```
```python
double
```
```python
total;
```
```python
cin
```
```python
>>m;
    n=
```
```python
1
```
```python
;
    total=
```
```python
0
```
```python
;
    sign=
```
```python
1
```
```python
;
```
```python
//用sign代表累加项的符号，这是处理一正一负累加的技巧
```
```python
while
```
```python
(n<=m)
    {
        total+=(sign*(
```
```python
1.0
```
```python
/n)); 
        n++;
        sign*=-
```
```python
1
```
```python
;
```
```python
//sign变号
```
```python
}
```
```python
cout
```
```python
<<
```
```python
"total="
```
```python
<<total<<endl;
```
```python
return
```
```python
0
```
```python
;
}
```
或用for循环：
```python
#include <iostream>
```
```python
using
```
```python
namespace
```
```python
std
```
```python
;
```
```python
int
```
```python
main( )
{
```
```python
int
```
```python
n,m,sign;
```
```python
double
```
```python
total;
```
```python
cin
```
```python
>>m;
    n=
```
```python
1
```
```python
;
    sign=
```
```python
1
```
```python
;
```
```python
//用sign代表累加项的符号，这是处理一正一负累加的技巧
```
```python
total=
```
```python
0
```
```python
;
```
```python
for
```
```python
(n=
```
```python
1
```
```python
; n<=m; n++)
    {
        total+=(sign*(
```
```python
1.0
```
```python
/n));
```
```python
//注意1.0引发的类型转换，非常重要！
```
```python
sign*=-
```
```python
1
```
```python
;
```
```python
//sign变号
```
```python
}
```
```python
cout
```
```python
<<
```
```python
"total="
```
```python
<<total<<endl;
```
```python
return
```
```python
0
```
```python
;
}
```
（5）求m!，即
$$
1×2×3×...×m
$$

```python
#include <iostream>
```
```python
using
```
```python
namespace
```
```python
std
```
```python
;
```
```python
int
```
```python
main( )
{
```
```python
int
```
```python
n,m;
```
```python
long
```
```python
fact;
```
```python
//阶乘值很大，数据类型方面考虑一些
```
```python
cin
```
```python
>>m;
    n=
```
```python
1
```
```python
;
    fact=
```
```python
1
```
```python
;
```
```python
while
```
```python
(n<=m)
    {
        fact*=n;
        n++;
    }
```
```python
cout
```
```python
<<m<<
```
```python
"! = "
```
```python
<<fact<<endl;
```
```python
return
```
```python
0
```
```python
;
}
```
或用for循环：
```python
#include <iostream>
```
```python
using
```
```python
namespace
```
```python
std
```
```python
;
```
```python
int
```
```python
main( )
{
```
```python
int
```
```python
n,m;
```
```python
long
```
```python
fact;
```
```python
//阶乘值很大，数据类型方面考虑一些
```
```python
cin
```
```python
>>m;
    fact=
```
```python
1
```
```python
;
```
```python
for
```
```python
(n=
```
```python
1
```
```python
;n<=m;n++)
    {
        fact*=n;
    }
```
```python
cout
```
```python
<<m<<
```
```python
"! = "
```
```python
<<fact<<endl;
```
```python
return
```
```python
0
```
```python
;
}
```

