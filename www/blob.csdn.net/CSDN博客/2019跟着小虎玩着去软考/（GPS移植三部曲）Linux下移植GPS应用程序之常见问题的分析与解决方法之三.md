
# （GPS移植三部曲）Linux下移植GPS应用程序之常见问题的分析与解决方法之三 - 2019跟着小虎玩着去软考 - CSDN博客

2012年05月22日 00:30:29[littletigerat](https://me.csdn.net/littletigerat)阅读数：3902


GPS应用程序移植常见问题分析与解决

|ID
|Issue Description
|Analyse
|Causation
|Solution
|
|1
|导航系统一运行，就退出
|使用|ps|命令，发现进程中|cld_navi|应用程序不存在
|Linux|系统对大小写字母敏感，也就是区分大小写
|对目录|NAVIONE|下的文件名和目录名逐一核对大小写，发现地图格式|cld|文件大小写不正确
|
|2
|发现导航系统运行慢
|在输入激活码的时候|,|点击数字|,|就发现慢|;
|1.cat /proc/meminfo|查看内存使用情况，已用的，未用的；
|2.stop|查看是哪个进程耗|CPU
|3.|单独分析第一屏界面显示慢的问题
|4.|分析到底是读文件慢，还是显示|Image|慢
|5.|对执行的函数，做耗时测试
|1|、|drawImage|耗时|340ms|改用|framebuffer|显示机制
|2|、颜色转换耗时|180ms|去掉颜色深度|16|色转|32|色的机制
|3|、矩阵变换耗时|340ms|，因为凯立德以前给客户做的是宽屏分辨率|640X480(|宽|X|高|)|，而我司的屏分辨率|480X640(|宽|X|高|)
|
|3
|采集|GPS|数据全部都为|0
|1.|能接受的|GPS|数据，说明|GPS|芯片良好，能正常工作
|2.|接受的|GPS|数据不对，说明接受|GPS|天线，信号不好；
|在办公室做测试，窗户封闭，信号不好
|露天或者打开窗户，靠近窗户做测试
|
|4
|运行导航的时候|,|有如下提示|:Cannot open keyboard: No such file or directory
|Lily|开发板，没有该问题
|没有指定键盘|,|触摸屏的驱动路径
|export QWS_KEYBOAR=$QWS_KEYBOAR:/dev/input/event1
|
|5
|点击触摸屏，无法进入导航的主界面
|1.qpe|的应用程序，也就是|Idle|界面，可以点击触摸屏，说明触摸屏驱动程序正常；
|2.|唯独导航系统，触摸屏不好使，说明|env|环境变量没有配置好；
|3.Lily|开发板的导航系统触摸屏正常，而|Bali|开发板的导航系统触摸屏不正常
|Qpe|开发平台的开发环境发生改变
|运行|.|/opt/Qtopia/qpe.env|，重新配置系统参数，环境变量
|
|6
|如何将文件拷贝到|SD|卡
|Window|不识别|linux|系统的|ext3|文件格式
|1.linux|系统直接识别|Window|系统的|Fat16,Fat32|文件系统；
|先在|Window|系统直接格式化|SD|卡|,|再拷贝文件，拿到|linux|系统下用
|2.|如果是小文件，直接|SecureCRT 5.1|串口工具|rz|命令，或者【|Transfer|】|-|【|Start
 Zmodem Upload|】串口协议|RS232|传输文件
|
|7
|插|SD|卡，|linux|系统死机重启
|偶尔发生，不是每次都有，应该是静电所致
|人带静电，电压过大，导致瞬间电流过大
|带接地的蓝色手环
|
|8
|启动|Bali|板，不能进入|Idle|界面，始终停留在Qtopia这一帧图像上
|1.linux|命令，可以正确执行，如|ls,cd|等，说明|linux|系统没有问题
|2.|换了张别人的|SD|卡，能够正常启动，进入带大|Icon|的界面，以及|MainMenu|主菜单，说明开发版正常，操作步骤正常；
|做卡的程序不对，也就是|makesd.sh|等脚本不正确，步骤是对的
|root/release/makesd_B0_Bali_Flash_20090122_CL7960_cysun_v0.5
|目录下重新做卡；
|
|9
|运行提示找不到|libQtSvg.so.4|库文件
|1.|执行|env|查看环境变量，有哪些环境变量和本地变量
|2.echo $
|LD_LIBRARY_PATH
|查看库路径具体是什么
|3.|执行|export|命令，看有哪些环境变量，已经被导出，可供其他外部程序使用
|1.|通过命令|find / -name libQtSvg.so.4|在根目录下查找库文件
|2.|设置库的路径，便于程序执行搜索到：
|export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/opt/Qtopia/image/lib/
|
|10
|连接|SecureCRT 5.1|，串口程序没有反映，就是黑色界面，没有一个字符
|1.|分析|SecureCRT 5.1|软件安装好没有
|2.|串口线的驱动安装好没有
|3.|电源安装好没有
|4.SD|卡做好没有
|都有可能，逐一排查
|1.|先确认串口驱动程序安装好
|【我的电脑】|--|【属性】|-|【|HardWare|】|-|【|Device
 Manager|】|-|【|Ports (COM &LPT)|】
|2.|端口选择正确；
|3.|电源是否插好，包括|2|个方面：一与电源接线板；而与电路开发板
|4.|按电路开发板上的|POWER KEY|给电路开发版供电，送电。
|


