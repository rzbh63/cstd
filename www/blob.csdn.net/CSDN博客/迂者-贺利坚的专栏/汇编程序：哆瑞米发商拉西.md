
# 汇编程序：哆瑞米发商拉西 - 迂者-贺利坚的专栏 - CSDN博客

2017年05月28日 21:50:37[迂者-贺利坚](https://me.csdn.net/sxhelijian)阅读数：1601


【任务】
编一个程序，让计算机演奏出七个不同音高的音符
【参考解答】
```python
assume cs:codeseg
data segment
   dw
```
```python
262
```
```python
,
```
```python
294
```
```python
,
```
```python
330
```
```python
,
```
```python
349
```
```python
,
```
```python
392
```
```python
,
```
```python
440
```
```python
,
```
```python
494
```
```python
,
```
```python
524
```
```python
codeseg segment
```
```python
start:
```
```python
mov
```
```python
ax, data
```
```python
mov
```
```python
ds, ax
```
```python
mov
```
```python
si,
```
```python
0
```
```python
mov
```
```python
bl,
```
```python
8
```
```python
play:
```
```python
mov
```
```python
al,
```
```python
0
```
```python
b6h
```
```python
;8253初始化
```
```python
out
```
```python
43
```
```python
h,al
```
```python
;43H是8253芯片控制口的端口地址
```
```python
mov
```
```python
dx,
```
```python
12
```
```python
h
```
```python
mov
```
```python
ax,
```
```python
34
```
```python
dch
       div word ptr [si]
```
```python
;设置声音的频率
```
```python
out
```
```python
42
```
```python
h, al
```
```python
mov
```
```python
al, ah
```
```python
out
```
```python
42
```
```python
h, al
```
```python
in
```
```python
al,
```
```python
61
```
```python
h
```
```python
;读设备控制器端口原值
```
```python
mov
```
```python
ah, al
```
```python
;保存原值
```
```python
or
```
```python
al,
```
```python
3
```
```python
;打开扬声器和定时器
```
```python
out
```
```python
61
```
```python
h, al
```
```python
;接通扬声器，发声
```
```python
mov
```
```python
dx,
```
```python
10
```
```python
;延时
```
```python
delay0:
```
```python
mov
```
```python
cx,
```
```python
60000
```
```python
delay1:
```
```python
nop
```
```python
loop delay1
```
```python
dec
```
```python
dx
       jne delay0
```
```python
mov
```
```python
al, ah
```
```python
;恢复端口原值
```
```python
out
```
```python
61
```
```python
h, al
```
```python
add
```
```python
si,
```
```python
2
```
```python
dec
```
```python
bl
       jne play
```
```python
mov
```
```python
ax,
```
```python
4
```
```python
c00h
       int
```
```python
21
```
```python
h
codeseg ends
end start
```

