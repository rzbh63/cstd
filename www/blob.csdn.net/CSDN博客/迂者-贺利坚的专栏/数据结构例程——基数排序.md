
# 数据结构例程——基数排序 - 迂者-贺利坚的专栏 - CSDN博客

2015年11月30日 21:06:04[迂者-贺利坚](https://me.csdn.net/sxhelijian)阅读数：3641


本文是[[数据结构基础系列(9)：排序](http://edu.csdn.net/course/detail/1710)]中第10课时[[基数排序](http://edu.csdn.net/course/detail/1710/26664)]的例程。
```python
#include <stdio.h>
```
```python
#include <malloc.h>
```
```python
#include <string.h>
```
```python
#define MAXE 20
```
```python
//线性表中最多元素个数
```
```python
#define MAXR 10
```
```python
//基数的最大取值
```
```python
#define MAXD 8
```
```python
//关键字位数的最大取值
```
```python
typedef
```
```python
struct
```
```python
node
{
```
```python
char
```
```python
data[MAXD];
```
```python
//记录的关键字定义的字符串
```
```python
struct
```
```python
node *next;
} RecType;
```
```python
void
```
```python
CreaLink(RecType *&p,
```
```python
char
```
```python
*a[],
```
```python
int
```
```python
n);
```
```python
void
```
```python
DispLink(RecType *p);
```
```python
void
```
```python
RadixSort(RecType *&p,
```
```python
int
```
```python
r,
```
```python
int
```
```python
d)
```
```python
//实现基数排序:*p为待排序序列链表指针,r为基数,d为关键字位数
```
```python
{
    RecType *head[MAXR],*tail[MAXR],*t;
```
```python
//定义各链队的首尾指针
```
```python
int
```
```python
i,j,k;
```
```python
for
```
```python
(i=
```
```python
0
```
```python
; i<=d-
```
```python
1
```
```python
; i++)
```
```python
//从低位到高位循环
```
```python
{
```
```python
for
```
```python
(j=
```
```python
0
```
```python
; j<r; j++)
```
```python
//初始化各链队首、尾指针
```
```python
head[j]=tail[j]=NULL;
```
```python
while
```
```python
(p!=NULL)
```
```python
//对于原链表中每个结点循环
```
```python
{
            k=p->data[i]-
```
```python
'0'
```
```python
;
```
```python
//找第k个链队
```
```python
if
```
```python
(head[k]==NULL)
```
```python
//进行分配
```
```python
{
                head[k]=p;
                tail[k]=p;
            }
```
```python
else
```
```python
{
                tail[k]->next=p;
                tail[k]=p;
            }
            p=p->next;
```
```python
//取下一个待排序的元素
```
```python
}
        p=NULL;
```
```python
//重新用p来收集所有结点
```
```python
for
```
```python
(j=
```
```python
0
```
```python
; j<r; j++)
```
```python
//对于每一个链队循环
```
```python
if
```
```python
(head[j]!=NULL)
```
```python
//进行收集
```
```python
{
```
```python
if
```
```python
(p==NULL)
                {
                    p=head[j];
                    t=tail[j];
                }
```
```python
else
```
```python
{
                    t->next=head[j];
                    t=tail[j];
                }
            }
        t->next=NULL;
```
```python
//最后一个结点的next域置NULL
```
```python
//以下的显示并非必要
```
```python
printf
```
```python
(
```
```python
"  按%d位排序\t"
```
```python
,i);
        DispLink(p);
    }
}
```
```python
void
```
```python
CreateLink(RecType *&p,
```
```python
char
```
```python
a[MAXE][MAXD],
```
```python
int
```
```python
n)
```
```python
//采用后插法产生链表
```
```python
{
```
```python
int
```
```python
i;
    RecType *s,*t;
```
```python
for
```
```python
(i=
```
```python
0
```
```python
; i<n; i++)
    {
        s=(RecType *)
```
```python
malloc
```
```python
(
```
```python
sizeof
```
```python
(RecType));
```
```python
strcpy
```
```python
(s->data,a[i]);
```
```python
if
```
```python
(i==
```
```python
0
```
```python
)
        {
            p=s;
            t=s;
        }
```
```python
else
```
```python
{
            t->next=s;
            t=s;
        }
    }
    t->next=NULL;
}
```
```python
void
```
```python
DispLink(RecType *p)
```
```python
//输出链表
```
```python
{
```
```python
while
```
```python
(p!=NULL)
    {
```
```python
printf
```
```python
(
```
```python
"%c%c "
```
```python
,p->data[
```
```python
1
```
```python
],p->data[
```
```python
0
```
```python
]);
        p=p->next;
    }
```
```python
printf
```
```python
(
```
```python
"\n"
```
```python
);
}
```
```python
int
```
```python
main()
{
```
```python
int
```
```python
n=
```
```python
10
```
```python
,r=
```
```python
10
```
```python
,d=
```
```python
2
```
```python
;
```
```python
int
```
```python
i,j,k;
    RecType *p;
```
```python
char
```
```python
a[MAXE][MAXD];
```
```python
int
```
```python
b[]= {
```
```python
75
```
```python
,
```
```python
23
```
```python
,
```
```python
98
```
```python
,
```
```python
44
```
```python
,
```
```python
57
```
```python
,
```
```python
12
```
```python
,
```
```python
29
```
```python
,
```
```python
64
```
```python
,
```
```python
38
```
```python
,
```
```python
82
```
```python
};
```
```python
for
```
```python
(i=
```
```python
0
```
```python
; i<n; i++)
```
```python
//将b[i]转换成字符串
```
```python
{
        k=b[i];
```
```python
for
```
```python
(j=
```
```python
0
```
```python
; j<d; j++)
```
```python
//例如b[0]=75,转换后a[0][0]='7',a[0][1]='5'
```
```python
{
            a[i][j]=k%
```
```python
10
```
```python
+
```
```python
'0'
```
```python
;
            k=k/
```
```python
10
```
```python
;
        }
        a[i][j]=
```
```python
'\0'
```
```python
;
    }
    CreateLink(p,a,n);
```
```python
printf
```
```python
(
```
```python
"\n"
```
```python
);
```
```python
printf
```
```python
(
```
```python
"  初始关键字\t"
```
```python
);
```
```python
//输出初始关键字序列
```
```python
DispLink(p);
    RadixSort(p,
```
```python
10
```
```python
,
```
```python
2
```
```python
);
```
```python
printf
```
```python
(
```
```python
"  最终结果\t"
```
```python
);
```
```python
//输出最终结果
```
```python
DispLink(p);
```
```python
printf
```
```python
(
```
```python
"\n"
```
```python
);
```
```python
return
```
```python
0
```
```python
;
}
```

