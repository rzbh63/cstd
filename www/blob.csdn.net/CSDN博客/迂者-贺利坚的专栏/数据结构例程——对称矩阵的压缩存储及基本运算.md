
# 数据结构例程——对称矩阵的压缩存储及基本运算 - 迂者-贺利坚的专栏 - CSDN博客

2015年10月07日 16:21:33[迂者-贺利坚](https://me.csdn.net/sxhelijian)阅读数：7789


本文针对[数据结构基础系列网络课程(5)：数组与广义表](http://edu.csdn.net/course/detail/1512)中第2课时[特殊矩阵的压缩存储](http://edu.csdn.net/course/detail/1512/23603)。
![这里写图片描述](https://img-blog.csdn.net/20151007161420814)
问题：用压缩形式存储对称矩阵，实现下面的操作并测试
```python
void Init(int *&b);//为N阶对称矩阵初始化存储数据的一维数组b
int Value(int b[
```
```python
], int i, int j);//返回存储在b[
```
```python
M
```
```python
]中，对应二维数组A[
```
```python
i
```
```python
][
```
```python
j
```
```python
]的值
void Assign(int b[
```
```python
], int e, int i, int j);//将e赋值给对应二维数组元素A[
```
```python
i
```
```python
][
```
```python
j
```
```python
]，要存储到b[M]中
void Disp(int b[]);//输出压缩存储在b中的对称矩阵
void Destroy(int b[]); //销毁存储空间
```
解答：
```python
#include <stdio.h>
```
```python
#include <malloc.h>
```
```python
#define N 4
```
```python
//为N阶对称矩阵初始化存储数据的一维数组B
```
```python
void
```
```python
Init(
```
```python
int
```
```python
*&b)
{
    b = (
```
```python
int
```
```python
*)
```
```python
malloc
```
```python
(
```
```python
sizeof
```
```python
(
```
```python
int
```
```python
)*(N*(N+
```
```python
1
```
```python
)/
```
```python
2
```
```python
));
}
```
```python
//返回存储在b[M]中，对应二维数组A[i][j]的值
```
```python
int
```
```python
Value(
```
```python
int
```
```python
b[],
```
```python
int
```
```python
i,
```
```python
int
```
```python
j)
{
```
```python
if
```
```python
(i>=j)
```
```python
return
```
```python
b[(i*(i+
```
```python
1
```
```python
))/
```
```python
2
```
```python
+j];
```
```python
else
```
```python
return
```
```python
b[(j*(j+
```
```python
1
```
```python
))/
```
```python
2
```
```python
+i];
}
```
```python
//将e赋值给对应二维数组元素A[i][j]，要存储到B[M]中
```
```python
void
```
```python
Assign(
```
```python
int
```
```python
b[],
```
```python
int
```
```python
e,
```
```python
int
```
```python
i,
```
```python
int
```
```python
j)
{
```
```python
if
```
```python
(i>=j)
        b[(i*(i+
```
```python
1
```
```python
))/
```
```python
2
```
```python
+j] = e;
```
```python
else
```
```python
b[(j*(j+
```
```python
1
```
```python
))/
```
```python
2
```
```python
+i] = e;
```
```python
return
```
```python
;
}
```
```python
//输出压缩存储在b中的对称矩阵
```
```python
void
```
```python
Disp(
```
```python
int
```
```python
b[])
{
```
```python
int
```
```python
i,j;
```
```python
for
```
```python
(i=
```
```python
0
```
```python
; i<N; i++)
    {
```
```python
for
```
```python
(j=
```
```python
0
```
```python
; j<N; j++)
```
```python
printf
```
```python
(
```
```python
"%4d"
```
```python
,Value(b,i,j));
```
```python
printf
```
```python
(
```
```python
"\n"
```
```python
);
    }
}
```
```python
//销毁存储空间
```
```python
void
```
```python
Destroy(
```
```python
int
```
```python
b[])
{
```
```python
free
```
```python
(b);
}
```
```python
int
```
```python
main()
{
```
```python
int
```
```python
*b1;
```
```python
//指向整型的指针，待初始化
```
```python
int
```
```python
i, j;
```
```python
int
```
```python
v;
    Init(b1);
```
```python
printf
```
```python
(
```
```python
"请输入对称矩阵(只需要输入下三角部分即可)\n"
```
```python
);
```
```python
for
```
```python
(i=
```
```python
0
```
```python
;i<N;i++)
    {
```
```python
printf
```
```python
(
```
```python
"输入第%d行的%d个数据元素: "
```
```python
, i+
```
```python
1
```
```python
, i+
```
```python
1
```
```python
);
```
```python
for
```
```python
(j=
```
```python
0
```
```python
; j<=i; j++)
        {
```
```python
scanf
```
```python
(
```
```python
"%d"
```
```python
, &v);
             Assign(b1, v, i, j);
        }
    }
    Disp(b1);
    Destroy(b1);
```
```python
return
```
```python
0
```
```python
;
}
```

