
# 数据结构例程——串的模式匹配（Brute-Force算法） - 迂者-贺利坚的专栏 - CSDN博客

2015年10月07日 15:43:14[迂者-贺利坚](https://me.csdn.net/sxhelijian)阅读数：2224


本文针对[数据结构基础系列网络课程(4)：串](http://edu.csdn.net/course/detail/1434)中第5课时[串的模式匹配（Brute-Force算法）](http://edu.csdn.net/course/detail/1434/22570)。
问题：模式匹配，设有主串s和子串t，在主串s中找到一个与子串t相等的子串。
![这里写图片描述](https://img-blog.csdn.net/20151007154125581)
解答：（头文件sqstring.h见[顺序串算法库](http://blog.csdn.net/sxhelijian/article/details/48573133)）
```python
#include <stdio.h>
```
```python
#include "sqString.h"
```
```python
int index(SqString s,SqString t)
{
    int i=
```
```python
0
```
```python
,j=
```
```python
0
```
```python
;
```
```python
while
```
```python
(i<s.
```
```python
length
```
```python
&& j<t.
```
```python
length
```
```python
)
    {
```
```python
if
```
```python
(s.data[i]==t.data[j])
```
```python
//继续匹配下一个字符
```
```python
{
            i++;
```
```python
//主串和子串依次匹配下一个字符
```
```python
j++;
        }
```
```python
else
```
```python
//主串、子串指针回溯重新开始下一次匹配
```
```python
{
            i=i-j+
```
```python
1
```
```python
;
```
```python
//主串从下一个位置开始匹配
```
```python
j=
```
```python
0
```
```python
;
```
```python
//子串从头开始匹配
```
```python
}
    }
```
```python
if
```
```python
(j>=t.
```
```python
length
```
```python
)
```
```python
return
```
```python
(i-t.
```
```python
length
```
```python
);
```
```python
//返回匹配的第一个字符的下标
```
```python
else
```
```python
return
```
```python
(-
```
```python
1
```
```python
);
```
```python
//模式匹配不成功
```
```python
}
int main()
{
    SqString s,t;
    StrAssign(s,
```
```python
"ababcabcacbab"
```
```python
);
    StrAssign(t,
```
```python
"abcac"
```
```python
);
```
```python
printf
```
```python
(
```
```python
"s:"
```
```python
);
    DispStr(s);
```
```python
printf
```
```python
(
```
```python
"t:"
```
```python
);
    DispStr(t);
```
```python
printf
```
```python
(
```
```python
"位置:%d\n"
```
```python
,index(s,t));
```
```python
return
```
```python
0
```
```python
;
}
```

