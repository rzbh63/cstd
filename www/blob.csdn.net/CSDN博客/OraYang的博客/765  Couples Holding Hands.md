
# 765. Couples Holding Hands - OraYang的博客 - CSDN博客

2018年01月29日 11:08:26[OraYang](https://me.csdn.net/u010665216)阅读数：611标签：[union-find																](https://so.csdn.net/so/search/s.do?q=union-find&t=blog)[leetcode																](https://so.csdn.net/so/search/s.do?q=leetcode&t=blog)[
							](https://so.csdn.net/so/search/s.do?q=union-find&t=blog)个人分类：[Leetcode																](https://blog.csdn.net/u010665216/article/category/7026962)
所属专栏：[基础算法](https://blog.csdn.net/column/details/16604.html)



# 题目
N couples sit in 2N seats arranged in a row and want to hold hands.  We want to know the minimum number of swaps so that every couple is sitting side by side.  A*swap*consists of choosing**any**two people, then they stand up and switch seats.
The people and seats are represented by an integer from`0`to`2N-1`, the couples are numbered in order, the first couple being`(0, 1)`, the second couple being`(2, 3)`, and so on with the last couple being`(2N-2, 2N-1)`.
The couples’ initial seating is given by`row[i]`being the value of the person who is initially sitting in the i-th seat.
**Example 1:**
**Input:**row = [0, 2, 1, 3]**Output:**1**Explanation:**We only need to swap the second (row[1]) and third (row[2]) person.
**Example 2:**
**Input:**row = [3, 2, 0, 1]**Output:**0**Explanation:**All couples are already seated side by side.
**Note:**
len(row)is even and in the range of[4, 60].
rowis guaranteed to be a permutation of0...len(row)-1.

# 思路
本题思路很简单明了，首先我们先来看看这是个什么问题，很明显这是个动态连通性（union-find）问题。一共N对夫妇，需要保证每两个夫妇坐在一座两人沙发上。我们发现一对夫妇必然满足（0，1）或（1，0）的形式。那么接下来我们的方案只要遍历数组两遍，时间复杂度为O(n)。
思路很简单，大家直接看代码就能理解
# 代码
```python
class
```
```python
Solution {
```
```python
public
```
```python
:
```
```python
int
```
```python
minSwapsCouples(
```
```python
vector
```
```python
<
```
```python
int
```
```python
>
```
```python
& row) {
```
```python
unordered_map
```
```python
<
```
```python
int
```
```python
,
```
```python
int
```
```python
>
```
```python
mp;
```
```python
int
```
```python
index,count=
```
```python
0
```
```python
;
```
```python
for
```
```python
(
```
```python
int
```
```python
i=
```
```python
0
```
```python
;i<row.size();i++)
        {
            mp[row[i]] = i;
        }
```
```python
for
```
```python
(
```
```python
int
```
```python
i=
```
```python
0
```
```python
;i<row.size()-
```
```python
1
```
```python
;i+=
```
```python
2
```
```python
)
        {
```
```python
if
```
```python
(row[i]<row[i+
```
```python
1
```
```python
]){
```
```python
if
```
```python
(row[i]%
```
```python
2
```
```python
==
```
```python
0
```
```python
)
                {
```
```python
if
```
```python
(row[i+
```
```python
1
```
```python
]-row[i]==
```
```python
1
```
```python
)
```
```python
continue
```
```python
;
```
```python
else
```
```python
{
                        index = mp[row[i]+
```
```python
1
```
```python
];
                        swap(row,mp,i+
```
```python
1
```
```python
,index);
                        count++;
                    }
                }
```
```python
else
```
```python
{
                    index = mp[row[i]-
```
```python
1
```
```python
];
                    swap(row,mp,i+
```
```python
1
```
```python
,index);
                    count++;
                }
            }
```
```python
else
```
```python
{
```
```python
if
```
```python
(row[i]%
```
```python
2
```
```python
==
```
```python
1
```
```python
)
                {
```
```python
if
```
```python
(row[i]-row[i+
```
```python
1
```
```python
]==
```
```python
1
```
```python
)
```
```python
continue
```
```python
;
```
```python
else
```
```python
{
                        index = mp[row[i]-
```
```python
1
```
```python
];
                        swap(row,mp,i+
```
```python
1
```
```python
,index);
                        count++;
                    }
                }
```
```python
else
```
```python
{
                    index = mp[row[i]+
```
```python
1
```
```python
];
                    swap(row,mp,i+
```
```python
1
```
```python
,index);
                    count++;
                }
            }
        }
```
```python
return
```
```python
count;

    }
```
```python
private
```
```python
:
```
```python
void
```
```python
swap(
```
```python
vector
```
```python
<
```
```python
int
```
```python
>
```
```python
& row,
```
```python
unordered_map
```
```python
<
```
```python
int
```
```python
,
```
```python
int
```
```python
>
```
```python
& mp,
```
```python
int
```
```python
i,
```
```python
int
```
```python
j){
        mp[row[i]] = j;
        mp[row[j]] = i;
```
```python
int
```
```python
tmp = row[i];
        row[i] = row[j];
        row[j] = tmp;
```
```python
return
```
```python
;
    }
};
```

