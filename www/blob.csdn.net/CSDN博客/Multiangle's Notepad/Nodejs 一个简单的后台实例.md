
# Nodejs 一个简单的后台实例 - Multiangle's Notepad - CSDN博客


2016年03月10日 13:07:58[multiangle](https://me.csdn.net/u014595019)阅读数：30096标签：[nodejs																](https://so.csdn.net/so/search/s.do?q=nodejs&t=blog)[实例																](https://so.csdn.net/so/search/s.do?q=实例&t=blog)[express																](https://so.csdn.net/so/search/s.do?q=express&t=blog)[
							](https://so.csdn.net/so/search/s.do?q=实例&t=blog)[
																					](https://so.csdn.net/so/search/s.do?q=nodejs&t=blog)个人分类：[web开发																](https://blog.csdn.net/u014595019/article/category/6125494)
[
																								](https://so.csdn.net/so/search/s.do?q=nodejs&t=blog)


学了两天的nodejs，写了一个简单的后台实例，还有配套的与后台进行交互的简单网页。
页面端使用了jQuery进行控制，
后台使用nodejs作为操控语言，使用express执行网络操作
整个工程结构如下：
```python
根目录--------------
```
```python
|-package.json
```
```python
|-test.js
```
```python
|-public
```
```python
|-main.html
```
```python
|-add.html
```
Nodejs端，名字为test.js
```python
// file name :test.js
```
```python
var
```
```python
express             =
```
```python
require
```
```python
(
```
```python
'express'
```
```python
);
```
```python
var
```
```python
app                 = express();
```
```python
var
```
```python
bodyParse           =
```
```python
require
```
```python
(
```
```python
'body-parser'
```
```python
)
```
```python
var
```
```python
cookieParser        =
```
```python
require
```
```python
(
```
```python
'cookie-parser'
```
```python
) ;
app.
```
```python
use
```
```python
(cookieParser()) ;
app.
```
```python
use
```
```python
(bodyParse.urlencoded({extended:
```
```python
false
```
```python
})) ;
```
```python
// 处理根目录的get请求
```
```python
app.get(
```
```python
'/'
```
```python
,
```
```python
function
```
```python
(req,res)
```
```python
{
```
```python
res.sendfile(
```
```python
'public/main.html'
```
```python
) ;
    console.log(
```
```python
'main page is required '
```
```python
);
}) ;
```
```python
// 处理/login的get请求
```
```python
app.get(
```
```python
'/add'
```
```python
,
```
```python
function
```
```python
(req,res)
```
```python
{
```
```python
res.sendfile(
```
```python
'public/add.html'
```
```python
) ;
    console.log(
```
```python
'add page is required '
```
```python
) ;
}) ;
```
```python
// 处理/login的post请求
```
```python
app.post(
```
```python
'/login'
```
```python
,
```
```python
function
```
```python
(req,res)
```
```python
{
```
```python
name=req.body.name ;
    pwd=req.body.pwd   ;
    console.log(name+
```
```python
'--'
```
```python
+pwd) ;
    res.status(
```
```python
200
```
```python
).send(name+
```
```python
'--'
```
```python
+pwd) ;
});
```
```python
// 监听3000端口
```
```python
var
```
```python
server=app.listen(
```
```python
3000
```
```python
) ;
```
main.html的代码如下
```python
<
```
```python
html
```
```python
>
```
```python
<
```
```python
link
```
```python
rel
```
```python
=
```
```python
"stylesheet"
```
```python
type
```
```python
=
```
```python
"text/css"
```
```python
href
```
```python
=
```
```python
"http://fonts.useso.com/css?family=Tangerine|Inconsolata|Droid+Sans"
```
```python
>
```
```python
<
```
```python
style
```
```python
>
```
```python
div
```
```python
#test
```
```python
{
```
```python
font-family
```
```python
:
```
```python
'Tangerine'
```
```python
,serif
```
```python
;
```
```python
font-size
```
```python
:
```
```python
48
```
```python
px
```
```python
;
```
```python
}
```
```python
p
```
```python
#link1
```
```python
{
```
```python
font-family
```
```python
:
```
```python
'Tangerine'
```
```python
,serif
```
```python
;
```
```python
}
```
```python
</
```
```python
style
```
```python
>
```
```python
<
```
```python
script
```
```python
src
```
```python
=
```
```python
"//cdn.bootcss.com/jquery/2.2.1/jquery.min.js"
```
```python
>
```
```python
</
```
```python
script
```
```python
>
```
```python
</
```
```python
head
```
```python
>
```
```python
<
```
```python
body
```
```python
>
```
```python
<
```
```python
div
```
```python
id
```
```python
=
```
```python
"test"
```
```python
>
```
```python
<
```
```python
h1
```
```python
>
```
```python
Main Page
```
```python
</
```
```python
h1
```
```python
>
```
```python
</
```
```python
div
```
```python
>
```
```python
<
```
```python
p
```
```python
>
```
```python
Register & Login
```
```python
</
```
```python
p
```
```python
>
```
```python
<
```
```python
form
```
```python
action
```
```python
=
```
```python
"test.jsp"
```
```python
method
```
```python
=
```
```python
"post"
```
```python
>
```
```python
账号 :
```
```python
<
```
```python
input
```
```python
type
```
```python
=
```
```python
"text"
```
```python
id
```
```python
=
```
```python
"name"
```
```python
/>
```
```python
<
```
```python
br
```
```python
/>
```
```python
<
```
```python
br
```
```python
/>
```
```python
密码 :
```
```python
<
```
```python
input
```
```python
type
```
```python
=
```
```python
"text"
```
```python
id
```
```python
=
```
```python
"pwd"
```
```python
/>
```
```python
<
```
```python
br
```
```python
/>
```
```python
<
```
```python
br
```
```python
/>
```
```python
&nbsp&nbsp&nbsp&nbsp&nbsp
```
```python
<
```
```python
div
```
```python
>
```
```python
<
```
```python
a
```
```python
href
```
```python
=
```
```python
"/add"
```
```python
id
```
```python
=
```
```python
"add"
```
```python
>
```
```python
EXTRA
```
```python
</
```
```python
a
```
```python
>
```
```python
</
```
```python
div
```
```python
>
```
```python
<
```
```python
input
```
```python
type
```
```python
=
```
```python
"button"
```
```python
value
```
```python
=
```
```python
"Submit"
```
```python
id
```
```python
=
```
```python
"x"
```
```python
>
```
```python
</
```
```python
form
```
```python
>
```
```python
</
```
```python
body
```
```python
>
```
```python
<
```
```python
script
```
```python
type
```
```python
=
```
```python
"text/javascript"
```
```python
>
```
```python
var
```
```python
after_login=
```
```python
function
```
```python
(data,status)
```
```python
{
```
```python
if
```
```python
(status==
```
```python
'success'
```
```python
){
                alert(data+
```
```python
'--'
```
```python
+status) ;
            }
```
```python
else
```
```python
alert(
```
```python
'login refused'
```
```python
) ;
        }
        $(document).ready(
```
```python
function
```
```python
()
```
```python
{
```
```python
$(
```
```python
"#x"
```
```python
).click(
```
```python
function
```
```python
()
```
```python
{
```
```python
var
```
```python
name    =   $(
```
```python
"#name"
```
```python
).val() ;
```
```python
var
```
```python
pwd     =   $(
```
```python
"#pwd"
```
```python
).val() ;
                $.post(
```
```python
'http://127.0.0.1:3000/login'
```
```python
,
                {
                    name    :   name ,
                    pwd     :   pwd
                },
```
```python
//                        function(data,status){
```
```python
//                            alert(data+'--'+status) ;
```
```python
//                        }
```
```python
after_login
                );
```
```python
//                $.get('add',function(data,status){
```
```python
//                    document.write(data) ;
```
```python
//                }) ;
```
```python
});
        });
```
```python
</
```
```python
script
```
```python
>
```
```python
</
```
```python
html
```
```python
>
```
add.html的代码如下
```python
<!DOCTYPE html>
```
```python
<
```
```python
html
```
```python
>
```
```python
<
```
```python
head
```
```python
lang
```
```python
=
```
```python
"en"
```
```python
>
```
```python
<
```
```python
meta
```
```python
charset
```
```python
=
```
```python
"UTF-8"
```
```python
>
```
```python
<
```
```python
title
```
```python
>
```
```python
嘿
```
```python
</
```
```python
title
```
```python
>
```
```python
</
```
```python
head
```
```python
>
```
```python
<
```
```python
body
```
```python
>
```
```python
<
```
```python
h1
```
```python
>
```
```python
This is an additional web page
```
```python
</
```
```python
h1
```
```python
>
```
```python
<
```
```python
p
```
```python
>
```
```python
just for test
```
```python
</
```
```python
p
```
```python
>
```
```python
</
```
```python
body
```
```python
>
```
```python
</
```
```python
html
```
```python
>
```
启动项目：
cd 到项目目录，输入 node test.js，运行服务器
打开浏览器，输入127.0.0.1:3000，可得到如下页面
![这里写图片描述](https://img-blog.csdn.net/20160310130324051)
输入账号和密码，能得到弹出窗口，里面是服务器的返回值
![这里写图片描述](https://img-blog.csdn.net/20160310130544647)
点击EXTRA页面，能得到二级页面
![这里写图片描述](https://img-blog.csdn.net/20160310130703564)

