
# DBSCAN——非凸数据集聚类 - 颹蕭蕭 - CSDN博客


2018年10月27日 00:56:00[颹蕭蕭](https://me.csdn.net/itnerd)阅读数：2454


[K-Means](https://blog.csdn.net/itnerd/article/details/83420139)本质上是将样本空间划分成 k 个 Voronoi 区域，决定了划分结果的 k 个簇一定是凸集，因而该方法对非凸区域的鉴别效果非常不好。
￼![在这里插入图片描述](https://img-blog.csdnimg.cn/20181026234848713.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2l0bmVyZA==,size_27,color_FFFFFF,t_70)
下面使用 DBSCAN 对上面非凸分布的数据聚类。
本例中 DBSCAN 选择的参数为：eps=0.5, min_samples=5
即要求一个**团簇内点（非边界、非噪声点）在半径为 eps 的范围内至少有 min_sample 个点，边界点至少在满足上述条件一个内点的 eps 范围内，其余为噪声点。**
```python
import
```
```python
numpy
```
```python
as
```
```python
np
```
```python
import
```
```python
matplotlib
```
```python
.
```
```python
pyplot
```
```python
as
```
```python
plt
```
```python
from
```
```python
sklearn
```
```python
.
```
```python
cluster
```
```python
import
```
```python
DBSCAN
```
```python
def
```
```python
show_scatter
```
```python
(
```
```python
data
```
```python
,
```
```python
colors
```
```python
)
```
```python
:
```
```python
cm
```
```python
=
```
```python
plt
```
```python
.
```
```python
cm
```
```python
.
```
```python
get_cmap
```
```python
(
```
```python
'Spectral'
```
```python
)
```
```python
x
```
```python
,
```
```python
y
```
```python
=
```
```python
data
```
```python
.
```
```python
T
    plt
```
```python
.
```
```python
scatter
```
```python
(
```
```python
x
```
```python
,
```
```python
y
```
```python
,
```
```python
c
```
```python
=
```
```python
colors
```
```python
,
```
```python
cmap
```
```python
=
```
```python
cm
```
```python
)
```
```python
plt
```
```python
.
```
```python
axis
```
```python
(
```
```python
)
```
```python
plt
```
```python
.
```
```python
xlabel
```
```python
(
```
```python
"x"
```
```python
)
```
```python
plt
```
```python
.
```
```python
ylabel
```
```python
(
```
```python
"y"
```
```python
)
```
```python
db
```
```python
=
```
```python
DBSCAN
```
```python
(
```
```python
eps
```
```python
=
```
```python
0.5
```
```python
,
```
```python
min_samples
```
```python
=
```
```python
5
```
```python
)
```
```python
.
```
```python
fit
```
```python
(
```
```python
data
```
```python
)
```
```python
labels
```
```python
=
```
```python
set
```
```python
(
```
```python
db
```
```python
.
```
```python
labels_
```
```python
)
```
```python
n_clusters
```
```python
=
```
```python
len
```
```python
(
```
```python
labels
```
```python
)
```
```python
-
```
```python
(
```
```python
1
```
```python
if
```
```python
-
```
```python
1
```
```python
in
```
```python
labels
```
```python
else
```
```python
0
```
```python
)
```
```python
noise_mask
```
```python
=
```
```python
(
```
```python
db
```
```python
.
```
```python
labels_
```
```python
==
```
```python
-
```
```python
1
```
```python
)
```
```python
colors
```
```python
=
```
```python
[
```
```python
plt
```
```python
.
```
```python
cm
```
```python
.
```
```python
Spectral
```
```python
(
```
```python
each
```
```python
)
```
```python
for
```
```python
each
```
```python
in
```
```python
np
```
```python
.
```
```python
linspace
```
```python
(
```
```python
0
```
```python
,
```
```python
1
```
```python
,
```
```python
len
```
```python
(
```
```python
labels
```
```python
)
```
```python
)
```
```python
]
```
```python
plt
```
```python
.
```
```python
title
```
```python
(
```
```python
'Estimated number of clusters: %d'
```
```python
%
```
```python
n_clusters
```
```python
)
```
```python
show_scatter
```
```python
(
```
```python
data
```
```python
[
```
```python
~
```
```python
noise_mask
```
```python
]
```
```python
,
```
```python
db
```
```python
.
```
```python
labels_
```
```python
[
```
```python
~
```
```python
noise_mask
```
```python
]
```
```python
)
```
```python
show_scatter
```
```python
(
```
```python
data
```
```python
[
```
```python
noise_mask
```
```python
]
```
```python
,
```
```python
'k'
```
```python
)
```
```python
plt
```
```python
.
```
```python
show
```
```python
(
```
```python
)
```
![在这里插入图片描述](https://img-blog.csdnimg.cn/20181027004540491.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2l0bmVyZA==,size_27,color_FFFFFF,t_70)
图中的黑点为 DBSCAN 算法得出的噪声点。
[
](https://img-blog.csdnimg.cn/20181027004540491.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2l0bmVyZA==,size_27,color_FFFFFF,t_70)生成上图数据的函数如下：
[
](https://img-blog.csdnimg.cn/20181027004540491.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2l0bmVyZA==,size_27,color_FFFFFF,t_70)
```python
def
```
```python
gen_ring
```
```python
(
```
```python
r
```
```python
,
```
```python
var
```
```python
,
```
```python
num
```
```python
)
```
```python
:
```
```python
r_array
```
```python
=
```
```python
np
```
```python
.
```
```python
random
```
```python
.
```
```python
normal
```
```python
(
```
```python
r
```
```python
,
```
```python
var
```
```python
,
```
```python
num
```
```python
)
```
```python
t_array
```
```python
=
```
```python
[
```
```python
np
```
```python
.
```
```python
random
```
```python
.
```
```python
random
```
```python
(
```
```python
)
```
```python
*
```
```python
2
```
```python
*
```
```python
np
```
```python
.
```
```python
math
```
```python
.
```
```python
pi
```
```python
for
```
```python
i
```
```python
in
```
```python
range
```
```python
(
```
```python
num
```
```python
)
```
```python
]
```
```python
data
```
```python
=
```
```python
[
```
```python
[
```
```python
r_array
```
```python
[
```
```python
i
```
```python
]
```
```python
*
```
```python
np
```
```python
.
```
```python
math
```
```python
.
```
```python
cos
```
```python
(
```
```python
t_array
```
```python
[
```
```python
i
```
```python
]
```
```python
)
```
```python
,
```
```python
r_array
```
```python
[
```
```python
i
```
```python
]
```
```python
*
```
```python
np
```
```python
.
```
```python
math
```
```python
.
```
```python
sin
```
```python
(
```
```python
t_array
```
```python
[
```
```python
i
```
```python
]
```
```python
)
```
```python
]
```
```python
for
```
```python
i
```
```python
in
```
```python
range
```
```python
(
```
```python
num
```
```python
)
```
```python
]
```
```python
return
```
```python
data
```
```python
def
```
```python
gen_gauss
```
```python
(
```
```python
mean
```
```python
,
```
```python
cov
```
```python
,
```
```python
num
```
```python
)
```
```python
:
```
```python
return
```
```python
np
```
```python
.
```
```python
random
```
```python
.
```
```python
multivariate_normal
```
```python
(
```
```python
mean
```
```python
,
```
```python
cov
```
```python
,
```
```python
num
```
```python
)
```
```python
def
```
```python
gen_clusters
```
```python
(
```
```python
)
```
```python
:
```
```python
data
```
```python
=
```
```python
gen_ring
```
```python
(
```
```python
1
```
```python
,
```
```python
0.1
```
```python
,
```
```python
100
```
```python
)
```
```python
data
```
```python
=
```
```python
np
```
```python
.
```
```python
append
```
```python
(
```
```python
data
```
```python
,
```
```python
gen_ring
```
```python
(
```
```python
3
```
```python
,
```
```python
0.1
```
```python
,
```
```python
300
```
```python
)
```
```python
,
```
```python
0
```
```python
)
```
```python
data
```
```python
=
```
```python
np
```
```python
.
```
```python
append
```
```python
(
```
```python
data
```
```python
,
```
```python
gen_ring
```
```python
(
```
```python
5
```
```python
,
```
```python
0.1
```
```python
,
```
```python
500
```
```python
)
```
```python
,
```
```python
0
```
```python
)
```
```python
mean
```
```python
=
```
```python
[
```
```python
7
```
```python
,
```
```python
7
```
```python
]
```
```python
cov
```
```python
=
```
```python
[
```
```python
[
```
```python
0.5
```
```python
,
```
```python
0
```
```python
]
```
```python
,
```
```python
[
```
```python
0
```
```python
,
```
```python
0.5
```
```python
]
```
```python
]
```
```python
data
```
```python
=
```
```python
np
```
```python
.
```
```python
append
```
```python
(
```
```python
data
```
```python
,
```
```python
gen_gauss
```
```python
(
```
```python
mean
```
```python
,
```
```python
cov
```
```python
,
```
```python
100
```
```python
)
```
```python
,
```
```python
0
```
```python
)
```
```python
return
```
```python
np
```
```python
.
```
```python
round
```
```python
(
```
```python
data
```
```python
,
```
```python
4
```
```python
)
```
[
            ](https://img-blog.csdnimg.cn/20181027004540491.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2l0bmVyZA==,size_27,color_FFFFFF,t_70)

