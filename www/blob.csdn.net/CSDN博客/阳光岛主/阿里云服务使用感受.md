
# 阿里云服务使用感受 - 阳光岛主 - CSDN博客

2013年10月04日 09:26:08[阳光岛主](https://me.csdn.net/sunboy_2050)阅读数：10213



原文发布于2012年09月29日
一年多之前，也就11年5月份的样子，阿里云云服务器产品线终于上线了。但那时候，国内完全没有能称得上云服务器的，很多小公司就是搞个VPS就叫云服务器了。以至于阿里云云服务器刚出来的时候，很多站长也是这么说的。那会儿我国外的虚拟主机也即将到期，而且国外访问速度确实要差不少。所以当时咬咬牙，狠下心来花了1999元买了一台（即现在的标准A，已经涨价了，呵呵，目前是3999元一年，当时有很多人很聪明，续费了好几年）。
用了一年多了，见证了阿里云主机的发展历程，所以，我觉得作为第一批用阿里云云服务器的用户，我还是很有发言权的。
我的结论就是，阿里云，真心很不错，值得你选择。
放心，这篇不是软文，是一个阿里云云主机用户的真实感受。
# 云主机和VPS的区别
我觉得了解阿里云，首先就要弄清楚这两个概念。很多站长根本不懂什么叫云主机，就拿阿里云的和[Linode](http://www.linode.com/)，甚至和西部数码之类的去比。这些完全没有可比性。我这里不是说[Linode](http://www.linode.com/?r=a84fa0cb55e06f910470c9be9380ed74701b17b9)不好，只是因为不是一个概念。Linode在VPS届算是王者了。但是阿里云是云主机，不是VPS。
要了解什么是云主机，其实就是在谈架构。像我等小屁孩其实根本不配谈神马架构之说，所以我只是简单介绍下，具体想更深入地了解，请自己努力升级吧。
VPS，虚拟服务器，就是在一台物理服务器（我们称之为母鸡）上根据某种虚拟方式划分出虚拟机，说白了，和你自己在你的电脑上装个Virtualbox，开几个虚拟机没啥区别。也就是说，这个VPS是依赖于这台母鸡的，一旦母鸡挂了，那你的VPS肯定会挂。另外，这台母鸡上的所有的VPS全部依赖于母鸡的资源，平分母鸡的资源（当然这要看VPS服务商如何去划分VPS了），共享母鸡的带宽，共享母鸡的CPU、硬盘、内存等等资源。也就是说，你在VPS里面看到的硬盘，就是存放在母鸡的硬盘上的某个很大的文件，所以VPS的磁盘IO是要看母鸡的硬盘好坏的，母鸡的磁盘越好，比如SSD，那么你的VPS的磁盘IO速度越高。同理，其他的资源，如带宽、CPU、内存也类似。那么，如果你在VPS里面写入一个文件，就是写到了母鸡的硬盘上，和你自己用台式机新建一个文件到你的硬盘上，基本没有区别。
而云主机则不一样。云主机是架构在“云”上的，我这么说是有点玄乎，所以很多站长其实不懂什么叫云。云简单地说，或者说我的理解，就是集群。对于阿里云的云服务器，很重要的一个区别就是，你在阿里云的云服务器里面看到的硬盘，肯定不是和你的云服务器在一台物理服务器上的。阿里云的云服务器中的硬盘完全是放在单独的网络存储集群上。根据我自己跟阿里云同事的了解，阿里云的存储集群是网络存储，每份数据会在集群上的不同位置保存3份，任何一份丢失都不影响，这样完全保证了存储的高可用性和数据完整性。也就是说，你在云服务器里面写入一个文件，那么其实是通过网络（内网）的传输到另外某n台服务器上，写到他们的硬盘上。这就是集群。
这就是云主机和VPS的主要区别。类似的，像AWS就是云主机，他们的硬盘也是云存储，也是需要单独挂载的。
那有人可能会问，SAE算云主机吗？其实我个人觉得，他不是的。SAE和GAE、BAE一样，都是App Engine，这也是他们名字里面为啥都有AE的原因，也就是说，你在云服务器里面的网站代码基本上不太能直接放到上面用的，要根据他们的环境修改你的代码才可以运行。
# 阿里云好在哪儿
前面的VPS和云主机的区别是基础，理解了这个就更方便地理解了阿里云云主机的优势所在：
## 高可用性
网站最重要的就是高可用性了，以及数据的安全，如果哪个IDC动不动数据就全部丢失了，我想没哪个站长敢用。
其实我之前和很多站长一样，都是对国内的IDC有偏见的。这也是我为啥第一个网站是选择国外的虚拟主机。其实在很多站长的眼里，国外的那些大的IDC才靠谱，数据放在他们那里才不会丢失。所以Linode这样的VPS以及像Hostmonster这样的虚拟主机商才被国内的人看好，说实话，他们做的确实不错，我这些都用过，数据真没有丢失过。
刚开始用阿里云的时候，说实话，我对阿里云也是不放心的，所以我的数据全部通过rsync同步到了国外的AWS上，每天一备份，数据库也做了主从同步。后来当我用了一年多，以及对阿里云的了解更加深入之后，我才发现，我的担心多余了。
先要从架构角度去说。好吧，又要谈到架构了，很多站长可能不知道，阿里云的云主机是架构在非常著名的飞天云计算系统上。你可能不知道，但是了解架构的技术员都会知道，这是淘宝、天猫等都在用的底层架构，你有看到过淘宝和天猫挂掉吗？（当然一两个页面偶尔不能访问和这个没关系，很多是上层应用的问题），相反，再看看京东、苏宁之流，搞个小活动动不动服务器就瘫了，你有看到双11的时候，大家在0点疯抢天猫红包的时候，天猫有挂掉吗？我想没有吧。这都得益于整个底层架构啊。你想想，你的云主机和天猫都是架构在同一种集群上，你能不放心吗？相反，你再想想那些自称自己是“云”的所谓VPS服务商，搞个VPS就叫云来骗人，你敢用吗？只要母鸡一挂，你的VPS就挂了。再者，相比很多人都知道AWS曾经出现过很大的故障，但是你看过淘宝和天猫这几年有出过这么大的故障么？
再谈数据。数据我也不用说太多了，刚才在说架构的时候已经谈过了。普通VPS的数据是写到母鸡的硬盘上的，其实大家都知道，硬盘是易耗品，本身机械硬盘还是会出故障，用个两三年，说不定就出故障了，而且母鸡的硬盘坏掉了，你的数据肯定就回不来了，一般的VPS服务商也不会花巨款去给你恢复数据的。所以很多VPS商才声称自己做了RAID几几之类的。RAID是个好技术，是能保证一定的数据完整性的，但是还是几块硬盘，还是会坏，所以Linode有单独的备份系统。
阿里云就不一样了，刚才说过了，阿里云的云主机的硬盘是放在单独的网络存储集群上，而且你的数据每份都给保存3份，你每次写入一次数据，就会通过集群的交换机写入到集群的不同位置上。集群最重要的特点就是数据高可用，这么大的集群，随便坏掉几块硬盘影响么？直接拿另外地方存储的数据同步过来就行了。那你会问，如果这3份数据所在的硬盘都坏掉了，那岂不是就没救了？好吧，其实我告诉你，这相当于你从一个沙滩上画出一平方米（当然只是假设啊，别当真），然后从这一平方米里面选3粒沙子，然后涂上颜色，然后混入到这一平方米里面，蒙上眼睛，再把这3粒沙子一起挑出来，你觉得这和你中5百万有啥区别呢。。。除非整个集群或者集群的百分之几十挂掉，才能轮到你的数据丢失吧，不过话说回来了，你在淘宝上注册的帐号有丢失过么（排除自己的违规导致删号一类的）？
而且，拿我自身体验来说，除了我自己手动重启以外，阿里云的主机还真没出现过问题，我最长大概是6个月没重启过我的云服务器了，之前有TOP命令截图，本来想贴出来的，但是不好意思，找不到了。
前几个月，阿里云推出了敢用敢赔的服务，100倍赔偿，就是说，如果你的云主机因为阿里云的故障导致当机1天，那他们会免费赠送你100天，都承诺到这种地步了，我想目前国内没几个做IDC的敢这么承诺吧？
所以，用阿里云，尽管放心。这一点，可以满分。
## 访问速度
除了稳定，站长最关心的就是网站访问速度了。我觉得这个无庸置疑，阿里云的云服务器访问速度在国内算是一流了，更直接秒杀所有国外主机。我自己的网站都说在阿里云的服务器上，根据用户的反馈，速度相当不错，监控宝也监控了很长时间，基本上全部绿色（当然这个监控只能说明一部分问题）。更何况，阿里云的线路对于教育网访问也不错，这个我是有证据的，我的一个网站（飞扬俱乐部：fyscu.com）的主要用户就是四川大学的用户，他们用教育网访问速度也非常棒。另外一个网站（冰糖：bingtangpt.com），前期用户很多也是在校学生，他们反馈速度也很不错。
好吧，我的都是小网站，没啥说服力，就拿业内很有名的网站异次元说一说吧，异次元也搬到阿里云上了，用户反馈速度也很棒，不信自己可以看评论：http://www.iplaysoft.com/moved-to-aliyun.html
所以这一点我觉得，也可以满分。
当然如果还有其他选择的话，SAE、BAE可能也是不错的选择，当然那些普通网站没法直接用的。
## 价格
很多人抱怨阿里云太贵，如果你了解了阿里云这套架构，再把它和VPS的架构的成本一比较，差距就太大了。VPS的架构很多都是采用开源的软件，母鸡也用Linux，基本上除了硬件成本，没有任何软件成本，顶多是找人维护服务器就行了。而阿里云的架构是自主开发的，所以肯定有成本在里面。
话说我刚用的时候，1999一年的标准A真心便宜啊，1.5G内存，5M带宽，150G的硬盘，双核的至强CPU，相比较最低配置的Linode，一年也要1600多吧，而这最低配置的Linode，只有512M的内存，20G的硬盘，每个月只有200GB的流量。自己掂量吧。
即使现在最低款的阿里云，只要89元一个月，配置也明显比最低配的Linode高很多吧。再加上刚提到了阿里云这么多优势，性价比非常高啊，还是那句话，自己掂量吧。
如果真的没钱，我觉得还是先用虚拟主机来的实在，等你网站牛逼了，再搬也不迟。
## 操作系统的选择
使用云主机/VPS，当然面临着选择操作系统。其实这一块，阿里云刚开始做的是不够好的，当时只有Win2008和Red Hat可选，而现在，阿里云已经有很多系统镜像可以选择了，比如CentOS 5/6，Ubuntu等，都是很纯净的系统，很方便自己定制。
很多新手站长或者Linux新手肯定会抱怨这个，说系统太纯净了，啥都没有，我只想说，如果不会用Linux，不会拿Linux装软件，我觉得你还是用Windows Server吧，Windows Server 2008也做得很不错的。否则，你用Linux，之后如果遇到问题，可能就不太容易解决的。
我刚用阿里云的时候，当时的Red hat里面还带桌面环境、VNC的，试想，一台服务器，还搞啥桌面环境？很可笑吧，不过后来阿里云改进了，所有的Linux发行版都是很纯净的，不会乱装软件的，这才符合一台服务器操作系统的要求。
## 客服
Linode的客服回复速度是有目共睹的，现在，阿里云的客服已经很专业了，基本上回复速度非常快，而且7×24小时，即使半夜提交工单，也会有工程师联系你。更何况，我感觉阿里云的客服真是太热情了，经常提交工单之后，他们就会给你打电话，仔细询问你的问题。
## 备案
国内最大的问题就是备案问题了。之前阿里云的备案是比较困难的，需要直接用电信的某套系统，现在不用了，外包出去了，跟万网备案是同一家外包公司的，备案系统都一样的。
不知道作为读者的您，有没有用过万网的备案，反正我是用过的，速度很快，如果是第一次备案，稍微有点麻烦，需要核验之类的。如果只是新增网站，直接系统提交，然后快递资料就行了，很是方便。我是备案到四川管局的，新增网站，算上阿里云的审核时间，备案了两次，第一次是5天下号，这一次大概是7天，还是比较快的。其他地方的管局不太清楚，具体不同的管局审核速度也不太一样的，有的管局也查得严。我觉得跟这些ZF部门打交道，最好的办法就是淡定，再淡定。
备案建议关站备案，当然，IP还是要解析到你要备案的阿里云主机上，否则IP接入不对的，如果以后查的严，还需要再做转移接入的。
## 云监控
阿里云的云监控不得不提，构想非常棒，不过目前的界面有点难用，需要优化一下交互。
为啥好用呢。首先，不限制你的域名是不是在用阿里云主机的。
第二，每个月免费1000条短信的配额，你看看这么多配额，用监控宝或者DNSPOD的监控得花多少钱吧。。。还是那句话，自己掂量吧。
第三，他有个云监控的Agent，这个构想太棒了，为啥呢，这个Agent是主动发请求到阿里云的云监控上的，而监控宝呢，是他们主动请求你的服务器，为了安全，你需要单独给监控宝开端口或者授权IP一类的。而云监控的Agent，是你主动发请求，不需要单独开INPUT端口。而且根据我的了解，这个Agent是淘宝线上服务器大规模采用的鹰眼监控系统的简版，所以还是很靠谱的，只是目前还没有开源。相信随着淘宝的开源事业的不断推进，这些也是不在话下的。
因为今天头有点疼了，明早要回家过十一，就先写到这儿，其他优点回来再补充。
# 阿里云目前的不足
说了这么多优点，难道阿里云就没有一点不好么？其实阿里云还在起步阶段，肯定有很多不足，网上也有不少抱怨。我主要说几点吧，相信随着阿里云的发展，下面这些问题会一一解决的。
## 磁盘IO
阿里云的磁盘IO是不太高，不过我可以很负责任地告诉你，对于一般的网站绝对够用了，那种IO密集型的应用可能需要三思了。为啥阿里云的IO不高呢？还是要谈架构了。刚说到，阿里云的磁盘是网络集群存储的架构，这样，因为每次写入数据都要通过网络（虽然是内网），然后还要写入3份数据，所以IO就会打折扣。相比VPS，VPS共用母鸡的磁盘，一般的Sata硬盘速度还是可以的，阿里云的IO相比较而言就慢一些。所以建议，如果感觉网站的IO不行了，就关闭开启一些IO密集型的应用或者特性。比如MySQL的bin-log，如果数据库操作频繁，再加上bin-log，可能IO wait的比率就会比较高了。
当然，我也给阿里云团队反馈过这个问题，他们说底层架构还需要优化，我想也是的，本身数据安全和IO还是一把天平，一边高了，另外一边自然要低一些，所以就多给阿里云一些时间吧，这个问题估计也不会是一天两天就能搞定的。
如果你想用阿里云，但是对IO要求比较高，如果是数据库密集型的，建议采用RDS，如果是文件密集型的，就用OSS吧，内网流量免费，这种搭配还是很不错的，如果你网站真的到了这种地步，相信那点钱不在话下的。
## Linux系统内核
有一个问题比较关键，目前阿里云云主机，如果你是采用Linux系统，不建议你升级内核，因为云主机的驱动和内核是挂钩的，升级之后可能造成云服务器无法正常启动，如果不小心升级了，联系客服，他们会帮你修复的，几分钟就搞定。
# 总结
好了，基本上可以总结了。作为用了阿里云这么久的用户，我个人还是非常推荐阿里云的，靠谱，性价比高，现在还能自定义配置，所以如果想把网站搬回国内，或者正在寻找一个合适的创业起点，相信阿里云一定是个不错的选择。

**参考推荐：**
[阿里云云服务器一年多的感受](http://kb.cnblogs.com/page/161553/)



