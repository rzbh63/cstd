
# C++实践参考：点-圆-圆柱类族的设计 - 迂者-贺利坚的专栏 - CSDN博客

2016年04月27日 17:08:33[迂者-贺利坚](https://me.csdn.net/sxhelijian)阅读数：4128


【项目 - 点-圆-圆柱类族的设计】
按以下的提示，由基类的设计和测试开始，逐渐地完成各个类的设计，求出圆格柱体的表面积、体积并输出并且完成要求的计算任务：
（1）先建立一个Point(点)类，包含数据成员x,y(坐标点)，实现需要的成员函数，并设计main函数完成测试；
（2）以Point为基类，派生出一个Circle(圆)类，增加数据成员r(半径)，以及求面积的成员函数area，实现其他需要的成员函数，设计main函数完成测试；
（3）再以Circle类为直接基类，派生出一个Cylinder(圆柱体)类，再增加数据成员h(高)，，以及求圆柱表面积的成员函数area和求圆柱体积的成员函数volume，实现需要的成员函数，并设计main函数完成测试。
要求编写程序，设计出各类中“需要的成员函数”，包括构造函数、析构函数、修改数据成员和获取数据成员的公共接口、用于输出的重载运算符“<<”函数等。
（提示：此任务可以分为三个子任务分成若干步骤进行。先声明基类，再声明派生类，逐级进行，分步调试。——这种方法适用于做任何的项目）
[参考解答]
（1）先建立一个Point(点)类，包含数据成员x,y(坐标点)，实现需要的成员函数，并设计main函数完成测试；
```python
#include <iostream>
```
```python
using
```
```python
namespace
```
```python
std
```
```python
;
```
```python
class
```
```python
Point
{
```
```python
public
```
```python
:
    Point(
```
```python
double
```
```python
x=
```
```python
0
```
```python
,
```
```python
double
```
```python
y=
```
```python
0
```
```python
);
```
```python
//构造函数
```
```python
void
```
```python
setPoint(
```
```python
double
```
```python
,
```
```python
double
```
```python
);
```
```python
//设置坐标值
```
```python
double
```
```python
getX( )
```
```python
const
```
```python
{
```
```python
return
```
```python
x;}
```
```python
//读x坐标
```
```python
double
```
```python
getY( )
```
```python
const
```
```python
{
```
```python
return
```
```python
y;}
```
```python
//读y坐标
```
```python
void
```
```python
show();
```
```python
protected
```
```python
:
```
```python
//受保护成员
```
```python
double
```
```python
x,y;
};
```
```python
//Point的构造函数
```
```python
Point::Point(
```
```python
double
```
```python
a,
```
```python
double
```
```python
b)
{
    x=a;
    y=b;
}
```
```python
//设置x和y的坐标值
```
```python
void
```
```python
Point::setPoint(
```
```python
double
```
```python
a,
```
```python
double
```
```python
b)
{
    x=a;
    y=b;
}
```
```python
void
```
```python
Point::show()
{
```
```python
cout
```
```python
<<
```
```python
"["
```
```python
<<x<<
```
```python
","
```
```python
<<y<<
```
```python
"]"
```
```python
<<endl;
}
```
```python
int
```
```python
main( )
{
    Point p(
```
```python
3.5
```
```python
,
```
```python
6.4
```
```python
);
    p.show();
    p.setPoint(
```
```python
8.5
```
```python
,
```
```python
6.8
```
```python
);
    p.show();
```
```python
return
```
```python
0
```
```python
;
}
```
（2）以Point为基类，派生出一个Circle(圆)类，增加数据成员r(半径)，以及求面积的成员函数area，实现其他需要的成员函数，设计main函数完成测试；
```python
#include <iostream>
```
```python
using
```
```python
namespace
```
```python
std
```
```python
;
```
```python
class
```
```python
Point
{
```
```python
public
```
```python
:
    Point(
```
```python
double
```
```python
x=
```
```python
0
```
```python
,
```
```python
double
```
```python
y=
```
```python
0
```
```python
);
```
```python
//构造函数
```
```python
void
```
```python
setPoint(
```
```python
double
```
```python
,
```
```python
double
```
```python
);
```
```python
//设置坐标值
```
```python
double
```
```python
getX( )
```
```python
const
```
```python
{
```
```python
return
```
```python
x;
```
```python
//读x坐标
```
```python
}
```
```python
double
```
```python
getY( )
```
```python
const
```
```python
{
```
```python
return
```
```python
y;
```
```python
//读y坐标
```
```python
}
```
```python
void
```
```python
show();
```
```python
protected
```
```python
:
```
```python
//受保护成员
```
```python
double
```
```python
x,y;
};
```
```python
//Point的构造函数
```
```python
Point::Point(
```
```python
double
```
```python
a,
```
```python
double
```
```python
b)
{
    x=a;
    y=b;
}
```
```python
//设置x和y的坐标值
```
```python
void
```
```python
Point::setPoint(
```
```python
double
```
```python
a,
```
```python
double
```
```python
b)
{
    x=a;
    y=b;
}
```
```python
void
```
```python
Point::show()
{
```
```python
cout
```
```python
<<
```
```python
"["
```
```python
<<x<<
```
```python
","
```
```python
<<y<<
```
```python
"]"
```
```python
<<endl;
}
```
```python
class
```
```python
Circle:
```
```python
public
```
```python
Point
```
```python
//circle是Point类的公用派生类
```
```python
{
```
```python
public
```
```python
:
    Circle(
```
```python
double
```
```python
x=
```
```python
0
```
```python
,
```
```python
double
```
```python
y=
```
```python
0
```
```python
,
```
```python
double
```
```python
r=
```
```python
0
```
```python
);
```
```python
//构造函数
```
```python
void
```
```python
setRadius(
```
```python
double
```
```python
);
```
```python
//设置半径值
```
```python
double
```
```python
getRadius( )
```
```python
const
```
```python
;
```
```python
//读取半径值
```
```python
double
```
```python
area ( )
```
```python
const
```
```python
;
```
```python
//计算圆面积
```
```python
void
```
```python
show();
```
```python
protected
```
```python
:
```
```python
double
```
```python
radius;
};
```
```python
//定义构造函数，对圆心坐标和半径初始化
```
```python
Circle::Circle(
```
```python
double
```
```python
a,
```
```python
double
```
```python
b,
```
```python
double
```
```python
r):Point(a,b),radius(r) { }
```
```python
//设置半径值
```
```python
void
```
```python
Circle::setRadius(
```
```python
double
```
```python
r)
{
    radius=r;
}
```
```python
//读取半径值
```
```python
double
```
```python
Circle::getRadius( )
```
```python
const
```
```python
{
```
```python
return
```
```python
radius;
}
```
```python
//计算圆面积
```
```python
double
```
```python
Circle::area( )
```
```python
const
```
```python
{
```
```python
return
```
```python
3.14159
```
```python
*radius*radius;
}
```
```python
//输出圆的信息
```
```python
void
```
```python
Circle::show()
{
```
```python
cout
```
```python
<<
```
```python
"Center=["
```
```python
<<x<<
```
```python
", "
```
```python
<<y<<
```
```python
"], r="
```
```python
<<radius<<
```
```python
", area="
```
```python
<<area( )<<endl;
}
```
```python
int
```
```python
main( )
{
    Circle c(
```
```python
3.5
```
```python
,
```
```python
6.4
```
```python
,
```
```python
5.2
```
```python
);
```
```python
cout
```
```python
<<
```
```python
"original circle:\n"
```
```python
;
    c.show();
    c.setPoint(
```
```python
5
```
```python
,
```
```python
5
```
```python
);
```
```python
cout
```
```python
<<
```
```python
"new circle:\n"
```
```python
;
    c.show();
```
```python
return
```
```python
0
```
```python
;
}
```
（3）再以Circle类为直接基类，派生出一个Cylinder(圆柱体)类，再增加数据成员h(高)，，以及求圆柱表面积的成员函数area和求圆柱体积的成员函数volume，实现需要的成员函数，并设计main函数完成测试。
```python
#include <iostream>
```
```python
using
```
```python
namespace
```
```python
std
```
```python
;
```
```python
class
```
```python
Point
{
```
```python
public
```
```python
:
    Point(
```
```python
double
```
```python
x=
```
```python
0
```
```python
,
```
```python
double
```
```python
y=
```
```python
0
```
```python
);
```
```python
//构造函数
```
```python
void
```
```python
setPoint(
```
```python
double
```
```python
,
```
```python
double
```
```python
);
```
```python
//设置坐标值
```
```python
double
```
```python
getX( )
```
```python
const
```
```python
{
```
```python
return
```
```python
x;
```
```python
//读x坐标
```
```python
}
```
```python
double
```
```python
getY( )
```
```python
const
```
```python
{
```
```python
return
```
```python
y;
```
```python
//读y坐标
```
```python
}
```
```python
void
```
```python
show();
```
```python
protected
```
```python
:
```
```python
//受保护成员
```
```python
double
```
```python
x,y;
};
```
```python
//Point的构造函数
```
```python
Point::Point(
```
```python
double
```
```python
a,
```
```python
double
```
```python
b)
{
    x=a;
    y=b;
}
```
```python
//设置x和y的坐标值
```
```python
void
```
```python
Point::setPoint(
```
```python
double
```
```python
a,
```
```python
double
```
```python
b)
{
    x=a;
    y=b;
}
```
```python
void
```
```python
Point::show()
{
```
```python
cout
```
```python
<<
```
```python
"["
```
```python
<<x<<
```
```python
","
```
```python
<<y<<
```
```python
"]"
```
```python
<<endl;
}
```
```python
class
```
```python
Circle:
```
```python
public
```
```python
Point
```
```python
//circle是Point类的公用派生类
```
```python
{
```
```python
public
```
```python
:
    Circle(
```
```python
double
```
```python
x=
```
```python
0
```
```python
,
```
```python
double
```
```python
y=
```
```python
0
```
```python
,
```
```python
double
```
```python
r=
```
```python
0
```
```python
);
```
```python
//构造函数
```
```python
void
```
```python
setRadius(
```
```python
double
```
```python
);
```
```python
//设置半径值
```
```python
double
```
```python
getRadius( )
```
```python
const
```
```python
;
```
```python
//读取半径值
```
```python
double
```
```python
area ( )
```
```python
const
```
```python
;
```
```python
//计算圆面积
```
```python
void
```
```python
show();
```
```python
protected
```
```python
:
```
```python
double
```
```python
radius;
};
```
```python
//定义构造函数，对圆心坐标和半径初始化
```
```python
Circle::Circle(
```
```python
double
```
```python
a,
```
```python
double
```
```python
b,
```
```python
double
```
```python
r):Point(a,b),radius(r) { }
```
```python
//设置半径值
```
```python
void
```
```python
Circle::setRadius(
```
```python
double
```
```python
r)
{
    radius=r;
}
```
```python
//读取半径值
```
```python
double
```
```python
Circle::getRadius( )
```
```python
const
```
```python
{
```
```python
return
```
```python
radius;
}
```
```python
//计算圆面积
```
```python
double
```
```python
Circle::area( )
```
```python
const
```
```python
{
```
```python
return
```
```python
3.14159
```
```python
*radius*radius;
}
```
```python
//输出圆的信息
```
```python
void
```
```python
Circle::show()
{
```
```python
cout
```
```python
<<
```
```python
"Center=["
```
```python
<<x<<
```
```python
", "
```
```python
<<y<<
```
```python
"], r="
```
```python
<<radius<<
```
```python
", area="
```
```python
<<area( )<<endl;
}
```
```python
class
```
```python
Cylinder:
```
```python
public
```
```python
Circle
{
```
```python
public
```
```python
:
    Cylinder (
```
```python
double
```
```python
x=
```
```python
0
```
```python
,
```
```python
double
```
```python
y=
```
```python
0
```
```python
,
```
```python
double
```
```python
r=
```
```python
0
```
```python
,
```
```python
double
```
```python
h=
```
```python
0
```
```python
);
```
```python
//构造函数
```
```python
void
```
```python
setHeight(
```
```python
double
```
```python
);
```
```python
//设置圆柱高
```
```python
double
```
```python
getHeight( )
```
```python
const
```
```python
;
```
```python
//读取圆柱高
```
```python
double
```
```python
area( )
```
```python
const
```
```python
;
```
```python
//计算圆柱表面积
```
```python
double
```
```python
volume( )
```
```python
const
```
```python
;
```
```python
//计算圆柱体积
```
```python
void
```
```python
show();
```
```python
protected
```
```python
:
```
```python
double
```
```python
height;
```
```python
//圆柱高
```
```python
};
```
```python
//定义构造函数
```
```python
Cylinder::Cylinder(
```
```python
double
```
```python
a,
```
```python
double
```
```python
b,
```
```python
double
```
```python
r,
```
```python
double
```
```python
h) :Circle(a,b,r),height(h){}
```
```python
//设置圆柱高
```
```python
void
```
```python
Cylinder::setHeight(
```
```python
double
```
```python
h)
{
    height=h;
}
```
```python
//读取圆柱高
```
```python
double
```
```python
Cylinder::getHeight( )
```
```python
const
```
```python
{
```
```python
return
```
```python
height;
}
```
```python
//计算圆柱表面积
```
```python
double
```
```python
Cylinder::area( )
```
```python
const
```
```python
{
```
```python
return
```
```python
2
```
```python
*Circle::area( )+
```
```python
2
```
```python
*
```
```python
3.14159
```
```python
*radius*height;
}
```
```python
//计算圆柱体积
```
```python
double
```
```python
Cylinder::volume()
```
```python
const
```
```python
{
```
```python
return
```
```python
Circle::area()*height;
}
```
```python
void
```
```python
Cylinder::show()
{
```
```python
cout
```
```python
<<
```
```python
"Center=["
```
```python
<<x<<
```
```python
","
```
```python
<<y<<
```
```python
"], r="
```
```python
<<radius<<
```
```python
", h="
```
```python
<<height
        <<
```
```python
"\narea="
```
```python
<<area( )<<
```
```python
", volume="
```
```python
<<volume( )<<endl;
}
```
```python
int
```
```python
main( )
{
    Cylinder cy1(
```
```python
3.5
```
```python
,
```
```python
6.4
```
```python
,
```
```python
5.2
```
```python
,
```
```python
10
```
```python
);
```
```python
cout
```
```python
<<
```
```python
"\noriginal cylinder:\nx="
```
```python
;
    cy1.show();
    cy1.setHeight(
```
```python
15
```
```python
);
    cy1.setRadius(
```
```python
7.5
```
```python
);
    cy1.setPoint(
```
```python
5
```
```python
,
```
```python
5
```
```python
);
```
```python
cout
```
```python
<<
```
```python
"\nnew cylinder:\n"
```
```python
;
    cy1.show();
```
```python
return
```
```python
0
```
```python
;
}
```

