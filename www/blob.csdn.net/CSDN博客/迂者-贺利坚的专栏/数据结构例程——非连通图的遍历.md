
# 数据结构例程——非连通图的遍历 - 迂者-贺利坚的专栏 - CSDN博客

2015年11月03日 21:26:10[迂者-贺利坚](https://me.csdn.net/sxhelijian)阅读数：4045


本文是[[数据结构基础系列(7)：图](http://edu.csdn.net/course/detail/1595)]中第7课时[[非连通图的遍历](http://edu.csdn.net/course/detail/1595/24597?auto_start=1)]的例程。
（程序中graph.h是图存储结构的“算法库”中的头文件，详情请[单击链接…](http://blog.csdn.net/sxhelijian/article/details/49591419)）
1、非连通图的深度优先遍历——DFS
```python
#include <stdio.h>
```
```python
#include <malloc.h>
```
```python
#include "graph.h"
```
```python
int
```
```python
visited[MAXV];
```
```python
//定义存放节点的访问标志的全局数组
```
```python
void
```
```python
DFS(ALGraph *G,
```
```python
int
```
```python
v)
{
    ArcNode *p;
```
```python
int
```
```python
w;
    visited[v]=
```
```python
1
```
```python
;
```
```python
printf
```
```python
(
```
```python
"%d "
```
```python
, v);
    p=G->adjlist[v].firstarc;
```
```python
while
```
```python
(p!=NULL)
    {
        w=p->adjvex;
```
```python
if
```
```python
(visited[w]==
```
```python
0
```
```python
)
            DFS(G,w);
        p=p->nextarc;
    }
}
```
```python
//采用深度优先搜索遍历非连通无向图
```
```python
void
```
```python
DFS1(ALGraph *G)
{
```
```python
int
```
```python
i;
```
```python
for
```
```python
(i=
```
```python
0
```
```python
; i<G->n; i++)
```
```python
if
```
```python
(visited[i]==
```
```python
0
```
```python
)
            DFS(G,i);
}
```
```python
int
```
```python
main()
{
```
```python
int
```
```python
i;
    ALGraph *G;
```
```python
int
```
```python
A[
```
```python
8
```
```python
][
```
```python
8
```
```python
]=
    {
        {
```
```python
0
```
```python
,
```
```python
1
```
```python
,
```
```python
0
```
```python
,
```
```python
1
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
},
        {
```
```python
1
```
```python
,
```
```python
0
```
```python
,
```
```python
1
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
},
        {
```
```python
0
```
```python
,
```
```python
1
```
```python
,
```
```python
0
```
```python
,
```
```python
1
```
```python
,
```
```python
1
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
},
        {
```
```python
1
```
```python
,
```
```python
0
```
```python
,
```
```python
1
```
```python
,
```
```python
0
```
```python
,
```
```python
1
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
},
        {
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
1
```
```python
,
```
```python
1
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
},
        {
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
1
```
```python
,
```
```python
0
```
```python
},
        {
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
1
```
```python
,
```
```python
0
```
```python
,
```
```python
1
```
```python
},
        {
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
1
```
```python
,
```
```python
0
```
```python
},
    };
    ArrayToList(A[
```
```python
0
```
```python
],
```
```python
8
```
```python
, G);
```
```python
for
```
```python
(i=
```
```python
0
```
```python
; i<G->n; i++)
        visited[i]=
```
```python
0
```
```python
;
```
```python
//访问标志数组初始化
```
```python
printf
```
```python
(
```
```python
" 非连通图的广度优先遍历:\n"
```
```python
);
    DFS1(G);
```
```python
return
```
```python
0
```
```python
;
}
```
2、非连通图的广度优先遍历——BFS
```python
#include <stdio.h>
```
```python
#include <malloc.h>
```
```python
#include "graph.h"
```
```python
int
```
```python
visited[MAXV];
```
```python
//定义存放节点的访问标志的全局数组
```
```python
void
```
```python
BFS(ALGraph *G,
```
```python
int
```
```python
v)
{
    ArcNode *p;
```
```python
int
```
```python
w;
```
```python
int
```
```python
queue
```
```python
[MAXV],front=
```
```python
0
```
```python
,rear=
```
```python
0
```
```python
;
```
```python
//定义循环队列
```
```python
printf
```
```python
(
```
```python
"%2d"
```
```python
,v);
```
```python
//输出被访问顶点的编号
```
```python
visited[v]=
```
```python
1
```
```python
;
```
```python
//置已访问标记
```
```python
rear=(rear+
```
```python
1
```
```python
)%MAXV;
```
```python
queue
```
```python
[rear]=v;
```
```python
//v进队
```
```python
while
```
```python
(front!=rear)
```
```python
//若队列不空时循环
```
```python
{
        front=(front+
```
```python
1
```
```python
)%MAXV;
        w=
```
```python
queue
```
```python
[front];
```
```python
//出队并赋给w
```
```python
p=G->adjlist[w].firstarc;
```
```python
//找w的第一个的邻接点
```
```python
while
```
```python
(p!=NULL)
        {
```
```python
if
```
```python
(visited[p->adjvex]==
```
```python
0
```
```python
)
            {
```
```python
printf
```
```python
(
```
```python
"%2d"
```
```python
,p->adjvex);
```
```python
//访问之
```
```python
visited[p->adjvex]=
```
```python
1
```
```python
;
                rear=(rear+
```
```python
1
```
```python
)%MAXV;
```
```python
//该顶点进队
```
```python
queue
```
```python
[rear]=p->adjvex;
            }
            p=p->nextarc;
```
```python
//找下一个邻接顶点
```
```python
}
    }
```
```python
printf
```
```python
(
```
```python
"\n"
```
```python
);
}
```
```python
//采用广度优先搜索遍历非连通无向图
```
```python
void
```
```python
BFS1(ALGraph *G)
{
```
```python
int
```
```python
i;
```
```python
for
```
```python
(i=
```
```python
0
```
```python
;i<G->n;i++)
```
```python
if
```
```python
(visited[i]==
```
```python
0
```
```python
)
           BFS(G,i);
}
```
```python
int
```
```python
main()
{
```
```python
int
```
```python
i;
    ALGraph *G;
```
```python
int
```
```python
A[
```
```python
8
```
```python
][
```
```python
8
```
```python
]=
    {
        {
```
```python
0
```
```python
,
```
```python
1
```
```python
,
```
```python
0
```
```python
,
```
```python
1
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
},
        {
```
```python
1
```
```python
,
```
```python
0
```
```python
,
```
```python
1
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
},
        {
```
```python
0
```
```python
,
```
```python
1
```
```python
,
```
```python
0
```
```python
,
```
```python
1
```
```python
,
```
```python
1
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
},
        {
```
```python
1
```
```python
,
```
```python
0
```
```python
,
```
```python
1
```
```python
,
```
```python
0
```
```python
,
```
```python
1
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
},
        {
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
1
```
```python
,
```
```python
1
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
},
        {
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
1
```
```python
,
```
```python
0
```
```python
},
        {
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
1
```
```python
,
```
```python
0
```
```python
,
```
```python
1
```
```python
},
        {
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
1
```
```python
,
```
```python
0
```
```python
},
    };
    ArrayToList(A[
```
```python
0
```
```python
],
```
```python
8
```
```python
, G);
```
```python
for
```
```python
(i=
```
```python
0
```
```python
; i<G->n; i++)
        visited[i]=
```
```python
0
```
```python
;
```
```python
//访问标志数组初始化
```
```python
printf
```
```python
(
```
```python
" 非连通图的广度优先遍历:\n"
```
```python
);
    BFS1(G);
```
```python
return
```
```python
0
```
```python
;
}
```
3、判断连通图
```python
#include <stdio.h>
```
```python
#include <malloc.h>
```
```python
#include "graph.h"
```
```python
int
```
```python
visited[MAXV];
```
```python
//定义存放节点的访问标志的全局数组
```
```python
void
```
```python
DFS(ALGraph *G,
```
```python
int
```
```python
v)
{
    ArcNode *p;
```
```python
int
```
```python
w;
    visited[v]=
```
```python
1
```
```python
;
```
```python
//此处做了标记即完成了访问，不必下句的输出
```
```python
//printf("%d ", v);
```
```python
p=G->adjlist[v].firstarc;
```
```python
while
```
```python
(p!=NULL)
    {
        w=p->adjvex;
```
```python
if
```
```python
(visited[w]==
```
```python
0
```
```python
)
            DFS(G,w);
        p=p->nextarc;
    }
}
```
```python
//是连通图返回true，否则返回false
```
```python
bool
```
```python
Connect(ALGraph *G)
{
```
```python
int
```
```python
i;
```
```python
bool
```
```python
flag=
```
```python
true
```
```python
;
```
```python
for
```
```python
(i=
```
```python
0
```
```python
; i<G->n; i++)
        visited[i]=
```
```python
0
```
```python
;
    DFS(G,
```
```python
0
```
```python
);
```
```python
for
```
```python
(i=
```
```python
0
```
```python
; i<G->n; i++)
```
```python
if
```
```python
(visited[i]==
```
```python
0
```
```python
)
        {
            flag=
```
```python
false
```
```python
;
```
```python
break
```
```python
;
        }
```
```python
return
```
```python
flag;
}
```
```python
int
```
```python
main()
{
```
```python
int
```
```python
i;
    ALGraph *G;
```
```python
int
```
```python
A[
```
```python
8
```
```python
][
```
```python
8
```
```python
]=
    {
        {
```
```python
0
```
```python
,
```
```python
1
```
```python
,
```
```python
0
```
```python
,
```
```python
1
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
},
        {
```
```python
1
```
```python
,
```
```python
0
```
```python
,
```
```python
1
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
},
        {
```
```python
0
```
```python
,
```
```python
1
```
```python
,
```
```python
0
```
```python
,
```
```python
1
```
```python
,
```
```python
1
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
},
        {
```
```python
1
```
```python
,
```
```python
0
```
```python
,
```
```python
1
```
```python
,
```
```python
0
```
```python
,
```
```python
1
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
},
        {
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
1
```
```python
,
```
```python
1
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
},
        {
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
1
```
```python
,
```
```python
0
```
```python
},
        {
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
1
```
```python
,
```
```python
0
```
```python
,
```
```python
1
```
```python
},
        {
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
0
```
```python
,
```
```python
1
```
```python
,
```
```python
0
```
```python
},
    };
    ArrayToList(A[
```
```python
0
```
```python
],
```
```python
8
```
```python
, G);
```
```python
for
```
```python
(i=
```
```python
0
```
```python
; i<G->n; i++)
        visited[i]=
```
```python
0
```
```python
;
```
```python
//访问标志数组初始化
```
```python
if
```
```python
(Connect(G))
```
```python
printf
```
```python
(
```
```python
" G是连通图\n"
```
```python
);
```
```python
else
```
```python
printf
```
```python
(
```
```python
" G不是连通图\n"
```
```python
);
```
```python
return
```
```python
0
```
```python
;
}
```
附：测试用的图及存储结构
![这里写图片描述](https://img-blog.csdn.net/20151103212527642)

