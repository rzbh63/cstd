
# 2015级C++第15周程序阅读 范型程序设计 - 迂者-贺利坚的专栏 - CSDN博客

2016年06月02日 16:49:17[迂者-贺利坚](https://me.csdn.net/sxhelijian)阅读数：1327


阅读下面的程序，对照运行结果，领会STL的用法
(1)
```python
#include <string>
```
```python
#include <set>
```
```python
#include <iterator>
```
```python
#include <iostream>
```
```python
using
```
```python
namespace
```
```python
std
```
```python
;
```
```python
int
```
```python
main()
{
```
```python
set
```
```python
<
```
```python
string
```
```python
>
```
```python
strset;
    strset.insert(
```
```python
"cantaloupes"
```
```python
);
    strset.insert(
```
```python
"grapes"
```
```python
);
    strset.insert(
```
```python
"apple"
```
```python
);
    strset.insert(
```
```python
"orange"
```
```python
);
    strset.insert(
```
```python
"banana"
```
```python
);
    strset.insert(
```
```python
"grapes"
```
```python
);
    copy(strset.begin(), strset.end(), ostream_iterator<
```
```python
string
```
```python
>(
```
```python
cout
```
```python
,
```
```python
" "
```
```python
));
```
```python
cout
```
```python
<< endl;
```
```python
return
```
```python
0
```
```python
;
}
```
(2)
```python
#include <functional>
```
```python
#include <numeric>
```
```python
#include <vector>
```
```python
#include <iostream>
```
```python
using
```
```python
namespace
```
```python
std
```
```python
;
```
```python
int
```
```python
main()
{
```
```python
vector
```
```python
<
```
```python
int
```
```python
>
```
```python
v(
```
```python
5
```
```python
);
```
```python
for
```
```python
(
```
```python
int
```
```python
i =
```
```python
0
```
```python
; i <
```
```python
5
```
```python
; i++)
        v[i] = i +
```
```python
1
```
```python
;
```
```python
int
```
```python
sum = accumulate(v.begin(), v.end(),
```
```python
0
```
```python
);
```
```python
cout
```
```python
<<
```
```python
"Sum of values == "
```
```python
<< sum << endl;
```
```python
int
```
```python
product = accumulate(v.begin(), v.end(),
```
```python
1
```
```python
, multiplies<
```
```python
long
```
```python
>());
```
```python
cout
```
```python
<<
```
```python
"Product of values == "
```
```python
<< product << endl;
```
```python
return
```
```python
0
```
```python
;
}
```
(3)
```python
#include <algorithm>
```
```python
#include <functional>
```
```python
#include <vector>
```
```python
#include <iostream>
```
```python
#include <numeric>
```
```python
#include <iterator>
```
```python
using
```
```python
namespace
```
```python
std
```
```python
;
```
```python
int
```
```python
main()
{
```
```python
int
```
```python
a[] = {
```
```python
1
```
```python
,
```
```python
4
```
```python
,
```
```python
7
```
```python
,
```
```python
2
```
```python
,
```
```python
5
```
```python
,
```
```python
8
```
```python
};
```
```python
int
```
```python
b[] = {
```
```python
1
```
```python
,
```
```python
2
```
```python
,
```
```python
3
```
```python
,
```
```python
3
```
```python
,
```
```python
2
```
```python
,
```
```python
1
```
```python
};
```
```python
const
```
```python
int
```
```python
ASZ =
```
```python
sizeof
```
```python
a /
```
```python
sizeof
```
```python
a[
```
```python
0
```
```python
];
```
```python
const
```
```python
int
```
```python
BSZ =
```
```python
sizeof
```
```python
b /
```
```python
sizeof
```
```python
b[
```
```python
0
```
```python
];
    ostream_iterator<
```
```python
int
```
```python
> out(
```
```python
cout
```
```python
,
```
```python
"  "
```
```python
);
    copy(a, a + ASZ, out);
```
```python
cout
```
```python
<<endl;
    copy(b, b + BSZ, out);
```
```python
cout
```
```python
<<endl;
```
```python
int
```
```python
r = accumulate(a, a + ASZ,
```
```python
0
```
```python
);
```
```python
cout
```
```python
<<
```
```python
"accumulate 1: "
```
```python
<< r << endl;
```
```python
// Should produce the same result:
```
```python
r = accumulate(b, b + BSZ,
```
```python
0
```
```python
, plus<
```
```python
int
```
```python
>());
```
```python
cout
```
```python
<<
```
```python
"accumulate 2: "
```
```python
<< r << endl;
    r = inner_product(a, a + ASZ, b,
```
```python
0
```
```python
);
```
```python
// 或  r = inner_product(a, a + ASZ, b, 0, plus<int>(), multiplies<int>());
```
```python
cout
```
```python
<<
```
```python
"inner_product : "
```
```python
<< r << endl;
```
```python
int
```
```python
* it = partial_sum(a, a + ASZ, b);
```
```python
// 或 int* it = partial_sum(a, a + ASZ, b, plus<int>());
```
```python
copy(b, it, out);
```
```python
cout
```
```python
<<endl;
    it = adjacent_difference(a, a + ASZ, b);
```
```python
// 或 it = adjacent_difference(a, a + ASZ, b, minus<int>());
```
```python
copy(b, it, out);
```
```python
cout
```
```python
<<endl;
```
```python
return
```
```python
0
```
```python
;
}
```
(4)
```python
#include <algorithm>
```
```python
#include <functional>
```
```python
#include <iostream>
```
```python
#include <vector>
```
```python
#include <iterator>
```
```python
using
```
```python
namespace
```
```python
std
```
```python
;
```
```python
class
```
```python
myAdd:
```
```python
public
```
```python
binary_function<
```
```python
int
```
```python
,
```
```python
int
```
```python
,
```
```python
int
```
```python
>
{
```
```python
public
```
```python
:
```
```python
int
```
```python
operator
```
```python
()(
```
```python
int
```
```python
a,
```
```python
int
```
```python
b)
```
```python
const
```
```python
{
```
```python
return
```
```python
a+b;
    }
};
```
```python
int
```
```python
main()
{
```
```python
int
```
```python
a[
```
```python
5
```
```python
]= {
```
```python
1
```
```python
,
```
```python
2
```
```python
,
```
```python
3
```
```python
,
```
```python
4
```
```python
,
```
```python
5
```
```python
};
```
```python
vector
```
```python
<
```
```python
int
```
```python
>
```
```python
my(
```
```python
5
```
```python
);
    transform(a,a+
```
```python
5
```
```python
,my.begin(), bind2nd(myAdd(),
```
```python
4
```
```python
));
    copy(my.begin(), my.end(), ostream_iterator<
```
```python
int
```
```python
>(
```
```python
cout
```
```python
,
```
```python
" "
```
```python
));
```
```python
cout
```
```python
<<endl;
    transform(a,a+
```
```python
5
```
```python
,a,my.begin(), myAdd());
    copy(my.begin(), my.end(), ostream_iterator<
```
```python
int
```
```python
>(
```
```python
cout
```
```python
,
```
```python
" "
```
```python
));
```
```python
cout
```
```python
<<endl;
```
```python
return
```
```python
0
```
```python
;
}
```
(5)
```python
#include <iterator>
```
```python
#include <algorithm>
```
```python
#include <functional>
```
```python
#include <iostream>
```
```python
#include <vector>
```
```python
using
```
```python
namespace
```
```python
std
```
```python
;
```
```python
class
```
```python
Angle
{
```
```python
int
```
```python
degrees;
```
```python
public
```
```python
:
    Angle(
```
```python
int
```
```python
deg) : degrees(deg) {}
```
```python
int
```
```python
mul(
```
```python
int
```
```python
times)
    {
```
```python
return
```
```python
degrees *= times;
    }
};
```
```python
int
```
```python
main()
{
```
```python
int
```
```python
x[] = {
```
```python
1
```
```python
,
```
```python
2
```
```python
,
```
```python
4
```
```python
,
```
```python
5
```
```python
,
```
```python
8
```
```python
};
```
```python
vector
```
```python
<Angle>
```
```python
va;
```
```python
for
```
```python
(
```
```python
int
```
```python
i =
```
```python
10
```
```python
; i <=
```
```python
50
```
```python
; i +=
```
```python
10
```
```python
)
        va.push_back(Angle(i));
    transform(va.begin(), va.end(), x, ostream_iterator<
```
```python
int
```
```python
>(
```
```python
cout
```
```python
,
```
```python
"  "
```
```python
), mem_fun_ref(&Angle::mul));
```
```python
cout
```
```python
<< endl;
```
```python
return
```
```python
0
```
```python
;
}
```
(6)
```python
#include <string>
```
```python
#include <iostream>
```
```python
#include <map>
```
```python
using
```
```python
namespace
```
```python
std
```
```python
;
```
```python
class
```
```python
CStudent
{
```
```python
public
```
```python
:
```
```python
int
```
```python
nStudentID;
```
```python
int
```
```python
nAge;
```
```python
public
```
```python
:
    CStudent()  {  }
    CStudent(
```
```python
int
```
```python
nSID,
```
```python
int
```
```python
nA)
    {
        nStudentID=nSID;
        nAge=nA;
    }
```
```python
//复制构造函数
```
```python
CStudent(
```
```python
const
```
```python
CStudent& ob) 
    {
        nStudentID=ob.nStudentID;
        nAge=ob.nAge;
    }
};
```
```python
int
```
```python
main()
{
```
```python
map
```
```python
<
```
```python
string
```
```python
, CStudent>
```
```python
mapStudent;
    mapStudent[
```
```python
"zhangsan"
```
```python
] = CStudent(
```
```python
100012
```
```python
,
```
```python
22
```
```python
);
    mapStudent[
```
```python
"Lisi"
```
```python
] = CStudent(
```
```python
100085
```
```python
,
```
```python
21
```
```python
);
    mapStudent[
```
```python
"Wangwu"
```
```python
] = CStudent(
```
```python
100093
```
```python
,
```
```python
23
```
```python
);
```
```python
cout
```
```python
<<
```
```python
"The Student number for Lisi  is "
```
```python
<<(mapStudent[
```
```python
"Lisi"
```
```python
].nStudentID) << endl;
```
```python
return
```
```python
0
```
```python
;
}
```

