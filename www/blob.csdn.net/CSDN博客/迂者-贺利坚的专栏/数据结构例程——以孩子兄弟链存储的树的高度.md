
# 数据结构例程——以孩子兄弟链存储的树的高度 - 迂者-贺利坚的专栏 - CSDN博客

2015年10月19日 15:05:40[迂者-贺利坚](https://me.csdn.net/sxhelijian)阅读数：5675


本文是[数据结构基础系列(6)：树和二叉树](http://edu.csdn.net/course/detail/1553)中[第5课时树的存储结构](http://edu.csdn.net/course/detail/1553/24069)的例程。
例: 以孩子-兄弟链作为存储结构，求树的高度
![这里写图片描述](https://img-blog.csdn.net/20151019145655573)
源程序：【说明——函数TreeCreate仅创建了如上图所示的图，不具有通用性。】
```python
#include
```
```python
<
```
```python
stdio
```
```python
.
```
```python
h
```
```python
>
```
```python
#include
```
```python
<
```
```python
malloc
```
```python
.
```
```python
h
```
```python
>
```
```python
typedef char ElemType;
typedef struct tnode
{
    ElemType
```
```python
data
```
```python
;
```
```python
//节点的值
```
```python
struct tnode
```
```python
*
```
```python
hp;
```
```python
//指向兄弟
```
```python
struct tnode
```
```python
*
```
```python
vp;
```
```python
//指向孩子节点
```
```python
} TSBNode;
int TreeHeight(TSBNode
```
```python
*
```
```python
t);
```
```python
void
```
```python
TreeCreate(TSBNode
```
```python
*&
```
```python
t);
```
```python
void
```
```python
TreeDisp(TSBNode
```
```python
*
```
```python
t);
int TreeHeight(TSBNode
```
```python
*
```
```python
t)
{
    TSBNode
```
```python
*
```
```python
p;
    int m,
```
```python
max
```
```python
=
```
```python
0
```
```python
;
```
```python
if
```
```python
(t
```
```python
==
```
```python
NULL
```
```python
)
```
```python
return
```
```python
(
```
```python
0
```
```python
);
```
```python
else
```
```python
if
```
```python
(t
```
```python
->
```
```python
vp
```
```python
==
```
```python
NULL
```
```python
)
```
```python
return
```
```python
(
```
```python
1
```
```python
);
```
```python
else
```
```python
{
```
```python
//求t的子树的最大高度max
```
```python
p
```
```python
=
```
```python
t
```
```python
->
```
```python
vp;
```
```python
while
```
```python
(p
```
```python
!=
```
```python
NULL
```
```python
)
        {
            m
```
```python
=
```
```python
TreeHeight(p);
```
```python
if
```
```python
(
```
```python
max
```
```python
<
```
```python
m)
```
```python
max
```
```python
=
```
```python
m;
            p
```
```python
=
```
```python
p
```
```python
->
```
```python
hp;
        }
```
```python
return
```
```python
(
```
```python
max
```
```python
+
```
```python
1
```
```python
);
    }
}
int main()
{
    TSBNode
```
```python
*
```
```python
tree;
    TreeCreate(tree);
    printf(
```
```python
"Height: %d\n"
```
```python
, TreeHeight(tree));
    TreeDisp(tree);
```
```python
return
```
```python
0
```
```python
;
}
```
```python
void
```
```python
TreeCreate(TSBNode
```
```python
*&
```
```python
t)
{
```
```python
//本例仅建造说明中特定的树，以支持演示
```
```python
TSBNode
```
```python
*
```
```python
a,
```
```python
*
```
```python
b,
```
```python
*
```
```python
c,
```
```python
*
```
```python
d,
```
```python
*
```
```python
e,
```
```python
*
```
```python
f,
```
```python
*
```
```python
g;
    a
```
```python
=
```
```python
(TSBNode
```
```python
*
```
```python
)malloc(sizeof(TSBNode));
    b
```
```python
=
```
```python
(TSBNode
```
```python
*
```
```python
)malloc(sizeof(TSBNode));
    c
```
```python
=
```
```python
(TSBNode
```
```python
*
```
```python
)malloc(sizeof(TSBNode));
    d
```
```python
=
```
```python
(TSBNode
```
```python
*
```
```python
)malloc(sizeof(TSBNode));
    e
```
```python
=
```
```python
(TSBNode
```
```python
*
```
```python
)malloc(sizeof(TSBNode));
    f
```
```python
=
```
```python
(TSBNode
```
```python
*
```
```python
)malloc(sizeof(TSBNode));
    g
```
```python
=
```
```python
(TSBNode
```
```python
*
```
```python
)malloc(sizeof(TSBNode));
    a
```
```python
->
```
```python
data
```
```python
=
```
```python
'a'
```
```python
;
    b
```
```python
->
```
```python
data
```
```python
=
```
```python
'b'
```
```python
;
    c
```
```python
->
```
```python
data
```
```python
=
```
```python
'c'
```
```python
;
    d
```
```python
->
```
```python
data
```
```python
=
```
```python
'd'
```
```python
;
    e
```
```python
->
```
```python
data
```
```python
=
```
```python
'e'
```
```python
;
    f
```
```python
->
```
```python
data
```
```python
=
```
```python
'f'
```
```python
;
    g
```
```python
->
```
```python
data
```
```python
=
```
```python
'g'
```
```python
;
    a
```
```python
->
```
```python
vp
```
```python
=
```
```python
b;
    a
```
```python
->
```
```python
hp
```
```python
=
```
```python
NULL
```
```python
;
    b
```
```python
->
```
```python
vp
```
```python
=
```
```python
d;
    b
```
```python
->
```
```python
hp
```
```python
=
```
```python
c;
    c
```
```python
->
```
```python
vp
```
```python
=
```
```python
NULL
```
```python
;
    c
```
```python
->
```
```python
hp
```
```python
=
```
```python
NULL
```
```python
;
    d
```
```python
->
```
```python
vp
```
```python
=
```
```python
NULL
```
```python
;
    d
```
```python
->
```
```python
hp
```
```python
=
```
```python
e;
    e
```
```python
->
```
```python
vp
```
```python
=
```
```python
g;
    e
```
```python
->
```
```python
hp
```
```python
=
```
```python
f;
    f
```
```python
->
```
```python
vp
```
```python
=
```
```python
NULL
```
```python
;
    f
```
```python
->
```
```python
hp
```
```python
=
```
```python
NULL
```
```python
;
    g
```
```python
->
```
```python
vp
```
```python
=
```
```python
NULL
```
```python
;
    g
```
```python
->
```
```python
hp
```
```python
=
```
```python
NULL
```
```python
;
    t
```
```python
=
```
```python
a;
```
```python
//a作为根
```
```python
return
```
```python
;
}
```
```python
void
```
```python
TreeDisp(TSBNode
```
```python
*
```
```python
t)
{
```
```python
if
```
```python
(t
```
```python
!=
```
```python
NULL
```
```python
)
    {
        printf(
```
```python
"node value: %c\n"
```
```python
, t
```
```python
->
```
```python
data
```
```python
);
        printf(
```
```python
"%c\'s first child --> "
```
```python
, t
```
```python
->
```
```python
data
```
```python
);
        TreeDisp(t
```
```python
->
```
```python
hp);
        printf(
```
```python
"%c\'s brother(its father\'s another child) --> "
```
```python
, t
```
```python
->
```
```python
data
```
```python
);
        TreeDisp(t
```
```python
->
```
```python
vp);
    }
```
```python
else
```
```python
{
        printf(
```
```python
"NULL\n"
```
```python
);
    }
}
```

