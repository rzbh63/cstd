
# Python的字典 - saltriver的专栏 - CSDN博客


2016年12月07日 23:02:24[saltriver](https://me.csdn.net/saltriver)阅读数：533标签：[python																](https://so.csdn.net/so/search/s.do?q=python&t=blog)[字典																](https://so.csdn.net/so/search/s.do?q=字典&t=blog)[dict																](https://so.csdn.net/so/search/s.do?q=dict&t=blog)[
							](https://so.csdn.net/so/search/s.do?q=字典&t=blog)[
																					](https://so.csdn.net/so/search/s.do?q=python&t=blog)个人分类：[Python																](https://blog.csdn.net/saltriver/article/category/6363186)
[
																								](https://so.csdn.net/so/search/s.do?q=python&t=blog)


### 一、基本介绍
在Python中，如果没有列表和字典是不可想象的。字典及其强有力的实现是使Python如此有效和出众的重要原因。本文将展示字典及其使用方法。
字典和列表之间可以相互转换，但字典和列表的不同之处在哪里？首先列表是有序的，而字典是无序的，但核心的不同在于字典是通过键(key)来访问，而列表是通过位置访问。更进一步讲，字典是一种抽象数据类型的实现。字典的每一个键都与一个值相关联。值可以是任意的Python数据类型。此外，字典不支持像位置索引、切片等序列操作方法。
### 二、字典实例
第一个例子是关于美国和加拿大的几个大城市人口的，首先创建一个名为city的字典，字典中包含一些城市以及这些城市包含的人口数量：
```python
>>>
```
```python
city = {
```
```python
"New York City"
```
```python
:
```
```python
8175133
```
```python
,
```
```python
"Los Angeles"
```
```python
:
```
```python
3792621
```
```python
,
```
```python
"Washington"
```
```python
:
```
```python
632323
```
```python
,
```
```python
"Chicago"
```
```python
:
```
```python
2695598
```
```python
,
```
```python
"Toronto"
```
```python
:
```
```python
2615060
```
```python
,
```
```python
"Montreal"
```
```python
:
```
```python
11854442
```
```python
,
```
```python
"Ottawa"
```
```python
:
```
```python
883391
```
```python
,
```
```python
"Boston"
```
```python
:
```
```python
62600
```
```python
}
```
如果我们想得到某个城市的人口数量，我们可以直接用城市的名称进行查询：
```python
>>>
```
```python
city[
```
```python
"New York City"
```
```python
]
```
```python
8175133
```
```python
>>>
```
```python
city[
```
```python
"Toronto"
```
```python
]
```
```python
2615060
```
```python
>>>
```
```python
city[
```
```python
"Boston"
```
```python
]
```
```python
62600
```
如果我们用city中不存在的城市名称作为key访问，则会报错。
```python
>>> city[
```
```python
"Detroit"
```
```python
]
Traceback (most recent call
```
```python
last
```
```python
):
  File
```
```python
"<stdin>"
```
```python
,
```
```python
line
```
```python
1
```
```python
,
```
```python
in
```
```python
KeyError:
```
```python
'Detroit'
```
如果你回看下上面定义的字典city，你可能会觉得字典中的元素是有序的，例如，第一个是”New York City”, 第二个是 “Los Angeles” 等等，但事实上字典是无序的。我们再输出查看下city，得到的顺序可能与原始顺序是不一样的。
```python
>>>
```
```python
city
{
```
```python
'Toronto'
```
```python
:
```
```python
2615060
```
```python
,
```
```python
'Ottawa'
```
```python
:
```
```python
883391
```
```python
,
```
```python
'Los Angeles'
```
```python
:
```
```python
3792621
```
```python
,
```
```python
'Chicago'
```
```python
:
```
```python
2695598
```
```python
,
```
```python
'New York City'
```
```python
:
```
```python
8175133
```
```python
,
```
```python
'Boston'
```
```python
:
```
```python
62600
```
```python
,
```
```python
'Washington'
```
```python
:
```
```python
632323
```
```python
,
```
```python
'Montreal'
```
```python
:
```
```python
11854442
```
```python
}
```
因此，字典不能像列表一样通过一个数字索引来访问元素。
```python
>>>
```
```python
city[
```
```python
0
```
```python
]
Traceback (most recent call last):
  File
```
```python
"<stdin>"
```
```python
, line
```
```python
1
```
```python
,
```
```python
in
```
```python
KeyError:
```
```python
0
```
```python
>>>
```
向字典添加元素很简单，直接赋值即可。
```python
>>>
```
```python
city[
```
```python
"Halifax"
```
```python
] =
```
```python
390096
```
```python
>>>
```
```python
city
{
```
```python
'Toronto'
```
```python
:
```
```python
2615060
```
```python
,
```
```python
'Ottawa'
```
```python
:
```
```python
883391
```
```python
,
```
```python
'Los Angeles'
```
```python
:
```
```python
3792621
```
```python
,
```
```python
'Chicago'
```
```python
:
```
```python
2695598
```
```python
,
```
```python
'New York City'
```
```python
:
```
```python
8175133
```
```python
,
```
```python
'Halifax'
```
```python
:
```
```python
390096
```
```python
,
```
```python
'Boston'
```
```python
:
```
```python
62600
```
```python
,
```
```python
'Washington'
```
```python
:
```
```python
632323
```
```python
,
```
```python
'Montreal'
```
```python
:
```
```python
11854442
```
```python
}
```
因此，通过往一个空字典中递增式添加元素从而获得所需字典的方式是可行的。前面还没有提到如何创建一个空字典。如下是创建一个名字为city的空字典的方式：
```python
>>> city =
```
```python
{}
```
```python
>>> city
```
```python
{}
```
下一个例子是一个简单的英德字典：
```python
en_de =
```
```python
{
```
```python
"red"
```
```python
:
```
```python
"rot"
```
```python
,
```
```python
"green"
```
```python
:
```
```python
"grün"
```
```python
,
```
```python
"blue"
```
```python
:
```
```python
"blau"
```
```python
,
```
```python
"yellow"
```
```python
:
```
```python
"gelb"
```
```python
}
```
```python
print
```
```python
(en_de)
```
```python
print
```
```python
(en_de[
```
```python
"red"
```
```python
])
```
再定义一个德法字典：
```python
de_fr =
```
```python
{
```
```python
"rot"
```
```python
:
```
```python
"rouge"
```
```python
,
```
```python
"grün"
```
```python
:
```
```python
"vert"
```
```python
,
```
```python
"blau"
```
```python
:
```
```python
"bleu"
```
```python
,
```
```python
"gelb"
```
```python
:
```
```python
"jaune"
```
```python
}
```
现在，它可以从英语翻译成法语了。尽管我们没有一个英法字典，但是通过de_fr[en_de[“red”]] 我们能够得到”red”的法文翻译：”rouge”。
```python
en_de = {
```
```python
"red"
```
```python
:
```
```python
"rot"
```
```python
,
```
```python
"green"
```
```python
:
```
```python
"grün"
```
```python
,
```
```python
"blue"
```
```python
:
```
```python
"blau"
```
```python
,
```
```python
"yellow"
```
```python
:
```
```python
"gelb"
```
```python
}
```
```python
print
```
```python
(en_de)
```
```python
print
```
```python
(en_de[
```
```python
"red"
```
```python
])
de_fr = {
```
```python
"rot"
```
```python
:
```
```python
"rouge"
```
```python
,
```
```python
"grün"
```
```python
:
```
```python
"vert"
```
```python
,
```
```python
"blau"
```
```python
:
```
```python
"bleu"
```
```python
,
```
```python
"gelb"
```
```python
:
```
```python
"jaune"
```
```python
}
```
```python
print
```
```python
(
```
```python
"The French word for red is: "
```
```python
+ de_fr[en_de[
```
```python
"red"
```
```python
]])
```
上面代码的输出是：
```python
{
```
```python
'blue'
```
```python
:
```
```python
'blau'
```
```python
,
```
```python
'green'
```
```python
:
```
```python
'grün'
```
```python
,
```
```python
'yellow'
```
```python
:
```
```python
'gelb'
```
```python
,
```
```python
'red'
```
```python
:
```
```python
'rot'
```
```python
}
rot
The French word
```
```python
for
```
```python
red
```
```python
is
```
```python
: rouge
```
在字典中，我们可以用任意类型作为值（value），但是对键（key）是有约束的，只有不可变的类型才能作为键。如果用一个可变类型作为键，将会报错。下面将一个列表作为键（key），因为列表是可变类型，所以报错。
```python
>>> dic = { [
```
```python
1
```
```python
,
```
```python
2
```
```python
,
```
```python
3
```
```python
]
```
```python
:
```
```python
"abc"
```
```python
}
```
```python
Traceback
```
```python
(most recent call last)
```
```python
:
```
```python
File
```
```python
"<stdin>"
```
```python
, line
```
```python
1
```
```python
,
```
```python
in
```
```python
<
```
```python
module
```
```python
>
```
```python
TypeError
```
```python
:
```
```python
list objects are unhashable
```
元组是不可变类型，因此可以作为键（key）：
```python
>>>
```
```python
dic = { (
```
```python
1
```
```python
,
```
```python
2
```
```python
,
```
```python
3
```
```python
):
```
```python
"abc"
```
```python
,
```
```python
3.1415
```
```python
:
```
```python
"abc"
```
```python
}
```
```python
>>>
```
```python
dic
{
```
```python
3.1415
```
```python
:
```
```python
'abc'
```
```python
, (
```
```python
1
```
```python
,
```
```python
2
```
```python
,
```
```python
3
```
```python
):
```
```python
'abc'
```
```python
}
```
我们还可以创建一个包含字典的字典：
```python
en_de =
```
```python
{
```
```python
"red"
```
```python
:
```
```python
"rot"
```
```python
,
```
```python
"green"
```
```python
:
```
```python
"grün"
```
```python
,
```
```python
"blue"
```
```python
:
```
```python
"blau"
```
```python
,
```
```python
"yellow"
```
```python
:
```
```python
"gelb"
```
```python
}
```
```python
de_fr =
```
```python
{
```
```python
"rot"
```
```python
:
```
```python
"rouge"
```
```python
,
```
```python
"grün"
```
```python
:
```
```python
"vert"
```
```python
,
```
```python
"blau"
```
```python
:
```
```python
"bleu"
```
```python
,
```
```python
"gelb"
```
```python
:
```
```python
"jaune"
```
```python
}
```
```python
dictionaries =
```
```python
{
```
```python
"en_de"
```
```python
: en_de,
```
```python
"de_fr"
```
```python
: de_fr }
```
```python
print
```
```python
(dictionaries[
```
```python
"de_fr"
```
```python
][
```
```python
"blau"
```
```python
])
```
输出为：
bleu
### 三、字典操作
例子:
下面是一个拉丁字符与其对应摩尔斯码的字典。
```python
morse = {
```
```python
"A"
```
```python
:
```
```python
".-"
```
```python
,
```
```python
"B"
```
```python
:
```
```python
"-..."
```
```python
,
```
```python
"C"
```
```python
:
```
```python
"-.-."
```
```python
,
```
```python
"D"
```
```python
:
```
```python
"-.."
```
```python
,
```
```python
"E"
```
```python
:
```
```python
"."
```
```python
,
```
```python
"F"
```
```python
:
```
```python
"..-."
```
```python
,
```
```python
"G"
```
```python
:
```
```python
"--."
```
```python
,
```
```python
"H"
```
```python
:
```
```python
"...."
```
```python
,
```
```python
"I"
```
```python
:
```
```python
".."
```
```python
,
```
```python
"J"
```
```python
:
```
```python
".---"
```
```python
,
```
```python
"K"
```
```python
:
```
```python
"-.-"
```
```python
,
```
```python
"L"
```
```python
:
```
```python
".-.."
```
```python
,
```
```python
"M"
```
```python
:
```
```python
"--"
```
```python
,
```
```python
"N"
```
```python
:
```
```python
"-."
```
```python
,
```
```python
"O"
```
```python
:
```
```python
"---"
```
```python
,
```
```python
"P"
```
```python
:
```
```python
".--."
```
```python
,
```
```python
"Q"
```
```python
:
```
```python
"--.-"
```
```python
,
```
```python
"R"
```
```python
:
```
```python
".-."
```
```python
,
```
```python
"S"
```
```python
:
```
```python
"..."
```
```python
,
```
```python
"T"
```
```python
:
```
```python
"-"
```
```python
,
```
```python
"U"
```
```python
:
```
```python
"..-"
```
```python
,
```
```python
"V"
```
```python
:
```
```python
"...-"
```
```python
,
```
```python
"W"
```
```python
:
```
```python
".--"
```
```python
,
```
```python
"X"
```
```python
:
```
```python
"-..-"
```
```python
,
```
```python
"Y"
```
```python
:
```
```python
"-.--"
```
```python
,
```
```python
"Z"
```
```python
:
```
```python
"--.."
```
```python
,
```
```python
"0"
```
```python
:
```
```python
"-----"
```
```python
,
```
```python
"1"
```
```python
:
```
```python
".----"
```
```python
,
```
```python
"2"
```
```python
:
```
```python
"..---"
```
```python
,
```
```python
"3"
```
```python
:
```
```python
"...--"
```
```python
,
```
```python
"4"
```
```python
:
```
```python
"....-"
```
```python
,
```
```python
"5"
```
```python
:
```
```python
"....."
```
```python
,
```
```python
"6"
```
```python
:
```
```python
"-...."
```
```python
,
```
```python
"7"
```
```python
:
```
```python
"--..."
```
```python
,
```
```python
"8"
```
```python
:
```
```python
"---.."
```
```python
,
```
```python
"9"
```
```python
:
```
```python
"----."
```
```python
,
```
```python
"."
```
```python
:
```
```python
".-.-.-"
```
```python
,
```
```python
","
```
```python
:
```
```python
"--..--"
```
```python
}
```
获取字典中包含的拉丁字符数量可以调用len函数：
```python
>>>
```
```python
len(morse)
```
```python
38
```
这个字典仅仅包含大写字母，因此检查小写字母”a”是否在字典中将返回False：
```python
>>>
```
```python
"a"
```
```python
in
```
```python
morse
```
```python
False
```
```python
>>>
```
```python
"A"
```
```python
in
```
```python
morse
```
```python
True
```
```python
>>>
```
```python
"a"
```
```python
not
```
```python
in
```
```python
morse
```
```python
True
```
list可以像栈（stack）一样使用pop()函数弹出一个元素。但是在字典中，因为是无序的并且没有索引，所以pop()函数有着不一样的含义。
如果D表示一个字典，那么D.pop(k)表示从D中移除键为k的元素，该操作的返回值是D[k]。
如果键k在D中不存在，那么将报错。
```python
>>>
```
```python
en_de = {
```
```python
"Austria"
```
```python
:
```
```python
"Vienna"
```
```python
,
```
```python
"Switzerland"
```
```python
:
```
```python
"Bern"
```
```python
,
```
```python
"Germany"
```
```python
:
```
```python
"Berlin"
```
```python
,
```
```python
"Netherlands"
```
```python
:
```
```python
"Amsterdam"
```
```python
}
```
```python
>>>
```
```python
capitals = {
```
```python
"Austria"
```
```python
:
```
```python
"Vienna"
```
```python
,
```
```python
"Germany"
```
```python
:
```
```python
"Berlin"
```
```python
,
```
```python
"Netherlands"
```
```python
:
```
```python
"Amsterdam"
```
```python
}>>> capital = capitals.pop(
```
```python
"Austria"
```
```python
)
```
```python
>>>
```
```python
print(capital)
Vienna
```
```python
>>>
```
```python
print(capitals)
{
```
```python
'Netherlands'
```
```python
:
```
```python
'Amsterdam'
```
```python
,
```
```python
'Germany'
```
```python
:
```
```python
'Berlin'
```
```python
}
```
```python
>>>
```
```python
capital = capitals.pop(
```
```python
"Switzerland"
```
```python
)
Traceback (most recent call last):
  File
```
```python
"<stdin>"
```
```python
, line
```
```python
1
```
```python
,
```
```python
in
```
```python
<module>
KeyError:
```
```python
'Switzerland'
```
如果我们试图在上面的字典capitals中找到瑞士(Switzerland)的首都，由于不存在Switzerland，将报错。为了避免这种错误，我们可以在pop()函数中使用第二个参数作为缺省值。
```python
>>>
```
```python
capital = capitals.pop(
```
```python
"Switzerland"
```
```python
,
```
```python
"Bern"
```
```python
)
```
```python
>>>
```
```python
print(capital)
Bern
```
```python
>>>
```
```python
capital = capitals.pop(
```
```python
"France"
```
```python
,
```
```python
"Paris"
```
```python
)
```
```python
>>>
```
```python
print(capital)
Paris
```
```python
>>>
```
```python
capital = capitals.pop(
```
```python
"Germany"
```
```python
,
```
```python
"München"
```
```python
)
```
```python
>>>
```
```python
print(capital)
Berlin
```
popitem()是字典的另一种方法，不需要任何输入参数，将随机移除字典中任意一个元素，返回值为该移除元素的键值对元组 (key,value)。如果是一个空字典，使用popitem()将报错。
```python
>>>
```
```python
capitals = {
```
```python
"Springfield"
```
```python
:
```
```python
"Illinois"
```
```python
,
```
```python
"Augusta"
```
```python
:
```
```python
"Maine"
```
```python
,
```
```python
"Boston"
```
```python
:
```
```python
"Massachusetts"
```
```python
,
```
```python
"Lansing"
```
```python
:
```
```python
"Michigan"
```
```python
,
```
```python
"Albany"
```
```python
:
```
```python
"New York"
```
```python
,
```
```python
"Olympia"
```
```python
:
```
```python
"Washington"
```
```python
,
```
```python
"Toronto"
```
```python
:
```
```python
"Ontario"
```
```python
}
```
```python
>>>
```
```python
(city, state) = capitals.popitem()
```
```python
>>>
```
```python
(city, state)
(
```
```python
'Olympia'
```
```python
,
```
```python
'Washington'
```
```python
)
```
```python
>>>
```
```python
print(capitals.popitem())
(
```
```python
'Albany'
```
```python
,
```
```python
'New York'
```
```python
)
```
```python
>>>
```
```python
print(capitals.popitem())
(
```
```python
'Boston'
```
```python
,
```
```python
'Massachusetts'
```
```python
)
```
```python
>>>
```
```python
print(capitals.popitem())
(
```
```python
'Lansing'
```
```python
,
```
```python
'Michigan'
```
```python
)
```
```python
>>>
```
```python
print(capitals.popitem())
(
```
```python
'Toronto'
```
```python
,
```
```python
'Ontario'
```
```python
)
```
```python
>>>
```
如果我们访问字典中不存在的键，将得到错误信息：
```python
>>> locations = {
```
```python
"Toronto"
```
```python
:
```
```python
"Ontario"
```
```python
,
```
```python
"Vancouver"
```
```python
:
```
```python
"British Columbia"
```
```python
}
>>> locations[
```
```python
"Ottawa"
```
```python
]
```
```python
Traceback
```
```python
(most recent call last)
```
```python
:
```
```python
File
```
```python
"<stdin>"
```
```python
, line
```
```python
1
```
```python
,
```
```python
in
```
```python
<
```
```python
module
```
```python
>
```
```python
KeyError
```
```python
:
```
```python
'Ottawa'
```
可以通过”in”操作符进行事先检查，从而避免这个问题。
```python
>>>
```
```python
if
```
```python
"Ottawa"
```
```python
in
```
```python
locations: print(locations[
```
```python
"Ottawa"
```
```python
])
```
```python
...
```
```python
>>>
```
```python
if
```
```python
"Toronto"
```
```python
in
```
```python
locations: print(locations[
```
```python
"Toronto"
```
```python
])
```
```python
...
```
```python
Ontario
```
另一种访问方式是通过get()方法，如果键不存在，get()方法不返回错误，而返回的是None。当然也可以设定一个键（key）不存在时缺省的返回值。
```python
>>>
```
```python
proj_language = {
```
```python
"proj1"
```
```python
:
```
```python
"Python"
```
```python
,
```
```python
"proj2"
```
```python
:
```
```python
"Perl"
```
```python
,
```
```python
"proj3"
```
```python
:
```
```python
"Java"
```
```python
}
```
```python
>>>
```
```python
proj_language[
```
```python
"proj1"
```
```python
]
```
```python
'Python'
```
```python
>>>
```
```python
proj_language[
```
```python
"proj4"
```
```python
]
Traceback (most recent call last):
  File
```
```python
"<stdin>"
```
```python
, line
```
```python
1
```
```python
,
```
```python
in
```
```python
KeyError:
```
```python
'proj4'
```
```python
>>>
```
```python
proj_language.get(
```
```python
"proj2"
```
```python
)
```
```python
'Perl'
```
```python
>>>
```
```python
proj_language.get(
```
```python
"proj4"
```
```python
)
```
```python
>>>
```
```python
print(proj_language.get(
```
```python
"proj4"
```
```python
))
```
```python
None
```
```python
>>>
```
```python
# setting a default value:
```
```python
>>>
```
```python
proj_language.get(
```
```python
"proj4"
```
```python
,
```
```python
"Python"
```
```python
)
```
```python
'Python'
```
一个字典可以使用copy()函数进行复制：
```python
>>>
```
```python
w = words.copy()
```
```python
>>>
```
```python
words[
```
```python
"cat"
```
```python
]=
```
```python
"chat"
```
```python
>>>
```
```python
print(w)
{
```
```python
'house'
```
```python
:
```
```python
'Haus'
```
```python
,
```
```python
'cat'
```
```python
:
```
```python
'Katze'
```
```python
}
```
```python
>>>
```
```python
print(words)
{
```
```python
'house'
```
```python
:
```
```python
'Haus'
```
```python
,
```
```python
'cat'
```
```python
:
```
```python
'chat'
```
```python
}
```
这种拷贝是浅拷贝。如果字典中的值是一个复杂的数据类型，例如list。
```python
# -*- coding: utf-8 -*-
```
```python
trainings = {
```
```python
"course1"
```
```python
:{
```
```python
"title"
```
```python
:
```
```python
"Python Training Course for Beginners"
```
```python
,
```
```python
"location"
```
```python
:
```
```python
"Frankfurt"
```
```python
,
```
```python
"trainer"
```
```python
:
```
```python
"Steve G. Snake"
```
```python
},
```
```python
"course2"
```
```python
:{
```
```python
"title"
```
```python
:
```
```python
"Intermediate Python Training"
```
```python
,
```
```python
"location"
```
```python
:
```
```python
"Berlin"
```
```python
,
```
```python
"trainer"
```
```python
:
```
```python
"Ella M. Charming"
```
```python
},
```
```python
"course3"
```
```python
:{
```
```python
"title"
```
```python
:
```
```python
"Python Text Processing Course"
```
```python
,
```
```python
"location"
```
```python
:
```
```python
"München"
```
```python
,
```
```python
"trainer"
```
```python
:
```
```python
"Monica A. Snowdon"
```
```python
}
              }
trainings2 = trainings.copy()
trainings[
```
```python
"course2"
```
```python
][
```
```python
"title"
```
```python
] =
```
```python
"Perl Training Course for Beginners"
```
```python
print
```
```python
(trainings2)
```
检查下输出，我们能看到改变trainings中course2的title值，trainings2中也发生了一样的改变。
```python
{
```
```python
'course2'
```
```python
: {
```
```python
'trainer'
```
```python
:
```
```python
'Ella M. Charming'
```
```python
,
```
```python
'title'
```
```python
:
```
```python
'Perl Training Course for Beginners'
```
```python
,
```
```python
'location'
```
```python
:
```
```python
'Berlin'
```
```python
},
```
```python
'course3'
```
```python
: {
```
```python
'trainer'
```
```python
:
```
```python
'Monica A. Snowdon'
```
```python
,
```
```python
'title'
```
```python
:
```
```python
'Python Text Processing Course'
```
```python
,
```
```python
'location'
```
```python
:
```
```python
'München'
```
```python
},
```
```python
'course1'
```
```python
: {
```
```python
'trainer'
```
```python
:
```
```python
'Steve G. Snake'
```
```python
,
```
```python
'title'
```
```python
:
```
```python
'Python Training Course for Beginners'
```
```python
,
```
```python
'location'
```
```python
:
```
```python
'Frankfurt'
```
```python
}}
```
如果分配了一个新值给一个键，看看发生了什么：
```python
trainings = {
```
```python
"course1"
```
```python
:{
```
```python
"title"
```
```python
:
```
```python
"Python Training Course for Beginners"
```
```python
,
```
```python
"location"
```
```python
:
```
```python
"Frankfurt"
```
```python
,
```
```python
"trainer"
```
```python
:
```
```python
"Steve G. Snake"
```
```python
},
```
```python
"course2"
```
```python
:{
```
```python
"title"
```
```python
:
```
```python
"Intermediate Python Training"
```
```python
,
```
```python
"location"
```
```python
:
```
```python
"Berlin"
```
```python
,
```
```python
"trainer"
```
```python
:
```
```python
"Ella M. Charming"
```
```python
},
```
```python
"course3"
```
```python
:{
```
```python
"title"
```
```python
:
```
```python
"Python Text Processing Course"
```
```python
,
```
```python
"location"
```
```python
:
```
```python
"München"
```
```python
,
```
```python
"trainer"
```
```python
:
```
```python
"Monica A. Snowdon"
```
```python
}
              }
trainings2 = trainings.
```
```python
copy
```
```python
()
trainings[
```
```python
"course2"
```
```python
] = {
```
```python
"title"
```
```python
:
```
```python
"Perl Seminar for Beginners"
```
```python
,
```
```python
"location"
```
```python
:
```
```python
"Ulm"
```
```python
,
```
```python
"trainer"
```
```python
:
```
```python
"James D. Morgan"
```
```python
}
```
```python
print
```
```python
(trainings2[
```
```python
"course2"
```
```python
])
```
输出结果:
```python
{
```
```python
'trainer'
```
```python
:
```
```python
'Ella M. Charming'
```
```python
,
```
```python
'location'
```
```python
:
```
```python
'Berlin'
```
```python
,
```
```python
'title'
```
```python
:
```
```python
'Intermediate Python Training'
```
```python
}
```
检查下输出，我们能看到改变trainings中course2的值，trainings2中course2却没有改变。如果你想了解这种现象产生的原因，可以回顾下前期文章[《Python的浅拷贝和深拷贝》](http://blog.csdn.net/saltriver/article/details/53239415)。
字典可以使用clear()函数清空，执行该方法后，字典本身没有被删除，而是被置为空字典。
```python
>>>
```
```python
w.clear()
```
```python
>>>
```
```python
print(w)
{}
```
能不能将字典合并或归并在一起呢，答案是肯定的。update()函数能够归并2个字典，如果存在相同的键，那么前一个字典该键下的值将被覆盖：
```python
>>>
```
```python
knowledge = {
```
```python
"Frank"
```
```python
: {
```
```python
"Perl"
```
```python
},
```
```python
"Monica"
```
```python
:{
```
```python
"C"
```
```python
,
```
```python
"C++"
```
```python
}}
```
```python
>>>
```
```python
knowledge2 = {
```
```python
"Guido"
```
```python
:{
```
```python
"Python"
```
```python
},
```
```python
"Frank"
```
```python
:{
```
```python
"Perl"
```
```python
,
```
```python
"Python"
```
```python
}}
```
```python
>>>
```
```python
knowledge.update(knowledge2)
```
```python
>>>
```
```python
knowledge
{
```
```python
'Frank'
```
```python
: {
```
```python
'Python'
```
```python
,
```
```python
'Perl'
```
```python
},
```
```python
'Guido'
```
```python
: {
```
```python
'Python'
```
```python
},
```
```python
'Monica'
```
```python
: {
```
```python
'C'
```
```python
,
```
```python
'C++'
```
```python
}}
```
对于字典的键（key）迭代，可以直接使用for循环和”in”操作符：
```python
>>> d = {
```
```python
"a"
```
```python
:
```
```python
123
```
```python
,
```
```python
"b"
```
```python
:
```
```python
34
```
```python
,
```
```python
"c"
```
```python
:
```
```python
304
```
```python
,
```
```python
"d"
```
```python
:
```
```python
99
```
```python
}
>>>
```
```python
for
```
```python
key
```
```python
in
```
```python
d:
```
```python
...
```
```python
print(key)
```
```python
...
```
```python
b
c
a
d
```
当然也可以使用keys()方法，能够得到相同的效果：
```python
>>>
```
```python
for
```
```python
key
```
```python
in
```
```python
d.keys():
```
```python
...
```
```python
print(key)
```
```python
...
```
```python
b
c
a
d
```
values()方法能够方便的对值（value）进行遍历。
```python
>>>
```
```python
for
```
```python
value
```
```python
in
```
```python
d.values():
```
```python
...
```
```python
print(value)
```
```python
...
```
```python
34
```
```python
304
```
```python
123
```
```python
99
```
上面的循环等价于如下的循环：
```python
for
```
```python
key
```
```python
in
```
```python
d:
    print(d[
```
```python
key
```
```python
])
```
但这种没有第一种效率高。如果你熟悉ipyton的timeit使用方法，你可以测试下这两种方法的效率差别：
```python
In [
```
```python
5
```
```python
]: %%timeit  d = {
```
```python
"a"
```
```python
:
```
```python
123
```
```python
,
```
```python
"b"
```
```python
:
```
```python
34
```
```python
,
```
```python
"c"
```
```python
:
```
```python
304
```
```python
,
```
```python
"d"
```
```python
:
```
```python
99
```
```python
}
```
```python
for
```
```python
key
```
```python
in
```
```python
d.keys():
    x=d[key]
```
```python
...
```
```python
:
```
```python
1000000
```
```python
loops, best of
```
```python
3
```
```python
:
```
```python
225
```
```python
ns per loop
In [
```
```python
6
```
```python
]: %%timeit  d = {
```
```python
"a"
```
```python
:
```
```python
123
```
```python
,
```
```python
"b"
```
```python
:
```
```python
34
```
```python
,
```
```python
"c"
```
```python
:
```
```python
304
```
```python
,
```
```python
"d"
```
```python
:
```
```python
99
```
```python
}
```
```python
for
```
```python
value
```
```python
in
```
```python
d.values():
    x=value
```
```python
...
```
```python
:
```
```python
10000000
```
```python
loops, best of
```
```python
3
```
```python
:
```
```python
164
```
```python
ns per loop
```
### 四、列表和字典的相互转换
list转换成dict，或者dict转换成list是使用python时经常会遇到的情况。我们可以通过dict的item()、keys()和values()方法来创建list。
```python
>>>
```
```python
w = {
```
```python
"house"
```
```python
:
```
```python
"Haus"
```
```python
,
```
```python
"cat"
```
```python
:
```
```python
""
```
```python
,
```
```python
"red"
```
```python
:
```
```python
"rot"
```
```python
}
```
```python
>>>
```
```python
items_view = w.items()
```
```python
>>>
```
```python
items = list(items_view)
```
```python
>>>
```
```python
items
[(
```
```python
'house'
```
```python
,
```
```python
'Haus'
```
```python
), (
```
```python
'cat'
```
```python
,
```
```python
''
```
```python
), (
```
```python
'red'
```
```python
,
```
```python
'rot'
```
```python
)]
```
```python
>>>
```
```python
>>>
```
```python
keys_view = w.keys()
```
```python
>>>
```
```python
keys = list(keys_view)
```
```python
>>>
```
```python
keys
[
```
```python
'house'
```
```python
,
```
```python
'cat'
```
```python
,
```
```python
'red'
```
```python
]
```
```python
>>>
```
```python
>>>
```
```python
values_view = w.values()
```
```python
>>>
```
```python
values = list(values_view)
```
```python
>>>
```
```python
values
[
```
```python
'Haus'
```
```python
,
```
```python
''
```
```python
,
```
```python
'rot'
```
```python
]
```
```python
>>>
```
```python
values_view
dict_values([
```
```python
'Haus'
```
```python
,
```
```python
''
```
```python
,
```
```python
'rot'
```
```python
])
```
```python
>>>
```
```python
items_view
dict_items([(
```
```python
'house'
```
```python
,
```
```python
'Haus'
```
```python
), (
```
```python
'cat'
```
```python
,
```
```python
''
```
```python
), (
```
```python
'red'
```
```python
,
```
```python
'rot'
```
```python
)])
```
```python
>>>
```
```python
keys_view
dict_keys([
```
```python
'house'
```
```python
,
```
```python
'cat'
```
```python
,
```
```python
'red'
```
```python
])
```
下面再看看列表如何转换成字典。我们有两个列表，一个包含各种美食，一个是与这些美食相对应的国家。
```python
>>>
```
```python
dishes = [
```
```python
"pizza"
```
```python
,
```
```python
"sauerkraut"
```
```python
,
```
```python
"paella"
```
```python
,
```
```python
"hamburger"
```
```python
]
```
```python
>>>
```
```python
countries = [
```
```python
"Italy"
```
```python
,
```
```python
"Germany"
```
```python
,
```
```python
"Spain"
```
```python
,
```
```python
"USA"
```
```python
]
```
现在我们创建一个字典，将国家作为key，将该国家对应的美食作为value。首先构建一个新列表，这里我们使用了zip函数。
```python
>>>
```
```python
country_specialities = list(zip(countries, dishes))
```
```python
>>>
```
```python
print(country_specialities)
[(
```
```python
'Italy'
```
```python
,
```
```python
'pizza'
```
```python
), (
```
```python
'Germany'
```
```python
,
```
```python
'sauerkraut'
```
```python
), (
```
```python
'Spain'
```
```python
,
```
```python
'paella'
```
```python
), (
```
```python
'USA'
```
```python
,
```
```python
'hamburger'
```
```python
)]
```
然后通过dict()方法将列表转换成字典。
```python
>>>
```
```python
country_specialities_dict = dict(country_specialities)
```
```python
>>>
```
```python
print(country_specialities_dict)
{
```
```python
'Germany'
```
```python
:
```
```python
'sauerkraut'
```
```python
,
```
```python
'Italy'
```
```python
:
```
```python
'pizza'
```
```python
,
```
```python
'USA'
```
```python
:
```
```python
'hamburger'
```
```python
,
```
```python
'Spain'
```
```python
:
```
```python
'paella'
```
```python
}
```
这里关于zip函数仍然有一个问题，如果两个列表的长度不一致，会发生什么？其实很容易回答：多余的，没有可配对的元素将被忽略。
```python
>>>
```
```python
dishes = [
```
```python
"pizza"
```
```python
,
```
```python
"sauerkraut"
```
```python
,
```
```python
"paella"
```
```python
,
```
```python
"hamburger"
```
```python
]
```
```python
>>>
```
```python
countries = [
```
```python
"Italy"
```
```python
,
```
```python
"Germany"
```
```python
,
```
```python
"Spain"
```
```python
,
```
```python
"USA"
```
```python
,
```
```python
" Switzerland"
```
```python
]
```
```python
>>>
```
```python
country_specialities = list(zip(countries, dishes))
```
```python
>>>
```
```python
country_specialities_dict = dict(country_specialities)
```
```python
>>>
```
```python
print(country_specialities_dict)
{
```
```python
'Germany'
```
```python
:
```
```python
'sauerkraut'
```
```python
,
```
```python
'Italy'
```
```python
:
```
```python
'pizza'
```
```python
,
```
```python
'USA'
```
```python
:
```
```python
'hamburger'
```
```python
,
```
```python
'Spain'
```
```python
:
```
```python
'paella'
```
```python
}
```
参考文献：[http://www.python-course.eu/python3_dictionaries.php](http://www.python-course.eu/python3_dictionaries.php)

