
# C++实践参考解答：我的数组类 - 迂者-贺利坚的专栏 - CSDN博客

2016年04月22日 07:26:37[迂者-贺利坚](https://me.csdn.net/sxhelijian)阅读数：2233


【项目-我的数组类】
阅读程序，请完成成员函数的定义，因为存在指针型的数据成员，注意需要深复制的构造函数。
```python
#include<iostream>
```
```python
using
```
```python
namespace
```
```python
std
```
```python
;
```
```python
class
```
```python
MyArray
{
```
```python
private
```
```python
:
```
```python
int
```
```python
*arrayAddr;
```
```python
//保存一个有len个整型元素的数组的首地址
```
```python
int
```
```python
len;
```
```python
//记录动态数组的长度
```
```python
int
```
```python
max;
```
```python
//动态数组中的最大值（并非动态数组中必须要的数据成员）
```
```python
public
```
```python
:
    MyArray(
```
```python
int
```
```python
*a,
```
```python
int
```
```python
n);
    ~MyArray();
```
```python
int
```
```python
getValue(
```
```python
int
```
```python
i);
```
```python
//获得数组中下标为i的元素的值
```
```python
int
```
```python
getLen();
```
```python
//返回数组长度
```
```python
int
```
```python
getMax( );
```
```python
//返回数组中的最大值
```
```python
};
```
```python
//写出各成员函数的定义
```
```python
int
```
```python
main(){
```
```python
int
```
```python
b[
```
```python
10
```
```python
]= {
```
```python
75
```
```python
,
```
```python
99
```
```python
,
```
```python
90
```
```python
,
```
```python
93
```
```python
,
```
```python
38
```
```python
,
```
```python
15
```
```python
,
```
```python
5
```
```python
,
```
```python
7
```
```python
,
```
```python
52
```
```python
,
```
```python
4
```
```python
};
    MyArray r1(b,
```
```python
10
```
```python
);
```
```python
cout
```
```python
<<
```
```python
"最大值："
```
```python
<<r1.getMax()<<endl;
```
```python
int
```
```python
c[
```
```python
15
```
```python
] = {
```
```python
18
```
```python
,
```
```python
68
```
```python
,
```
```python
10
```
```python
,
```
```python
52
```
```python
,
```
```python
3
```
```python
,
```
```python
19
```
```python
,
```
```python
12
```
```python
,
```
```python
100
```
```python
,
```
```python
56
```
```python
,
```
```python
96
```
```python
,
```
```python
95
```
```python
,
```
```python
97
```
```python
,
```
```python
1
```
```python
,
```
```python
4
```
```python
,
```
```python
93
```
```python
};
    MyArray r2(c,
```
```python
15
```
```python
);
```
```python
int
```
```python
i,s=
```
```python
0
```
```python
;
```
```python
for
```
```python
(i=
```
```python
0
```
```python
; i<r2.getLen(); i++)
        s+=r2.getValue(i);
```
```python
cout
```
```python
<<
```
```python
"所有元素的和为："
```
```python
<<s<<endl;
```
```python
return
```
```python
0
```
```python
;
}
```
参考解答：
```python
#include<iostream>
```
```python
using
```
```python
namespace
```
```python
std
```
```python
;
```
```python
class
```
```python
MyArray
{
```
```python
private
```
```python
:
```
```python
int
```
```python
*arrayAddr;
```
```python
//保存一个有len个整型元素的数组的首地址
```
```python
int
```
```python
len;
```
```python
//记录动态数组的长度
```
```python
int
```
```python
max;
```
```python
//动态数组中的最大值（并非动态数组中必须要的数据成员）
```
```python
public
```
```python
:
    MyArray(
```
```python
int
```
```python
*a,
```
```python
int
```
```python
n);
    ~MyArray();
```
```python
int
```
```python
getValue(
```
```python
int
```
```python
i);
```
```python
//获得数组中下标为i的元素的值
```
```python
int
```
```python
getLen();
```
```python
//返回数组长度
```
```python
int
```
```python
getMax( );
```
```python
//返回数组中的最大值
```
```python
};
```
```python
//定义构造函数，构造函数要完成下面三个任务：
```
```python
//（1）为各成员函数赋值，其中arrayAddr应该是为保存数据新分配的连续空间的首地址；
```
```python
//（2）将a指向的数组中的数值，逐个地复制到新分配的空间中
```
```python
//（3）getMax( )函数采取的策略是直接返回max，计算max的工作，由构造函数完成
```
```python
MyArray::MyArray(
```
```python
int
```
```python
*a,
```
```python
int
```
```python
n)
{
    len=n;
    arrayAddr=
```
```python
new
```
```python
int
```
```python
[n];
    max=a[
```
```python
0
```
```python
];
```
```python
for
```
```python
(
```
```python
int
```
```python
i=
```
```python
0
```
```python
; i<n; i++)
    {
        arrayAddr[i]=a[i];
```
```python
if
```
```python
(max<a[i]) max=a[i];
    }
}
```
```python
//析构函数的类外定义，释放指针型数据a所指向的空间
```
```python
MyArray::~MyArray()
{
```
```python
delete
```
```python
[] arrayAddr;
}
```
```python
int
```
```python
MyArray::getValue(
```
```python
int
```
```python
i)
```
```python
//获得数组中下标为i的元素的值
```
```python
{
```
```python
return
```
```python
arrayAddr[i];
}
```
```python
int
```
```python
MyArray::getLen()
```
```python
//返回数组长度
```
```python
{
```
```python
return
```
```python
len;
}
```
```python
int
```
```python
MyArray::getMax( )
```
```python
//返回数组中的最大值
```
```python
{
```
```python
return
```
```python
max;
}
```
```python
int
```
```python
main()
{
```
```python
int
```
```python
b[
```
```python
10
```
```python
]= {
```
```python
75
```
```python
,
```
```python
99
```
```python
,
```
```python
90
```
```python
,
```
```python
93
```
```python
,
```
```python
38
```
```python
,
```
```python
15
```
```python
,
```
```python
5
```
```python
,
```
```python
7
```
```python
,
```
```python
52
```
```python
,
```
```python
4
```
```python
};
    MyArray r1(b,
```
```python
10
```
```python
);
```
```python
cout
```
```python
<<
```
```python
"最大值："
```
```python
<<r1.getMax()<<endl;
```
```python
int
```
```python
c[
```
```python
15
```
```python
] = {
```
```python
18
```
```python
,
```
```python
68
```
```python
,
```
```python
10
```
```python
,
```
```python
52
```
```python
,
```
```python
3
```
```python
,
```
```python
19
```
```python
,
```
```python
12
```
```python
,
```
```python
100
```
```python
,
```
```python
56
```
```python
,
```
```python
96
```
```python
,
```
```python
95
```
```python
,
```
```python
97
```
```python
,
```
```python
1
```
```python
,
```
```python
4
```
```python
,
```
```python
93
```
```python
};
    MyArray r2(c,
```
```python
15
```
```python
);
```
```python
int
```
```python
i,s=
```
```python
0
```
```python
;
```
```python
for
```
```python
(i=
```
```python
0
```
```python
; i<r2.getLen(); i++)
        s+=r2.getValue(i);
```
```python
cout
```
```python
<<
```
```python
"所有元素的和为："
```
```python
<<s<<endl;
```
```python
return
```
```python
0
```
```python
;
}
```

