
# 数据结构示例——堆排序过程 - 迂者-贺利坚的专栏 - CSDN博客

2015年12月14日 15:43:15[迂者-贺利坚](https://me.csdn.net/sxhelijian)阅读数：16139标签：[数据结构																](https://so.csdn.net/so/search/s.do?q=数据结构&t=blog)[堆排序																](https://so.csdn.net/so/search/s.do?q=堆排序&t=blog)[算法																](https://so.csdn.net/so/search/s.do?q=算法&t=blog)[
							](https://so.csdn.net/so/search/s.do?q=堆排序&t=blog)[
																					](https://so.csdn.net/so/search/s.do?q=数据结构&t=blog)个人分类：[数据结构																](https://blog.csdn.net/sxhelijian/article/category/5757113)
[
																								](https://so.csdn.net/so/search/s.do?q=数据结构&t=blog)


完整算法见[[例程](http://blog.csdn.net/sxhelijian/article/details/50118439)]，本文用一个例子，演示堆排序的过程。
例：对{57, 40, 38, 11, 13, 34, 48, 75, 6, 19, 9, 7}进行堆排序的过程。
算法如下:
```python
void
```
```python
HeapSort(RecType R[],
```
```python
int
```
```python
n)
{
```
```python
int
```
```python
i;
    RecType temp;
```
```python
//（1）循环建立初始堆
```
```python
for
```
```python
(i=n/
```
```python
2
```
```python
; i>=
```
```python
1
```
```python
; i--) 
        sift(R,i,n);
```
```python
//(2)进行n-1次循环,完成推排序
```
```python
for
```
```python
(i=n; i>=
```
```python
2
```
```python
; i--) 
    {
        temp=R[
```
```python
1
```
```python
];
```
```python
//将第一个元素同当前区间内R[1]对换
```
```python
R[
```
```python
1
```
```python
]=R[i];
        R[i]=temp;
        sift(R,
```
```python
1
```
```python
,i-
```
```python
1
```
```python
);
```
```python
//筛选R[1]结点,得到i-1个结点的堆
```
```python
}
}
```
（1）循环建立初始堆
```python
for
```
```python
(
```
```python
i
```
```python
=n/
```
```python
2
```
```python
;
```
```python
i
```
```python
>=
```
```python
1
```
```python
;
```
```python
i
```
```python
--) 
        sift(R,
```
```python
i
```
```python
,n);
```
用给出的序列构造堆的初始状态如下：
![这里写图片描述](https://img-blog.csdn.net/20151214150700559)[ ](https://img-blog.csdn.net/20151214150700559)
在此基础上，根据上述代码，从最后一个分支节点开始调整，目标是得到大根堆。过程如下图：
![这里写图片描述](https://img-blog.csdn.net/20151214151444514)[ ](https://img-blog.csdn.net/20151214151444514)
这个堆的存储结构是：
![这里写图片描述](https://img-blog.csdn.net/20151214152038974)
(2)进行n-1次循环,完成推排序
```python
for
```
```python
(
```
```python
i
```
```python
=n;
```
```python
i
```
```python
>=
```
```python
2
```
```python
;
```
```python
i
```
```python
--)
```
```python
{
        temp=R[
```
```python
1
```
```python
];       //最大值交换到最后
        R[
```
```python
1
```
```python
]=R[i];
        R[i]=temp;
        sift(R,
```
```python
1
```
```python
,i-
```
```python
1
```
```python
);   //前面的无序区调整为堆
    }
```
过程图示如下：
![这里写图片描述](https://img-blog.csdn.net/20151214154222367)[ ](https://img-blog.csdn.net/20151214154222367)
请继续补充画完。
[            ](https://img-blog.csdn.net/20151214154222367)

