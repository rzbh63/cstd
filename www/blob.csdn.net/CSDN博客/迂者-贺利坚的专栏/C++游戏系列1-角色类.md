
# C++游戏系列1-角色类 - 迂者-贺利坚的专栏 - CSDN博客

2016年03月27日 20:23:55[迂者-贺利坚](https://me.csdn.net/sxhelijian)阅读数：5199标签：[游戏																](https://so.csdn.net/so/search/s.do?q=游戏&t=blog)[设计																](https://so.csdn.net/so/search/s.do?q=设计&t=blog)[
							](https://so.csdn.net/so/search/s.do?q=游戏&t=blog)个人分类：[C++																](https://blog.csdn.net/sxhelijian/article/category/908261)



**更多见：****[C++游戏系列目录](http://blog.csdn.net/sxhelijian/article/details/51148381)**
知识点：
1、类的定义、对象
2、构造函数、析构函数
### 【项目-游戏中的角色类】
（1）基于下面设计的游戏中角色类，补充完整需要的成员函数，使角色能一定的规则行动或改变状态。下面代码中包含的是最基本的要求，可以根据你的设计进行扩充。
```python
class
```
```python
Role
```
```python
{
```
```python
public
```
```python
:
    ……
```
```python
private
```
```python
:
```
```python
string
```
```python
name;
```
```python
int
```
```python
blood;
```
```python
bool
```
```python
life;
};
```
```python
int
```
```python
main( )
{
    Role mary;
    mary.setRole(
```
```python
"Mary"
```
```python
,
```
```python
4
```
```python
);
    mary.show();
    mary.attack();
    mary.eat(
```
```python
2
```
```python
);
    mary.beAttack();
    mary.beAttack();
    mary.show();
```
```python
return
```
```python
0
```
```python
;
}
```
[参考解答]
```python
#include <iostream>
```
```python
using
```
```python
namespace
```
```python
std
```
```python
;
```
```python
class
```
```python
Role
{
```
```python
public
```
```python
:
```
```python
void
```
```python
eat(
```
```python
int
```
```python
d);
```
```python
//吃东西，涨d血
```
```python
void
```
```python
attack();
```
```python
//攻击别人，涨1血
```
```python
void
```
```python
beAttack();
```
```python
//被攻击，失1血，血为0死掉
```
```python
bool
```
```python
isAlived();
```
```python
//是否活着
```
```python
void
```
```python
setRole(
```
```python
string
```
```python
nam,
```
```python
int
```
```python
b);
```
```python
//设置
```
```python
void
```
```python
show();
```
```python
//显示
```
```python
private
```
```python
:
```
```python
string
```
```python
name;
```
```python
int
```
```python
blood;
```
```python
bool
```
```python
life;
};
```
```python
void
```
```python
Role::eat(
```
```python
int
```
```python
d)
```
```python
//吃东西，涨d血
```
```python
{
```
```python
if
```
```python
(isAlived())
        blood+=d;
}
```
```python
void
```
```python
Role::attack()
```
```python
//攻击别人，涨1血
```
```python
{
```
```python
if
```
```python
(isAlived())
        blood++;
}
```
```python
void
```
```python
Role::beAttack()
```
```python
//被攻击，失1血，血为0死掉
```
```python
{
```
```python
if
```
```python
(isAlived())
        blood--;
```
```python
if
```
```python
(blood==
```
```python
0
```
```python
)
        life=
```
```python
false
```
```python
;
}
```
```python
bool
```
```python
Role::isAlived()
```
```python
//是否活着
```
```python
{
```
```python
return
```
```python
life;
}
```
```python
void
```
```python
Role::setRole(
```
```python
string
```
```python
nam,
```
```python
int
```
```python
b)
```
```python
//设置
```
```python
{
    name=nam;
    blood=b;
```
```python
if
```
```python
(blood>
```
```python
0
```
```python
)
        life=
```
```python
true
```
```python
;
```
```python
else
```
```python
life=
```
```python
false
```
```python
;
}
```
```python
void
```
```python
Role::show()
```
```python
//显示
```
```python
{
```
```python
cout
```
```python
<<name<<
```
```python
" has "
```
```python
<<blood<<
```
```python
" blood, it is "
```
```python
;
```
```python
if
```
```python
(isAlived())
```
```python
cout
```
```python
<<
```
```python
"alived."
```
```python
;
```
```python
else
```
```python
cout
```
```python
<<
```
```python
"dead."
```
```python
;
```
```python
cout
```
```python
<<endl;
}
```
```python
int
```
```python
main( )
{
    Role mary;
    mary.setRole(
```
```python
"Mary"
```
```python
,
```
```python
4
```
```python
);
    mary.show();
    mary.attack();
    mary.eat(
```
```python
2
```
```python
);
    mary.beAttack();
    mary.beAttack();
    mary.show();
```
```python
return
```
```python
0
```
```python
;
}
```
（2）设计构造函数，使角色对象在创建时被初始化；设计析构函数，当角色对象被撤消时，提示一句“XXX（名称）退出江湖…”。可以用下面的代码进行测试，运行结果参考右图：
```python
int
```
```python
main( )
```
```python
{
    Role
```
```python
mary(
```
```python
"Mary"
```
```python
,
```
```python
4
```
```python
)
```
```python
;
    Role
```
```python
jack(
```
```python
"Jack"
```
```python
,
```
```python
0
```
```python
)
```
```python
;
    mary
```
```python
.show
```
```python
();
    jack
```
```python
.show
```
```python
();
    return 0;
}
```
[参考解答]
```python
#include <iostream>
```
```python
using
```
```python
namespace
```
```python
std
```
```python
;
```
```python
class
```
```python
Role
{
```
```python
public
```
```python
:
    Role(
```
```python
string
```
```python
nam,
```
```python
int
```
```python
b);
```
```python
//构造函数
```
```python
~Role();
```
```python
//析构函数
```
```python
void
```
```python
eat(
```
```python
int
```
```python
d);
```
```python
//吃东西，涨d血
```
```python
void
```
```python
attack();
```
```python
//攻击别人，涨1血
```
```python
void
```
```python
beAttack();
```
```python
//被攻击，失1血，血为0死掉
```
```python
bool
```
```python
isAlived();
```
```python
//是否活着
```
```python
void
```
```python
show();
```
```python
//显示
```
```python
private
```
```python
:
```
```python
string
```
```python
name;
```
```python
int
```
```python
blood;
```
```python
bool
```
```python
life;
};
Role::Role(
```
```python
string
```
```python
nam,
```
```python
int
```
```python
b)
{
    name=nam;
    blood=b;
```
```python
if
```
```python
(blood>
```
```python
0
```
```python
)
        life=
```
```python
true
```
```python
;
```
```python
else
```
```python
life=
```
```python
false
```
```python
;
}
Role::~Role()
{
```
```python
cout
```
```python
<<name<<
```
```python
"退出江湖..."
```
```python
<<endl;
}
```
```python
void
```
```python
Role::eat(
```
```python
int
```
```python
d)
```
```python
//吃东西，涨d血
```
```python
{
```
```python
if
```
```python
(isAlived())
        blood+=d;
}
```
```python
void
```
```python
Role::attack()
```
```python
//攻击别人，涨1血
```
```python
{
```
```python
if
```
```python
(isAlived())
        blood++;
}
```
```python
void
```
```python
Role::beAttack()
```
```python
//被攻击，失1血，血为0死掉
```
```python
{
```
```python
if
```
```python
(isAlived())
        blood--;
```
```python
if
```
```python
(blood==
```
```python
0
```
```python
)
        life=
```
```python
false
```
```python
;
}
```
```python
bool
```
```python
Role::isAlived()
```
```python
//是否活着
```
```python
{
```
```python
return
```
```python
life;
}
```
```python
void
```
```python
Role::show()
```
```python
//显示
```
```python
{
```
```python
cout
```
```python
<<name<<
```
```python
" has "
```
```python
<<blood<<
```
```python
" blood, it is "
```
```python
;
```
```python
if
```
```python
(isAlived())
```
```python
cout
```
```python
<<
```
```python
"alived."
```
```python
;
```
```python
else
```
```python
cout
```
```python
<<
```
```python
"dead."
```
```python
;
```
```python
cout
```
```python
<<endl;
}
```
```python
int
```
```python
main( )
{
    Role mary(
```
```python
"Mary"
```
```python
,
```
```python
4
```
```python
);
    Role jack(
```
```python
"Jack"
```
```python
,
```
```python
0
```
```python
);
    mary.show();
    jack.show();
```
```python
return
```
```python
0
```
```python
;
}
```

