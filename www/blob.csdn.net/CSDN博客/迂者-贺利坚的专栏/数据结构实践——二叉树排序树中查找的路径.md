
# 数据结构实践——二叉树排序树中查找的路径 - 迂者-贺利坚的专栏 - CSDN博客

2015年11月23日 14:43:42[迂者-贺利坚](https://me.csdn.net/sxhelijian)阅读数：3740


本文是[[数据结构基础系列(8)：查找](http://edu.csdn.net/course/detail/1669)]中的实践项目参考。
【项目 - 二叉树排序树中查找的路径】
设计一个算法，输出在二叉排序中查找时查找某个关键字经过的路径。
[参考解答]
专为本项目设计的算法体现在函数int SearchBST(…)和void SearchResult()中。
```python
#include <stdio.h>
```
```python
#include <malloc.h>
```
```python
#define MaxSize 100
```
```python
typedef
```
```python
int
```
```python
KeyType;
```
```python
//定义关键字类型
```
```python
typedef
```
```python
char
```
```python
InfoType;
```
```python
typedef
```
```python
struct
```
```python
node
```
```python
//记录类型
```
```python
{
    KeyType key;
```
```python
//关键字项
```
```python
InfoType data;
```
```python
//其他数据域
```
```python
struct
```
```python
node *lchild,*rchild;
```
```python
//左右孩子指针
```
```python
} BSTNode;
```
```python
int
```
```python
path[MaxSize];
```
```python
//全局变量,用于存放路径
```
```python
void
```
```python
DispBST(BSTNode *b);
```
```python
//函数说明
```
```python
int
```
```python
InsertBST(BSTNode *&p,KeyType k)
```
```python
//在以*p为根节点的BST中插入一个关键字为k的节点
```
```python
{
```
```python
if
```
```python
(p==NULL)
```
```python
//原树为空, 新插入的记录为根节点
```
```python
{
        p=(BSTNode *)
```
```python
malloc
```
```python
(
```
```python
sizeof
```
```python
(BSTNode));
        p->key=k;
        p->lchild=p->rchild=NULL;
```
```python
return
```
```python
1
```
```python
;
    }
```
```python
else
```
```python
if
```
```python
(k==p->key)
```
```python
return
```
```python
0
```
```python
;
```
```python
else
```
```python
if
```
```python
(k<p->key)
```
```python
return
```
```python
InsertBST(p->lchild,k);
```
```python
//插入到*p的左子树中
```
```python
else
```
```python
return
```
```python
InsertBST(p->rchild,k);
```
```python
//插入到*p的右子树中
```
```python
}
BSTNode *CreatBST(KeyType A[],
```
```python
int
```
```python
n)
```
```python
//由数组A中的关键字建立一棵二叉排序树
```
```python
{
    BSTNode *bt=NULL;
```
```python
//初始时bt为空树
```
```python
int
```
```python
i=
```
```python
0
```
```python
;
```
```python
while
```
```python
(i<n)
        InsertBST(bt,A[i++]);
```
```python
//将A[i]插入二叉排序树T中
```
```python
return
```
```python
bt;
```
```python
//返回建立的二叉排序树的根指针
```
```python
}
```
```python
//在二叉排序树中查找，记经过的节点记录在path中，返回值为最后查找节点在path中存储的下标
```
```python
int
```
```python
SearchBST(BSTNode *bt,KeyType k,KeyType path[],
```
```python
int
```
```python
i)
{
```
```python
if
```
```python
(bt==NULL)
```
```python
return
```
```python
i;
```
```python
else
```
```python
if
```
```python
(k==bt->key)
```
```python
//找到了节点
```
```python
{
        path[i+
```
```python
1
```
```python
]=bt->key;
```
```python
//输出其路径
```
```python
return
```
```python
i+
```
```python
1
```
```python
;
    }
```
```python
else
```
```python
{
        path[i+
```
```python
1
```
```python
]=bt->key;
```
```python
if
```
```python
(k<bt->key)
            SearchBST(bt->lchild,k,path,i+
```
```python
1
```
```python
);
```
```python
//在左子树中递归查找
```
```python
else
```
```python
SearchBST(bt->rchild,k,path,i+
```
```python
1
```
```python
);
```
```python
//在右子树中递归查找
```
```python
}
}
```
```python
//查找并显示经过的路径
```
```python
void
```
```python
SearchResult(BSTNode *bt,
```
```python
int
```
```python
k1)
{
```
```python
int
```
```python
r, j;
    r = SearchBST(bt,k1,path,-
```
```python
1
```
```python
);
```
```python
for
```
```python
(j=
```
```python
0
```
```python
; j<=r; j++)
```
```python
printf
```
```python
(
```
```python
"%3d"
```
```python
,path[j]);
```
```python
printf
```
```python
(
```
```python
"\n"
```
```python
);
}
```
```python
void
```
```python
DispBST(BSTNode *bt)
```
```python
//以括号表示法输出二叉排序树bt
```
```python
{
```
```python
if
```
```python
(bt!=NULL)
    {
```
```python
printf
```
```python
(
```
```python
"%d"
```
```python
,bt->key);
```
```python
if
```
```python
(bt->lchild!=NULL || bt->rchild!=NULL)
        {
```
```python
printf
```
```python
(
```
```python
"("
```
```python
);
            DispBST(bt->lchild);
```
```python
if
```
```python
(bt->rchild!=NULL)
```
```python
printf
```
```python
(
```
```python
","
```
```python
);
            DispBST(bt->rchild);
```
```python
printf
```
```python
(
```
```python
")"
```
```python
);
        }
    }
}
```
```python
int
```
```python
main()
{
    BSTNode *bt;
    KeyType k1=
```
```python
65
```
```python
, k2=
```
```python
32
```
```python
;
```
```python
int
```
```python
a[]= {
```
```python
43
```
```python
,
```
```python
91
```
```python
,
```
```python
10
```
```python
,
```
```python
18
```
```python
,
```
```python
82
```
```python
,
```
```python
65
```
```python
,
```
```python
33
```
```python
,
```
```python
59
```
```python
,
```
```python
27
```
```python
,
```
```python
73
```
```python
},n=
```
```python
10
```
```python
;
```
```python
printf
```
```python
(
```
```python
"创建的BST树:"
```
```python
);
    bt=CreatBST(a,n);
    DispBST(bt);
```
```python
printf
```
```python
(
```
```python
"\n"
```
```python
);
```
```python
printf
```
```python
(
```
```python
"  查找%d关键字:"
```
```python
,k1);
    SearchResult(bt,k1);
```
```python
printf
```
```python
(
```
```python
"  查找%d关键字:"
```
```python
,k2);
    SearchResult(bt,k2);
```
```python
return
```
```python
0
```
```python
;
}
```

