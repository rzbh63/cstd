
# 9.8 文件与对象 -  芝麻软件工作室的专栏 - CSDN博客


2016年06月15日 08:56:44[seven-soft](https://me.csdn.net/softn)阅读数：165个人分类：[C++																](https://blog.csdn.net/softn/article/category/6266511)



规范化操作：在面向对象的程序设计中，信息总是放在对象的数据成员里。这些信息最终应该保存到文件中。当程序开始运行时要由打开的文件重新创建对象。在运行过程中，放在对象的数据成员里的信息得到利用和修改。运行结束时必须把这些信息重新保存到文件中，然后关闭文件。
在面向对象的C++程序设计中，文件应该在构造函数中打开，并创建对象；而在析构函数中保存和关闭文件，并撤销对象。当撤销对象时，能自动释放资源。释放资源包括将对象中的信息再次存入磁盘文件。程序运行中，总要对保存在对象的数据成员里的信息进行操作，这时应该将信息适时保存到相应的磁盘文件中，以免数据意外丢失。这些都是常规操作，是面向对象的C++程序设计的固定框架。
【例9.13】将商店的货物，定义为一个货物数组类。数组对象动态建立，初始为2个元素，不够用时扩充一倍。用文本数据文件建立数组元素对象，要求放在构造函数中，而数据的保存和文件的关闭放在析构函数中。第一次运行时，建立空的数据文件，由键盘输入建立数组元素对象，并写入文件，程序退出时，关闭文件；下一次运行由该文件构造对象，恢复前一次做过的工作。（[查看源码](http://www.weixueyuan.net/templets/default/cpp/source/Ex9_13.txt)）
这是一个标准的面向对象的程序设计，也是对前面各章内容的小结。注意，本例使用了多重的插入运算符重载。

