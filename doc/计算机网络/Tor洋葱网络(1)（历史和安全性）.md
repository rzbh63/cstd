# [Tor洋葱网络(1)（历史和安全性）](https://www.cnblogs.com/straybirds/p/9110854.html)



Tor（The Onion Router）的历史

Tor是由美国军方的情报机构最初开发并且提供财务支持的。
Tor的最初目的和当前的目的是： “帮助政府情报人员和他们的线人隐藏身份， 以便于他们开展情报收集， 并且把情报回传给情报机构。”
这些事实那些鼓吹和倡导使用Tor的人士并不会提到。
避免人们的行迹在Internet上被追踪到。 
他们把这个技术叫做“洋葱路由”。 
“洋葱路由”利用P2P网络， 把网络流量随机的通过P2P的节点进行转发， 这样可以掩盖源地址与目标地址的路径。 
使得在Internet上难以确定使用者的身份和地址。 
这就好像你送一封匿名信， 不是自己送或者通过邮差送， 而是大街上随便找一个不认识的人让他帮你送。 这样收信方就很难往回找到你。
”洋葱路由“的最初目的并不是保护隐私。 
或者至少不是保护大部分人认为的那种”隐私“。 
它的目的是让情报人员的网上活动不被敌对国进行监控。 
在美国海军研究实验室1997年的一篇论文中指出
”随着军事级别的通信设备日益依靠公共通讯网络，在使用公共通信基础设施时如何避免流量分析变得非常重要。 
此外， 通信的匿名性也非常必要。”
“最初导致发明洋葱路由的需求是， 你们能不能在Internet上建立一个双向通讯系统， 使得中间人截获通信的话也无法判定通信的源头与目的地。
 这个目标是为了国防部和情报机构在进行开源情报收集。
从一开始， 研究人员就意识到仅仅设计一个在技术上能够进行流量匿名的系统是不够的， 系统不能仅仅供情报人员使用。 
为了更好的隐藏情报人员的身份， Tor需要被很多不同的人使用， 如异见人士， 学生，公司雇员， 记者， 毒贩， 黑客， 甚至外国情报机构。 
这样才能够使得美国的间谍更容易隐蔽起来。

此外， Tor还需要从海军研究机构中脱离。 
Paul Syverson在2014年1月接受Bloomberg采访是说：“如果这个系统是海军的系统的话， 那么上面的流量很显然都来自海军的网络。 
我们需要让系统中也又来自其它网络的流量。”
Roger Dingledine在2004年在德国举行的Wizards of OS的研讨会上也说过：
“美国政府不能够仅仅自己使用这个匿名系统， 否则人们一看到来自这个系统的流量就知道， 啊， 这是一个CIA的间谍。 ”
因此， Tor的普通用户版本被推给了普通大众， 并且允许每个人允许Tor的节点。
这样做的目的是利用成千上万的志愿者组成一个类似Bittorrent的网络。 
把政府情报人员的流量与志愿者的流量混在一起。




**Tor真的安全吗?**


 Tor的开发人员Mike Perry承认， Tor在对付“强大的有组织，
有能力监控大量互联网流量“的攻击者(也就是政府)方面并不那么有效。
 ”对那些特别有钱， 能够监控很大一部分互联网的攻击者来说， 有可能攻破Tor的匿名保护。 
这也就是为什么目前Tor的核心程序的版本还是0.2.x的原因。 
我们希望籍此作为那些希望利用Tor来进行严格匿名的人的警告。“
事实上， 去年， Paul Syerson就说过， 从长期来看， Tor并不能有效地保护用户。
“对于能够观察到用户流量流进流出的攻击者来说， Tor并不安全。 
目前存在简单有效的技术能够把这些在不同地方流量通过模式识别将它们关联起来。
因此， 用户及其目的方就可以被识别出来。” 
他总结道：“结论是对于目前Tor网络的安全来说是有缺陷的。”
早在2007年，一个名为 Dan Egerstad瑞典黑客发现，仅仅通过运行一个Tor节点，他能阅读所有通过Tor网络了他的节点的未加密的流量。
他能够看到用户登录名和密码，非政府组织的账户，公司，印度和伊朗的使馆。
他告诉悉尼先驱晨报，他认为许多主要的Tor节点都是由情报机构或其它希望监听Tor网络上通信的组织运营。
“我不喜欢猜测，但我要告诉大家这是可能的。如果你真的寻找到这些地方的Tor节点都在什么地方托管以及它们的花费，一些节点的每月花费数千美元， 
因为他们托管在大型主机上，使用大量的带宽。谁会匿名提供这样的支持呢? 你会发现， 6个这样的节点里有5个是在华盛顿。“


**Tor并非像看上去那样难以追踪**

2012年, Roger Dingledine在一次采访中揭示了Tor网络是按照速度快慢的来选择节点路由的优先级的。
因此， 大量的Tor的流量实际上是通过少量快节点进行传送的。 
以今天的网络来说， 一个Tor客户端25%到30%的时候会选择5个最快的节点之一作为中继的， 而80%的Tor流量是通过40到50个节点进行中继的。
对此， Tor社区一直存在的安全性的担心。
毕竟， 运营40到50个快速节点无论对哪个国家的情报机构来说都不是难事。


