
# SQL数据库实战（含建表数据和查询案例） - Magician的博客 - CSDN博客


2017年11月08日 21:05:28[春雨里de太阳](https://me.csdn.net/qq_16633405)阅读数：2491


Oracle数据库安装的时候会自带一个练习用数据库（其中包含employee表，后来版本中此表改名为emp）；
首先在安装过程中应该有个选项“是否安装实例表”（完全安装模式下默认是选择的），需要选择才有此表；
此表归属于scott账户，scott用户默认口令为tiger
如果发现scott账户已过期（Oracle 10g中经常发生），或口令不正确，可以通过以下方法进行设置
```python
--账户解锁
```
```python
alter
```
```python
user
```
```python
scott account unlock;
```
```python
--重设scott账户口令为tiger
```
```python
alter
```
```python
user
```
```python
scott identified
```
```python
by
```
```python
tiger;
```
如果想通过这个例子练手，下面是对应的建表语句，读者可以自行创建数据库进行练习（特别是Mysql用户）。对应的练习题，网上有很多，在这里博主总结了一些教材中的案例由于练习，如有错误请指出。
## 建表语句：
**附:实例表建表语句（适用于Oracle）**
```python
SET
```
```python
TERMOUT
```
```python
ON
```
```python
PROMPT Building demonstration tables. Please wait.
```
```python
SET
```
```python
TERMOUT OFF
```
```python
DROP
```
```python
TABLE
```
```python
EMP;
```
```python
DROP
```
```python
TABLE
```
```python
DEPT;
```
```python
DROP
```
```python
TABLE
```
```python
BONUS;
```
```python
DROP
```
```python
TABLE
```
```python
SALGRADE;
```
```python
DROP
```
```python
TABLE
```
```python
DUMMY;
```
```python
CREATE
```
```python
TABLE
```
```python
EMP  
(EMPNO
```
```python
NUMBER
```
```python
(
```
```python
4
```
```python
)
```
```python
NOT
```
```python
NULL
```
```python
,  
ENAME VARCHAR2(
```
```python
10
```
```python
),  
JOB VARCHAR2(
```
```python
9
```
```python
),  
MGR
```
```python
NUMBER
```
```python
(
```
```python
4
```
```python
),  
HIREDATE
```
```python
DATE
```
```python
,  
SAL
```
```python
NUMBER
```
```python
(
```
```python
7
```
```python
,
```
```python
2
```
```python
),  
COMM
```
```python
NUMBER
```
```python
(
```
```python
7
```
```python
,
```
```python
2
```
```python
),  
DEPTNO
```
```python
NUMBER
```
```python
(
```
```python
2
```
```python
));
```
```python
INSERT
```
```python
INTO
```
```python
EMP
```
```python
VALUES
```
```python
(
```
```python
7369
```
```python
,
```
```python
'SMITH'
```
```python
,
```
```python
'CLERK'
```
```python
,
```
```python
7902
```
```python
,  
TO_DATE(
```
```python
'17-DEC-1980'
```
```python
,
```
```python
'DD-MON-YYYY'
```
```python
),
```
```python
800
```
```python
,
```
```python
NULL
```
```python
,
```
```python
20
```
```python
);
```
```python
INSERT
```
```python
INTO
```
```python
EMP
```
```python
VALUES
```
```python
(
```
```python
7499
```
```python
,
```
```python
'ALLEN'
```
```python
,
```
```python
'SALESMAN'
```
```python
,
```
```python
7698
```
```python
,  
TO_DATE(
```
```python
'20-FEB-1981'
```
```python
,
```
```python
'DD-MON-YYYY'
```
```python
),
```
```python
1600
```
```python
,
```
```python
300
```
```python
,
```
```python
30
```
```python
);
```
```python
INSERT
```
```python
INTO
```
```python
EMP
```
```python
VALUES
```
```python
(
```
```python
7521
```
```python
,
```
```python
'WARD'
```
```python
,
```
```python
'SALESMAN'
```
```python
,
```
```python
7698
```
```python
,  
TO_DATE(
```
```python
'22-FEB-1981'
```
```python
,
```
```python
'DD-MON-YYYY'
```
```python
),
```
```python
1250
```
```python
,
```
```python
500
```
```python
,
```
```python
30
```
```python
);
```
```python
INSERT
```
```python
INTO
```
```python
EMP
```
```python
VALUES
```
```python
(
```
```python
7566
```
```python
,
```
```python
'JONES'
```
```python
,
```
```python
'MANAGER'
```
```python
,
```
```python
7839
```
```python
,  
TO_DATE(
```
```python
'2-APR-1981'
```
```python
,
```
```python
'DD-MON-YYYY'
```
```python
),
```
```python
2975
```
```python
,
```
```python
NULL
```
```python
,
```
```python
20
```
```python
);
```
```python
INSERT
```
```python
INTO
```
```python
EMP
```
```python
VALUES
```
```python
(
```
```python
7654
```
```python
,
```
```python
'MARTIN'
```
```python
,
```
```python
'SALESMAN'
```
```python
,
```
```python
7698
```
```python
,  
TO_DATE(
```
```python
'28-SEP-1981'
```
```python
,
```
```python
'DD-MON-YYYY'
```
```python
),
```
```python
1250
```
```python
,
```
```python
1400
```
```python
,
```
```python
30
```
```python
);
```
```python
INSERT
```
```python
INTO
```
```python
EMP
```
```python
VALUES
```
```python
(
```
```python
7698
```
```python
,
```
```python
'BLAKE'
```
```python
,
```
```python
'MANAGER'
```
```python
,
```
```python
7839
```
```python
,  
TO_DATE(
```
```python
'1-MAY-1981'
```
```python
,
```
```python
'DD-MON-YYYY'
```
```python
),
```
```python
2850
```
```python
,
```
```python
NULL
```
```python
,
```
```python
30
```
```python
);
```
```python
INSERT
```
```python
INTO
```
```python
EMP
```
```python
VALUES
```
```python
(
```
```python
7782
```
```python
,
```
```python
'CLARK'
```
```python
,
```
```python
'MANAGER'
```
```python
,
```
```python
7839
```
```python
,  
TO_DATE(
```
```python
'9-JUN-1981'
```
```python
,
```
```python
'DD-MON-YYYY'
```
```python
),
```
```python
2450
```
```python
,
```
```python
NULL
```
```python
,
```
```python
10
```
```python
);
```
```python
INSERT
```
```python
INTO
```
```python
EMP
```
```python
VALUES
```
```python
(
```
```python
7788
```
```python
,
```
```python
'SCOTT'
```
```python
,
```
```python
'ANALYST'
```
```python
,
```
```python
7566
```
```python
,  
TO_DATE(
```
```python
'09-DEC-1982'
```
```python
,
```
```python
'DD-MON-YYYY'
```
```python
),
```
```python
3000
```
```python
,
```
```python
NULL
```
```python
,
```
```python
20
```
```python
);
```
```python
INSERT
```
```python
INTO
```
```python
EMP
```
```python
VALUES
```
```python
(
```
```python
7839
```
```python
,
```
```python
'KING'
```
```python
,
```
```python
'PRESIDENT'
```
```python
,
```
```python
NULL
```
```python
,  
TO_DATE(
```
```python
'17-NOV-1981'
```
```python
,
```
```python
'DD-MON-YYYY'
```
```python
),
```
```python
5000
```
```python
,
```
```python
NULL
```
```python
,
```
```python
10
```
```python
);
```
```python
INSERT
```
```python
INTO
```
```python
EMP
```
```python
VALUES
```
```python
(
```
```python
7844
```
```python
,
```
```python
'TURNER'
```
```python
,
```
```python
'SALESMAN'
```
```python
,
```
```python
7698
```
```python
,  
TO_DATE(
```
```python
'8-SEP-1981'
```
```python
,
```
```python
'DD-MON-YYYY'
```
```python
),
```
```python
1500
```
```python
,
```
```python
0
```
```python
,
```
```python
30
```
```python
);
```
```python
INSERT
```
```python
INTO
```
```python
EMP
```
```python
VALUES
```
```python
(
```
```python
7876
```
```python
,
```
```python
'ADAMS'
```
```python
,
```
```python
'CLERK'
```
```python
,
```
```python
7788
```
```python
,  
TO_DATE(
```
```python
'12-JAN-1983'
```
```python
,
```
```python
'DD-MON-YYYY'
```
```python
),
```
```python
1100
```
```python
,
```
```python
NULL
```
```python
,
```
```python
20
```
```python
);
```
```python
INSERT
```
```python
INTO
```
```python
EMP
```
```python
VALUES
```
```python
(
```
```python
7900
```
```python
,
```
```python
'JAMES'
```
```python
,
```
```python
'CLERK'
```
```python
,
```
```python
7698
```
```python
,  
TO_DATE(
```
```python
'3-DEC-1981'
```
```python
,
```
```python
'DD-MON-YYYY'
```
```python
),
```
```python
950
```
```python
,
```
```python
NULL
```
```python
,
```
```python
30
```
```python
);
```
```python
INSERT
```
```python
INTO
```
```python
EMP
```
```python
VALUES
```
```python
(
```
```python
7902
```
```python
,
```
```python
'FORD'
```
```python
,
```
```python
'ANALYST'
```
```python
,
```
```python
7566
```
```python
,  
TO_DATE(
```
```python
'3-DEC-1981'
```
```python
,
```
```python
'DD-MON-YYYY'
```
```python
),
```
```python
3000
```
```python
,
```
```python
NULL
```
```python
,
```
```python
20
```
```python
);
```
```python
INSERT
```
```python
INTO
```
```python
EMP
```
```python
VALUES
```
```python
(
```
```python
7934
```
```python
,
```
```python
'MILLER'
```
```python
,
```
```python
'CLERK'
```
```python
,
```
```python
7782
```
```python
,  
TO_DATE(
```
```python
'23-JAN-1982'
```
```python
,
```
```python
'DD-MON-YYYY'
```
```python
),
```
```python
1300
```
```python
,
```
```python
NULL
```
```python
,
```
```python
10
```
```python
);
```
```python
CREATE
```
```python
TABLE
```
```python
DEPT  
(DEPTNO
```
```python
NUMBER
```
```python
(
```
```python
2
```
```python
),  
DNAME VARCHAR2(
```
```python
14
```
```python
),  
LOC VARCHAR2(
```
```python
13
```
```python
) );
```
```python
INSERT
```
```python
INTO
```
```python
DEPT
```
```python
VALUES
```
```python
(
```
```python
10
```
```python
,
```
```python
'ACCOUNTING'
```
```python
,
```
```python
'NEW YORK'
```
```python
);
```
```python
INSERT
```
```python
INTO
```
```python
DEPT
```
```python
VALUES
```
```python
(
```
```python
20
```
```python
,
```
```python
'RESEARCH'
```
```python
,
```
```python
'DALLAS'
```
```python
);
```
```python
INSERT
```
```python
INTO
```
```python
DEPT
```
```python
VALUES
```
```python
(
```
```python
30
```
```python
,
```
```python
'SALES'
```
```python
,
```
```python
'CHICAGO'
```
```python
);
```
```python
INSERT
```
```python
INTO
```
```python
DEPT
```
```python
VALUES
```
```python
(
```
```python
40
```
```python
,
```
```python
'OPERATIONS'
```
```python
,
```
```python
'BOSTON'
```
```python
);
```
```python
CREATE
```
```python
TABLE
```
```python
BONUS  
(ENAME VARCHAR2(
```
```python
10
```
```python
),  
JOB VARCHAR2(
```
```python
9
```
```python
),  
SAL
```
```python
NUMBER
```
```python
,  
COMM
```
```python
NUMBER
```
```python
);
```
```python
CREATE
```
```python
TABLE
```
```python
SALGRADE  
(GRADE
```
```python
NUMBER
```
```python
,  
LOSAL
```
```python
NUMBER
```
```python
,  
HISAL
```
```python
NUMBER
```
```python
);
```
```python
INSERT
```
```python
INTO
```
```python
SALGRADE
```
```python
VALUES
```
```python
(
```
```python
1
```
```python
,
```
```python
700
```
```python
,
```
```python
1200
```
```python
);
```
```python
INSERT
```
```python
INTO
```
```python
SALGRADE
```
```python
VALUES
```
```python
(
```
```python
2
```
```python
,
```
```python
1201
```
```python
,
```
```python
1400
```
```python
);
```
```python
INSERT
```
```python
INTO
```
```python
SALGRADE
```
```python
VALUES
```
```python
(
```
```python
3
```
```python
,
```
```python
1401
```
```python
,
```
```python
2000
```
```python
);
```
```python
INSERT
```
```python
INTO
```
```python
SALGRADE
```
```python
VALUES
```
```python
(
```
```python
4
```
```python
,
```
```python
2001
```
```python
,
```
```python
3000
```
```python
);
```
```python
INSERT
```
```python
INTO
```
```python
SALGRADE
```
```python
VALUES
```
```python
(
```
```python
5
```
```python
,
```
```python
3001
```
```python
,
```
```python
9999
```
```python
);
```
```python
CREATE
```
```python
TABLE
```
```python
DUMMY  
(DUMMY
```
```python
NUMBER
```
```python
);
```
```python
INSERT
```
```python
INTO
```
```python
DUMMY
```
```python
VALUES
```
```python
(
```
```python
0
```
```python
);
```
```python
COMMIT
```
```python
;
```
```python
SET
```
```python
TERMOUT
```
```python
ON
```
```python
PROMPT Demonstration
```
```python
table
```
```python
build
```
```python
is
```
```python
complete.  
EXIT
```
**实例建表语句（适用于MySQL）**
```python
DROP
```
```python
TABLE
```
```python
employee;
```
```python
DROP
```
```python
TABLE
```
```python
dept;
```
```python
DROP
```
```python
TABLE
```
```python
bonus;
```
```python
DROP
```
```python
TABLE
```
```python
salgrade;
```
```python
DROP
```
```python
TABLE
```
```python
dummy;
```
```python
CREATE
```
```python
TABLE
```
```python
employee  
(  
  employeeno
```
```python
DECIMAL
```
```python
(
```
```python
4
```
```python
)
```
```python
NOT
```
```python
NULL
```
```python
,  
  ename
```
```python
VARCHAR
```
```python
(
```
```python
10
```
```python
),  
  job
```
```python
VARCHAR
```
```python
(
```
```python
9
```
```python
),  
  mgr
```
```python
DECIMAL
```
```python
(
```
```python
4
```
```python
),  
  hiredate
```
```python
DATE
```
```python
,  
  sal
```
```python
DECIMAL
```
```python
(
```
```python
7
```
```python
,
```
```python
2
```
```python
),  
  comm
```
```python
DECIMAL
```
```python
(
```
```python
7
```
```python
,
```
```python
2
```
```python
),  
  deptno
```
```python
DECIMAL
```
```python
(
```
```python
2
```
```python
)  
);
```
```python
INSERT
```
```python
INTO
```
```python
employee
```
```python
VALUES
```
```python
(
```
```python
7369
```
```python
,
```
```python
'SMITH'
```
```python
,
```
```python
'CLERK'
```
```python
,
```
```python
7902
```
```python
,
```
```python
'1980-12-17'
```
```python
,
```
```python
800
```
```python
,
```
```python
NULL
```
```python
,
```
```python
20
```
```python
);
```
```python
INSERT
```
```python
INTO
```
```python
employee
```
```python
VALUES
```
```python
(
```
```python
7499
```
```python
,
```
```python
'ALLEN'
```
```python
,
```
```python
'SALESMAN'
```
```python
,
```
```python
7698
```
```python
,
```
```python
'1981-2-20'
```
```python
,
```
```python
1600
```
```python
,
```
```python
300
```
```python
,
```
```python
30
```
```python
);
```
```python
INSERT
```
```python
INTO
```
```python
employee
```
```python
VALUES
```
```python
(
```
```python
7521
```
```python
,
```
```python
'WARD'
```
```python
,
```
```python
'SALESMAN'
```
```python
,
```
```python
7698
```
```python
,
```
```python
'1981-2-22'
```
```python
,
```
```python
1250
```
```python
,
```
```python
500
```
```python
,
```
```python
30
```
```python
);
```
```python
INSERT
```
```python
INTO
```
```python
employee
```
```python
VALUES
```
```python
(
```
```python
7566
```
```python
,
```
```python
'JONES'
```
```python
,
```
```python
'MANAGER'
```
```python
,
```
```python
7839
```
```python
,
```
```python
'1981-4-2'
```
```python
,
```
```python
2975
```
```python
,
```
```python
NULL
```
```python
,
```
```python
20
```
```python
);
```
```python
INSERT
```
```python
INTO
```
```python
employee
```
```python
VALUES
```
```python
(
```
```python
7654
```
```python
,
```
```python
'MARTIN'
```
```python
,
```
```python
'SALESMAN'
```
```python
,
```
```python
7698
```
```python
,
```
```python
'1981-9-28'
```
```python
,
```
```python
1250
```
```python
,
```
```python
1400
```
```python
,
```
```python
30
```
```python
);
```
```python
INSERT
```
```python
INTO
```
```python
employee
```
```python
VALUES
```
```python
(
```
```python
7698
```
```python
,
```
```python
'BLAKE'
```
```python
,
```
```python
'MANAGER'
```
```python
,
```
```python
7839
```
```python
,
```
```python
'1981-5-1'
```
```python
,
```
```python
2850
```
```python
,
```
```python
NULL
```
```python
,
```
```python
30
```
```python
);
```
```python
INSERT
```
```python
INTO
```
```python
employee
```
```python
VALUES
```
```python
(
```
```python
7782
```
```python
,
```
```python
'CLARK'
```
```python
,
```
```python
'MANAGER'
```
```python
,
```
```python
7839
```
```python
,
```
```python
'1981-7-9'
```
```python
,
```
```python
2450
```
```python
,
```
```python
NULL
```
```python
,
```
```python
10
```
```python
);
```
```python
INSERT
```
```python
INTO
```
```python
employee
```
```python
VALUES
```
```python
(
```
```python
7788
```
```python
,
```
```python
'SCOTT'
```
```python
,
```
```python
'ANALYST'
```
```python
,
```
```python
7566
```
```python
,
```
```python
'1982-12-9'
```
```python
,
```
```python
3000
```
```python
,
```
```python
NULL
```
```python
,
```
```python
20
```
```python
);
```
```python
INSERT
```
```python
INTO
```
```python
employee
```
```python
VALUES
```
```python
(
```
```python
7839
```
```python
,
```
```python
'KING'
```
```python
,
```
```python
'PRESIDENT'
```
```python
,
```
```python
NULL
```
```python
,
```
```python
'1981-11-17'
```
```python
,
```
```python
5000
```
```python
,
```
```python
NULL
```
```python
,
```
```python
10
```
```python
);
```
```python
INSERT
```
```python
INTO
```
```python
employee
```
```python
VALUES
```
```python
(
```
```python
7844
```
```python
,
```
```python
'TURNER'
```
```python
,
```
```python
'SALESMAN'
```
```python
,
```
```python
7698
```
```python
,
```
```python
'1981-9-8'
```
```python
,
```
```python
1500
```
```python
,
```
```python
0
```
```python
,
```
```python
30
```
```python
);
```
```python
INSERT
```
```python
INTO
```
```python
employee
```
```python
VALUES
```
```python
(
```
```python
7876
```
```python
,
```
```python
'ADAMS'
```
```python
,
```
```python
'CLERK'
```
```python
,
```
```python
7788
```
```python
,
```
```python
'1983-1-12'
```
```python
,
```
```python
1100
```
```python
,
```
```python
NULL
```
```python
,
```
```python
20
```
```python
);
```
```python
INSERT
```
```python
INTO
```
```python
employee
```
```python
VALUES
```
```python
(
```
```python
7900
```
```python
,
```
```python
'JAMES'
```
```python
,
```
```python
'CLERK'
```
```python
,
```
```python
7698
```
```python
,
```
```python
'1981-12-3'
```
```python
,
```
```python
950
```
```python
,
```
```python
NULL
```
```python
,
```
```python
30
```
```python
);
```
```python
INSERT
```
```python
INTO
```
```python
employee
```
```python
VALUES
```
```python
(
```
```python
7902
```
```python
,
```
```python
'FORD'
```
```python
,
```
```python
'ANALYST'
```
```python
,
```
```python
7566
```
```python
,
```
```python
'1981-12-3'
```
```python
,
```
```python
3000
```
```python
,
```
```python
NULL
```
```python
,
```
```python
20
```
```python
);
```
```python
INSERT
```
```python
INTO
```
```python
employee
```
```python
VALUES
```
```python
(
```
```python
7934
```
```python
,
```
```python
'MILLER'
```
```python
,
```
```python
'CLERK'
```
```python
,
```
```python
7782
```
```python
,
```
```python
'1982-1-23'
```
```python
,
```
```python
1300
```
```python
,
```
```python
NULL
```
```python
,
```
```python
10
```
```python
);
```
```python
CREATE
```
```python
TABLE
```
```python
dept  
(deptno
```
```python
DECIMAL
```
```python
(
```
```python
2
```
```python
),  
dname
```
```python
VARCHAR
```
```python
(
```
```python
14
```
```python
),  
loc
```
```python
VARCHAR
```
```python
(
```
```python
13
```
```python
) );
```
```python
INSERT
```
```python
INTO
```
```python
dept
```
```python
VALUES
```
```python
(
```
```python
10
```
```python
,
```
```python
'ACCOUNTING'
```
```python
,
```
```python
'NEW YORK'
```
```python
);
```
```python
INSERT
```
```python
INTO
```
```python
dept
```
```python
VALUES
```
```python
(
```
```python
20
```
```python
,
```
```python
'RESEARCH'
```
```python
,
```
```python
'DALLAS'
```
```python
);
```
```python
INSERT
```
```python
INTO
```
```python
dept
```
```python
VALUES
```
```python
(
```
```python
30
```
```python
,
```
```python
'SALES'
```
```python
,
```
```python
'CHICAGO'
```
```python
);
```
```python
INSERT
```
```python
INTO
```
```python
dept
```
```python
VALUES
```
```python
(
```
```python
40
```
```python
,
```
```python
'OPERATIONS'
```
```python
,
```
```python
'BOSTON'
```
```python
);
```
```python
CREATE
```
```python
TABLE
```
```python
bonus  
(ename
```
```python
VARCHAR
```
```python
(
```
```python
10
```
```python
),  
job
```
```python
VARCHAR
```
```python
(
```
```python
9
```
```python
),  
sal
```
```python
DECIMAL
```
```python
,  
comm
```
```python
DECIMAL
```
```python
);
```
```python
CREATE
```
```python
TABLE
```
```python
salgrade  
(grade
```
```python
DECIMAL
```
```python
,  
losal
```
```python
DECIMAL
```
```python
,  
hisal
```
```python
DECIMAL
```
```python
);
```
```python
INSERT
```
```python
INTO
```
```python
salgrade
```
```python
VALUES
```
```python
(
```
```python
1
```
```python
,
```
```python
700
```
```python
,
```
```python
1200
```
```python
);
```
```python
INSERT
```
```python
INTO
```
```python
salgrade
```
```python
VALUES
```
```python
(
```
```python
2
```
```python
,
```
```python
1201
```
```python
,
```
```python
1400
```
```python
);
```
```python
INSERT
```
```python
INTO
```
```python
salgrade
```
```python
VALUES
```
```python
(
```
```python
3
```
```python
,
```
```python
1401
```
```python
,
```
```python
2000
```
```python
);
```
```python
INSERT
```
```python
INTO
```
```python
salgrade
```
```python
VALUES
```
```python
(
```
```python
4
```
```python
,
```
```python
2001
```
```python
,
```
```python
3000
```
```python
);
```
```python
INSERT
```
```python
INTO
```
```python
salgrade
```
```python
VALUES
```
```python
(
```
```python
5
```
```python
,
```
```python
3001
```
```python
,
```
```python
9999
```
```python
);
```
```python
CREATE
```
```python
TABLE
```
```python
dummy  
(dummy
```
```python
DECIMAL
```
```python
);
```
```python
INSERT
```
```python
INTO
```
```python
dummy
```
```python
VALUES
```
```python
(
```
```python
0
```
```python
);
```
## 查询案例（MySQL版本）
```python
查询1985年12月31日之前入职的员工姓名及入职日期。（注意日期的写法）
```
```python
SELECT
```
```python
ename,hiredate
```
```python
FROM
```
```python
employee
```
```python
WHERE
```
```python
hiredate <
```
```python
'1985-12-31'
```
```python
查询部门编号不在
```
```python
10
```
```python
部门的员工姓名、部门编号。（这里的！=也可写作<>）
```
```python
SELECT
```
```python
ename,deptno
```
```python
FROM
```
```python
employee
```
```python
WHERE
```
```python
deptno!=
```
```python
10
```
```python
;
```
```python
查询入职日期在82年至85年的员工姓名，入职日期.
```
```python
SELECT
```
```python
ename,hiredate
```
```python
FROM
```
```python
employee
```
```python
WHERE
```
```python
hiredate BETWEEN
```
```python
'1982-1-01'
```
```python
AND
```
```python
'1985-12-31'
```
```python
查询部门编号为
```
```python
10
```
```python
或者
```
```python
20
```
```python
的员工姓名，部门编号。
```
```python
SELECT
```
```python
ename,deptno
```
```python
from
```
```python
employee
```
```python
WHERE
```
```python
deptno=
```
```python
10
```
```python
OR
```
```python
deptno=
```
```python
20
```
```python
;
```
```python
查询经理编号为7902 7566 7788的员工姓名，经理编号。#注意是圆括号
```
```python
SELECT
```
```python
ENAme,mgr
```
```python
FROM
```
```python
employee
```
```python
WHERE
```
```python
mgr
```
```python
IN
```
```python
(
```
```python
7902
```
```python
,
```
```python
7566
```
```python
,
```
```python
7788
```
```python
)
查询员工姓名以W开头的员工姓名。
```
```python
SELECT
```
```python
ename
```
```python
from
```
```python
employee
```
```python
WHERE
```
```python
ename
```
```python
LIKE
```
```python
'W%'
```
```python
查询员工姓名倒数第
```
```python
2
```
```python
个字符为T的员工姓名。
```
```python
SELECT
```
```python
ename
```
```python
FROM
```
```python
employee
```
```python
WHERE
```
```python
ename
```
```python
LIke
```
```python
'%T_'
```
```python
查询奖金为空的员工姓名，奖金。
```
```python
SELECT
```
```python
ename
```
```python
from
```
```python
employee
```
```python
WHERE
```
```python
comm
```
```python
IS
```
```python
NULL
```
```python
查询部门在
```
```python
10
```
```python
或者
```
```python
20
```
```python
，并且工资在
```
```python
3000
```
```python
到
```
```python
5000
```
```python
之间的员工姓名、部门、工资。
#注意逻辑运算符的优先级
```
```python
not
```
```python
>
```
```python
and
```
```python
>
```
```python
or
```
```python
,其次根据中文中的逻辑词来写。
```
```python
SELECT
```
```python
ename,deptno,sal
```
```python
from
```
```python
employee
```
```python
WHERE
```
```python
(
```
```python
3000
```
```python
<=sal
```
```python
and
```
```python
sal<=
```
```python
5000
```
```python
)
```
```python
and
```
```python
(deptno=
```
```python
10
```
```python
or
```
```python
deptno=
```
```python
20
```
```python
)
查询入职日期在
```
```python
81
```
```python
年，并且职位不是SALES开头的员工姓名、入职日期、职位。
#注意对于字符串的比较不能采用运算符如！=等，需要用
```
```python
Like
```
```python
关键字等
```
```python
SELECT
```
```python
ename,hiredate,job
```
```python
from
```
```python
employee
```
```python
where
```
```python
(hiredate BETWEEN
```
```python
'1981-1-01'
```
```python
AND
```
```python
'1981-12-31'
```
```python
)
```
```python
and
```
```python
(job
```
```python
not
```
```python
LIKE
```
```python
'SALES%'
```
```python
)
查询职位为SALESMAN或MANAGER，部门编号为
```
```python
10
```
```python
或者
```
```python
20
```
```python
，姓名包含A的员工姓名、职位、部门编号。
```
```python
SELECT
```
```python
ename,job,deptno
```
```python
from
```
```python
employee
```
```python
WHERE
```
```python
(job =
```
```python
'SALESMAN'
```
```python
or
```
```python
job =
```
```python
'MANAGER'
```
```python
)
```
```python
and
```
```python
(deptno =
```
```python
10
```
```python
or
```
```python
deptno=
```
```python
20
```
```python
)
```
```python
and
```
```python
(ename
```
```python
LIKE
```
```python
'%A%'
```
```python
)
查询工资在
```
```python
2000
```
```python
-
```
```python
3000
```
```python
之间，部门不在
```
```python
10
```
```python
号的员工姓名，部门编号，工资，并按照部门升序 并按照部门升序，工资降序排序。
```
```python
SELECT
```
```python
ename , deptno,sal
```
```python
from
```
```python
employee
```
```python
WHERE
```
```python
(sal BETWEEN
```
```python
2000
```
```python
and
```
```python
3000
```
```python
)
```
```python
and
```
```python
(deptno!=
```
```python
10
```
```python
)
```
```python
ORDER
```
```python
BY
```
```python
deptno
```
```python
asc
```
```python
, sal
```
```python
DESC
```
```python
查询入职日期在
```
```python
82
```
```python
年至
```
```python
83
```
```python
年之间，职位以SALES或者MAN开头的员工姓名，入职日期，职位，并按照入职日期降序排序。
```
```python
select
```
```python
ename ,hiredate,job
```
```python
FROM
```
```python
employee
```
```python
WHERE
```
```python
(hiredate BETWEEN
```
```python
'1982-1-01'
```
```python
AND
```
```python
'1983-12-31'
```
```python
)
```
```python
AND
```
```python
((job
```
```python
LIKE
```
```python
'SALES%'
```
```python
)
```
```python
or
```
```python
( job
```
```python
LIKE
```
```python
'MAN%'
```
```python
))
```
```python
ORDER
```
```python
BY
```
```python
hiredate
```
```python
DESC
```
```python
;
```
```python
写一个查询，显示所有员工姓名，部门编号，部门名称。
#N张表至少要N-1个连接条件
```
```python
SELECT
```
```python
ename,employee.deptno,dname
```
```python
from
```
```python
dept, employee
```
```python
where
```
```python
dept.deptno=employee.deptno;
```
```python
写一个查询，显示所有工作在CHICAGO并且奖金不为空的员工姓名，工作地点，奖金
```
```python
select
```
```python
ename,loc,comm
```
```python
from
```
```python
employee,dept
```
```python
WHERE
```
```python
employee.deptno=dept.deptno
```
```python
and
```
```python
((loc=
```
```python
'CHICAGO'
```
```python
)
```
```python
and
```
```python
(comm
```
```python
is
```
```python
not
```
```python
NULL
```
```python
))
写一个查询，显示所有姓名中含有A字符的员工姓名，工作地点。
```
```python
SELECT
```
```python
ename ,loc
```
```python
from
```
```python
employee,dept
```
```python
WHERE
```
```python
employee.deptno=dept.deptno
```
```python
and
```
```python
employee.ename
```
```python
like
```
```python
'%A%'
```
```python
#重点看下员工等级的实现
查询每个员工的编号，姓名，工资，工资等级，所在工作城市，按照工资等级进行升序排序。
```
```python
SELECT
```
```python
employeeno,ename,sal,grade,loc
```
```python
from
```
```python
employee,dept,salgrade
```
```python
where
```
```python
employee.deptno=dept.deptno
```
```python
and
```
```python
(employee.sal BETWEEN salgrade.losal
```
```python
AND
```
```python
salgrade.hisal)
查询每个员工的姓名和直接上级姓名？
```
```python
SELECT
```
```python
A.ename worker,B.ename boss
```
```python
FROM
```
```python
employee A
```
```python
INNER
```
```python
JOIN
```
```python
employee B
```
```python
ON
```
```python
A.mgr=B.employeeno
查询所有工作在NEW YORK和CHICAGO的员工姓名，员工编号，以及他们的经理姓名，经理编号。
#
```
```python
from
```
```python
什么
```
```python
join
```
```python
什么的，可以看做是一张表（其实就是一张复杂的表）。下面接着用正常的语法就可以了。
```
```python
SELECT
```
```python
A.ename workName,A.employeeno workNum,B.ename bossName,B.employeeno BossNum,loc
```
```python
from
```
```python
employee A
```
```python
JOIN
```
```python
employee B
```
```python
ON
```
```python
A.mgr=B.employeeno
```
```python
JOIN
```
```python
dept C
```
```python
on
```
```python
A.deptno=C.deptno
```
```python
where
```
```python
loc
```
```python
IN
```
```python
(
```
```python
'NEW YORK'
```
```python
,
```
```python
'CHICAGO'
```
```python
)
查询所有员工编号，姓名，部门名称，包括没有部门的员工也要显示出来。
```
```python
SELECT
```
```python
A.ename ,A.employeeno,B.dname
```
```python
FROM
```
```python
employee A
```
```python
LEFT
```
```python
JOIN
```
```python
dept B
```
```python
ON
```
```python
A.deptno=B.deptno;
```
```python
创建一个员工表和部门表的交叉连接。
```
```python
SELECT
```
```python
count
```
```python
(*)
```
```python
from
```
```python
employee A
```
```python
CROSS
```
```python
JOIN
```
```python
dept B
使用
```
```python
USING
```
```python
子句，显示工作在CHICAGO的员工姓名，部门名称，工作地点
#
```
```python
using
```
```python
可以作为一个连接条件使用（直接将两张表的公有属性声明在
```
```python
using
```
```python
中）
```
```python
SELECT
```
```python
ename,dname,loc
```
```python
from
```
```python
employee A
```
```python
join
```
```python
dept B
```
```python
USING
```
```python
(deptno)
```
```python
WHERE
```
```python
B.loc=
```
```python
'CHICAGO'
```
```python
使用
```
```python
ON
```
```python
子句，显示工作在CHICAGO的员工姓名，部门名称，工作地点，薪资等级
```
```python
SELECT
```
```python
ename,dname,loc,grade
```
```python
from
```
```python
employee A
```
```python
join
```
```python
dept B
```
```python
on
```
```python
A.deptno=B.deptno
```
```python
join
```
```python
salgrade C
```
```python
WHERE
```
```python
A.sal BETWEEN C.losal
```
```python
and
```
```python
C.hisal;
```
```python
使用左连接，查询每个员工的姓名 查询每个员工的姓名，经理姓名，没有经理的King也要显示出来。
```
```python
SELECT
```
```python
A.ename worker,B.ename boss
```
```python
from
```
```python
employee A
```
```python
LEFT
```
```python
JOIN
```
```python
employee B
```
```python
on
```
```python
A.mgr=B.employeeno
查询部门
```
```python
20
```
```python
的员工，每个月的工资总和及平均工资。
```
```python
select
```
```python
SUM
```
```python
(sal),
```
```python
AVG
```
```python
(sal)
```
```python
from
```
```python
employee A
```
```python
WHERE
```
```python
A.deptno=
```
```python
20
```
```python
查询工作在CHICAGO的员工人数，最高工资及最低工资。
```
```python
SELECT
```
```python
COUNT
```
```python
(employeeno),
```
```python
MAX
```
```python
(sal),
```
```python
MIN
```
```python
(sal)
```
```python
from
```
```python
employee,dept
```
```python
WHERE
```
```python
dept.loc=
```
```python
'CHICAGO'
```
```python
查询员工表中一共有几种岗位类型
```
```python
SELECT
```
```python
COUNT
```
```python
(
```
```python
DISTINCT
```
```python
job)
```
```python
from
```
```python
employee 
查询每个部门的部门编号，部门名称，部门人数，最高工资，最低工资，工资总和，平均工资。
#注意声明你是以那张表的deptno作为分组的条件的（表不同，结果也不同）
```
```python
SELECT
```
```python
employee.deptno,dname,
```
```python
count
```
```python
(
```
```python
DISTINCT
```
```python
employeeno),
```
```python
MAX
```
```python
(sal),
```
```python
MIN
```
```python
(sal),
```
```python
SUM
```
```python
(sal),
```
```python
AVG
```
```python
(sal)
```
```python
from
```
```python
employee,dept
```
```python
GROUP
```
```python
BY
```
```python
employee.deptno
查询每个部门，每个岗位的部门编号，岗位名称，部门人数，最高工资，最低工资，工资总和，平均工资。
```
```python
SELECT
```
```python
employee.deptno,dname,
```
```python
count
```
```python
(
```
```python
DISTINCT
```
```python
employeeno),
```
```python
MAX
```
```python
(sal),
```
```python
MIN
```
```python
(sal),
```
```python
SUM
```
```python
(sal),
```
```python
AVG
```
```python
(sal)
```
```python
from
```
```python
employee,dept
```
```python
GROUP
```
```python
BY
```
```python
employee.deptno,employee.job
查询每个经理所管理的人数，经理编号，经理姓名，要求包括没有经理的人员信息。
```
```python
SELECT
```
```python
count
```
```python
(
```
```python
DISTINCT
```
```python
A.employeeno),B.ename,B.employeeno
```
```python
from
```
```python
employee A
```
```python
LEFT
```
```python
JOIN
```
```python
employee B
```
```python
on
```
```python
A.mgr=B.employeeno
```
```python
GROUP
```
```python
BY
```
```python
A.mgr

#不能在
```
```python
WHERE
```
```python
子句中限制组，可以通过
```
```python
HAVING
```
```python
子句限制组（经典错题）、
#原因：根据
```
```python
sql
```
```python
执行顺序，先从
```
```python
where
```
```python
中得到限制条件，然后才执行goupBy语句，之后才执行
```
```python
having
```
```python
语句
如果再
```
```python
where
```
```python
中直接进行一个限制组的操作，那么后续的
```
```python
group
```
```python
将没有任何意义（毕竟都是分区排序先分区再排序）
```
```python
1
```
```python
SELECT
```
```python
deptno,
```
```python
max
```
```python
(sal)
```
```python
2
```
```python
FROM
```
```python
emp
```
```python
3
```
```python
WHERE
```
```python
max
```
```python
(sal) >
```
```python
2900
```
```python
4
```
```python
GROUP
```
```python
BY
```
```python
deptno;
```
```python
*
ERROR at line 3:
ORA-00934: group function is not allowed here
*
查询部门人数大于2的部门编号，部门名称，部门人数。
```
```python
SELECT
```
```python
B.deptno,dname,
```
```python
COUNT
```
```python
(
```
```python
DISTINCT
```
```python
employeeno)
```
```python
from
```
```python
dept A,employee B
```
```python
where
```
```python
A.deptno=B.deptno
```
```python
GROUP
```
```python
BY
```
```python
B.deptno
```
```python
HAVING
```
```python
count
```
```python
(
```
```python
DISTINCT
```
```python
employeeno)>
```
```python
2
```
```python
查询部门平均工资大于
```
```python
2000
```
```python
，且人数大于
```
```python
2
```
```python
的部门编号，部门名称，部门人数，部门平均工资
，并按照部门人数升序排序。
```
```python
SELECT
```
```python
B.deptno,dname,
```
```python
COUNT
```
```python
(
```
```python
DISTINCT
```
```python
employeeno),
```
```python
AVG
```
```python
(sal)
```
```python
from
```
```python
dept A,employee B
```
```python
where
```
```python
A.deptno=B.deptno
```
```python
GROUP
```
```python
BY
```
```python
B.deptno
```
```python
HAVING
```
```python
count
```
```python
(
```
```python
DISTINCT
```
```python
employeeno)>
```
```python
2
```
```python
and
```
```python
AVG
```
```python
(sal)>
```
```python
2000
```
```python
ORDER
```
```python
BY
```
```python
count
```
```python
(
```
```python
DISTINCT
```
```python
employeeno)
```
```python
ASC
```
```python
查询工资比Jones工资高的员工信息？
```
```python
SELECT
```
```python
*
```
```python
from
```
```python
employee
```
```python
WHERE
```
```python
sal >(
```
```python
SELECT
```
```python
sal
```
```python
from
```
```python
employee
```
```python
WHERE
```
```python
ename=
```
```python
'Jones'
```
```python
)
查询工资最低的员工姓名？
```
```python
SELECT
```
```python
ename
```
```python
from
```
```python
employee
```
```python
WHERE
```
```python
sal
```
```python
in
```
```python
(
```
```python
SELECT
```
```python
min
```
```python
(sal)
```
```python
from
```
```python
employee)
查询入职日期最早的员工姓名，入职日期（分成两步查询，第一步查询基本属性，第二步查询最早入职的日期。子查询结果对应的行就是主查询需要的数据）
```
```python
SELECT
```
```python
ename, hiredate
```
```python
from
```
```python
employee
```
```python
where
```
```python
hiredate=
(
```
```python
SELECT
```
```python
min
```
```python
(hiredate)
```
```python
from
```
```python
employee)
查询工资比SMITH工资高并且工作地点在CHICAGO的员工姓名，工资，部门名称
```
```python
SELECT
```
```python
ename,sal,dname
```
```python
from
```
```python
employee A,dept B
```
```python
WHERE
```
```python
A.deptno=B.deptno
```
```python
and
```
```python
sal >(
```
```python
SELECT
```
```python
sal
```
```python
from
```
```python
employee
```
```python
WHERE
```
```python
ename=
```
```python
'SMITH'
```
```python
)
```
```python
AND
```
```python
loc =
```
```python
'CHICAGO'
```
```python
查询入职日期比
```
```python
20
```
```python
部门入职日期最早的员工还要早的员工姓名，入职日期
```
```python
SELECT
```
```python
ename,hiredate
```
```python
from
```
```python
employee
```
```python
WHERE
```
```python
hiredate <(
```
```python
SELECT
```
```python
min
```
```python
(hiredate)
```
```python
from
```
```python
employee
```
```python
WHERE
```
```python
deptno=
```
```python
20
```
```python
)
查询部门人数大于所有部门平均人数的的部门编号，部门名称，部门人数（重点看，一定要注意表的连接条件）
```
```python
SELECT
```
```python
A.deptno,dname,
```
```python
count
```
```python
(
```
```python
DISTINCT
```
```python
employeeno)
```
```python
from
```
```python
employee A,dept B
```
```python
WHERE
```
```python
A.deptno=B.deptno
```
```python
GROUP
```
```python
BY
```
```python
A.deptno
```
```python
HAVING
```
```python
COUNT
```
```python
(employeeno) > 
(
```
```python
SELECT
```
```python
count
```
```python
(ename)/
```
```python
count
```
```python
(
```
```python
DISTINCT
```
```python
deptno)
```
```python
from
```
```python
employee)
查询入职日期比
```
```python
10
```
```python
部门任意一个员工晚的员工姓名、入职日期，不包括
```
```python
10
```
```python
部门员工
```
```python
SELECT
```
```python
ename,hiredate,deptno
```
```python
from
```
```python
employee
```
```python
WHERE
```
```python
hiredate >
```
```python
ANY
```
```python
(
```
```python
SELECT
```
```python
hiredate
```
```python
from
```
```python
employee
```
```python
WHERE
```
```python
deptno=
```
```python
10
```
```python
)
```
```python
AND
```
```python
deptno!=
```
```python
10
```
```python
查询入职日期比
```
```python
10
```
```python
部门所有员工晚的员工姓名、入职日期，不包括
```
```python
10
```
```python
部门员工
```
```python
SELECT
```
```python
ename,hiredate,deptno
```
```python
from
```
```python
employee
```
```python
WHERE
```
```python
hiredate >
```
```python
all
```
```python
(
```
```python
SELECT
```
```python
hiredate
```
```python
from
```
```python
employee
```
```python
WHERE
```
```python
deptno=
```
```python
10
```
```python
)
```
```python
AND
```
```python
deptno!=
```
```python
10
```
```python
查询职位和
```
```python
10
```
```python
部门任意一个员工职位相同的员工姓名，职位，不包括
```
```python
10
```
```python
部门员工
```
```python
SELECT
```
```python
ename,job,deptno
```
```python
from
```
```python
employee
```
```python
WHERE
```
```python
job  =
```
```python
ANY
```
```python
(
```
```python
SELECT
```
```python
job
```
```python
from
```
```python
employee
```
```python
WHERE
```
```python
deptno=
```
```python
10
```
```python
)
```
```python
AND
```
```python
deptno!=
```
```python
10
```
```python
查询职位及经理和
```
```python
10
```
```python
部门任意一个员工职位及经理相同的员工姓名，职位，不包括
```
```python
10
```
```python
部门员工
```
```python
SELECT
```
```python
ename, job
```
```python
FROM
```
```python
employee
```
```python
WHERE
```
```python
(job ,mgr)
```
```python
in
```
```python
(
```
```python
SELECT
```
```python
job,mgr
```
```python
FROM
```
```python
employee
```
```python
WHERE
```
```python
deptno=
```
```python
10
```
```python
)
```
```python
AND
```
```python
deptno !=
```
```python
10
```
```python
向部门表新增一个部门，部门编号为
```
```python
50
```
```python
，部门名称为HR，工作地点为SY。
```
```python
INSERT
```
```python
INTO
```
```python
dept
```
```python
VALUES
```
```python
(
```
```python
50
```
```python
,
```
```python
'HR'
```
```python
,
```
```python
'SY'
```
```python
)
把员工编号为
```
```python
7782
```
```python
的部门编号修改为
```
```python
20
```
```python
UPDATE
```
```python
emp
```
```python
SET
```
```python
deptno =
```
```python
20
```
```python
WHERE
```
```python
empno =
```
```python
7782
```
```python
;
```
```python
删除职位是CLERK的员工记录
```
```python
DELETE
```
```python
FROM
```
```python
emp
```
```python
WHERE
```
```python
job =
```
```python
'CLERK'
```
```python
;
```
```python
INSERT
```
```python
into
```
```python
manegers
```
```python
SELECT
```
```python
*
```
```python
from
```
```python
employee
```
```python
WHERE
```
```python
job =
```
```python
'MANAGER'
```
## 总结
SQL对于大数据来说非常重要，所以这项技能一定要精通。后续会再回顾下SQL，然后把一些重要的知识点总结出来。

