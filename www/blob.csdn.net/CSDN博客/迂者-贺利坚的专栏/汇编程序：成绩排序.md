
# 汇编程序：成绩排序 - 迂者-贺利坚的专栏 - CSDN博客

2018年05月23日 21:29:23[迂者-贺利坚](https://me.csdn.net/sxhelijian)阅读数：1665


【任务】
在数据区，给出了学生人数及汇编语言课程的成绩，请将成绩排序并保存在原数据区。
下面给出部分代码，要求完成排序子程序。
程序中给出的数据段，包括20位同学的成绩，每名同学的数据占1字节。
参考程序段：
```python
assume cs:cseg, ds:dseg, ss:sseg
sseg segment  stack
    dw
```
```python
100
```
```python
H dup (?)
sseg
```
```python
ends
```
```python
dseg segment
    db
```
```python
20
```
```python
db
```
```python
98
```
```python
,
```
```python
61
```
```python
,
```
```python
57
```
```python
,
```
```python
82
```
```python
,
```
```python
89
```
```python
,
```
```python
73
```
```python
,
```
```python
61
```
```python
,
```
```python
58
```
```python
,
```
```python
53
```
```python
,
```
```python
54
```
```python
db
```
```python
84
```
```python
,
```
```python
78
```
```python
,
```
```python
70
```
```python
,
```
```python
64
```
```python
,
```
```python
84
```
```python
,
```
```python
63
```
```python
,
```
```python
76
```
```python
,
```
```python
84
```
```python
,
```
```python
83
```
```python
,
```
```python
86
```
```python
dseg
```
```python
ends
```
```python
cseg segment
  start: mov ax, dseg
         mov ds, ax
         mov cl, ds:[
```
```python
0
```
```python
]
         mov ch,
```
```python
0
```
```python
;cx中存储要排序数的个数
         mov bx,
```
```python
1
```
```python
;要排序数的起始偏移地址
         call
```
```python
sort
```
```python
mov ax,
```
```python
4
```
```python
c00h
         int
```
```python
21
```
```python
h
;子程序名：
```
```python
sort
```
```python
;功    能：对从(DS):(bx)开始的(cx)个字节排序
;入口参数：(DS):(BX)保存数据的起始地址
;        (cx)中是要排序的数据个数
;出口参数：无
```
```python
sort
```
```python
proc
     ;这儿写子程序
```
```python
sort
```
```python
endp
cseg
```
```python
ends
```
```python
end
```
```python
start
```
【参考解答】
```python
assume cs:cseg, ds:dseg, ss:sseg
sseg segment  stack
    dw
```
```python
100
```
```python
H dup (?)
sseg ends
dseg segment
    db
```
```python
20
```
```python
db
```
```python
98
```
```python
,
```
```python
61
```
```python
,
```
```python
57
```
```python
,
```
```python
82
```
```python
,
```
```python
89
```
```python
,
```
```python
73
```
```python
,
```
```python
61
```
```python
,
```
```python
58
```
```python
,
```
```python
53
```
```python
,
```
```python
54
```
```python
db
```
```python
84
```
```python
,
```
```python
78
```
```python
,
```
```python
70
```
```python
,
```
```python
64
```
```python
,
```
```python
84
```
```python
,
```
```python
63
```
```python
,
```
```python
76
```
```python
,
```
```python
84
```
```python
,
```
```python
83
```
```python
,
```
```python
86
```
```python
dseg ends
cseg segment
  start:
```
```python
mov
```
```python
ax, dseg
```
```python
mov
```
```python
ds, ax
```
```python
mov
```
```python
cl, ds:[
```
```python
0
```
```python
]
```
```python
mov
```
```python
ch,
```
```python
0
```
```python
;cx中存储要排序数的个数
```
```python
mov
```
```python
bx,
```
```python
1
```
```python
;要排序数的起始偏移地址
```
```python
call
```
```python
sort
```
```python
mov
```
```python
ax,
```
```python
4
```
```python
c00h
         int
```
```python
21
```
```python
h
sort proc
```
```python
push
```
```python
si
```
```python
push
```
```python
ax
```
```python
dec
```
```python
cx
```
```python
;外层循环次数为数据个数减1
```
```python
c1:
```
```python
;排序的外层循环
```
```python
push
```
```python
cx
```
```python
mov
```
```python
si, bx
  c2:
```
```python
;排序的内层循环
```
```python
mov
```
```python
al, [si]
         cmp al, [si+
```
```python
1
```
```python
]
         jbe noswap
```
```python
mov
```
```python
ah, [si+
```
```python
1
```
```python
]
```
```python
mov
```
```python
[si+
```
```python
1
```
```python
], al
```
```python
mov
```
```python
[si], ah 
 noswap:
```
```python
inc
```
```python
si 
         loop c2
```
```python
pop
```
```python
cx
         loop c1
```
```python
pop
```
```python
ax
```
```python
pop
```
```python
si
```
```python
ret
```
```python
sort endp
cseg ends
end start
```

