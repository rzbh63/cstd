
# R语言定义多维数组 - jiahaowanhao的博客 - CSDN博客


2018年03月14日 21:20:54[数据分析技术](https://me.csdn.net/jiahaowanhao)阅读数：248


[R语言定义多维数组](http://cda.pinggu.org/view/24985.html)
数组有一个特征属性叫做维数向量（dim属性），维数向量是一个元素取正整数值的向量 ，其长度是数组的维数，比如维数向量有两个元素时数组为二维数组（矩阵）。维数向量的 每一个元素指定了该下标的上界，下标的下界总为1。
一组值只有定义了维数向量（dim属性）后才能被看作是数组。比如：
> z <- 1:1500

> dim(z) <- c(3, 5, 100)
这时z已经成为了一个维数向量为c(3,5,100)的三维数组。也可以把向量定义为一维数组 ，例如：
> dim(z) <- 1500
数组元素的排列次序缺省情况下是采用FORTRAN的数组元素次序（按列次序），即第一下 标变化最快，最后下标变化最慢，对于矩阵（二维数组）则是按列存放。例如，假设数组a的 元素为1:24，维数向量为c(2,3,4)，则各元素次序为a[1,1,1], a[2,1,1], a[1,2,1], a[2,2,1], a[1,3,1], …, a[2,3,4]。
用函数array()或matrix()可以更直观地定义数组。array()函数的完全使用为array(x, dim=length(x), dimnames=NULL)，其中x是第一自变量，应该是一个向量，表示数组的元素 值组成的向量。dim参数可省，省略时作为一维数组（但不同于向量）。dimnames属性可以省 略，不省略时是一个长度与维数相同的列表（list，见后面），列表的每个成员为一维的名 字。例如上面的z可以这样定义：
> z <- array(1:1500, dim=c(3,5,100))

> 函数matrix()用来定义最常用的一种数组：二维数组，即矩阵。其完全格式为 matrix(data = NA, nrow = 1, ncol = 1, byrow = FALSE, dimnames = NULL)
矩阵运算
矩阵是二维数组，但因为其应用广泛所以对它定义了一些特殊的运算和操作。
函数t(A)返回矩阵A的转置。nrow(A)为矩阵A的行数，ncol(A)为矩阵A的列数。
矩阵之间进行普通的加减乘除四则运算仍遵从一般的数组四则运算规则，即数组的对应元 素之间进行运算，所以注意A*B不是矩阵乘法而是矩阵对应元素相乘。
要进行矩阵乘法，使用运算符%%，A%%B表示矩阵A乘以矩阵B（当然要求A的列数等于B的 行数）。例如：
> A <- matrix(1:12, nrow=4, ncol=3, byrow=T)

> B <- matrix(c(1,0), nrow=3, ncol=2, byrow=T)

> A

> [,1] [,2] [,3] [1,] 1 2 3 [2,] 4 5 6 [3,] 7 8 9 [4,] 10 11 12

> B [,1] [,2] [1,] 1 0 [2,] 1 0 [3,] 1 0

> A %*% B

> [,1] [,2] [1,] 6 0 [2,] 15 0 [3,] 24 0 [4,] 33 0
另外，向量用在矩阵乘法中可以作为行向量看待也可以作为列向量看待，这要看哪一种观 点能够进行矩阵乘法运算。例如，设x是一个长度为n的向量，A是一个 R语言定义多维数组和数组的运算矩阵，则“x %% A %% x”表示二次型 R语言定义多维数组和数组的运算。但是，有时向量在矩阵乘法中的地位并不 清楚，比如“x %% x”就既可能表示内积 R语言定义多维数组和数组的运算也可能表示 R语言定义多维数组和数组的运算阵 R语言定义多维数组和数组的运算。因为前者较常用，所以S选择表示前者， 但内积最好还是用crossprod(x)来计算。要表示 R语言定义多维数组和数组的运算，可以用“cbind(x) %% x”或“x %*% rbind(x) ”。
函数crossprod(X, Y)表示一般的交叉乘积（内积） R语言定义多维数组和数组的运算，即X的每一列与Y的每一列的内积组成的矩 阵。如果X和Y都是向量则是一般的内积。只写一个参数X的crossprod(X)计算X自身的内积 R语言定义多维数组和数组的运算。
其它矩阵运算还有solve(A,b)解线性方程组 R语言定义多维数组和数组的运算，solve(A)求方阵A的逆矩阵，svd()计算奇 异值分解，qr()计算QR分解，eigen()计算特征向量和特征值

