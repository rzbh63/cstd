
# java泛型方法实现数值类型加法 - bitcarmanlee的博客 - CSDN博客


2017年12月06日 18:24:08[bitcarmanlee](https://me.csdn.net/bitcarmanlee)阅读数：2472



## 1.实现数值类型加法
实际开发中，经常有数值类型求和的需求，例如实现int类型的加法：
```python
public
```
```python
int
```
```python
add
```
```python
(
```
```python
int
```
```python
num1,
```
```python
int
```
```python
num2) {
```
```python
return
```
```python
num1 + num2;
    }
```
有时候还需要实现long类型的求和：
```python
public
```
```python
long
```
```python
add
```
```python
(
```
```python
long
```
```python
num1,
```
```python
long
```
```python
num2) {
```
```python
return
```
```python
num1 + num2;
    }
```
如果还需要double类型的求和，需要重新在重载一个输入是double类型的add方法。
其实逻辑都是一样的，只是输入参数类型不一样而已，正好在java中数值类型有个公共的父类：Number。所以我们可以这么做：
```python
public
```
```python
<T extends Number>
```
```python
double
```
```python
add
```
```python
(T t1, T t2) {
```
```python
double
```
```python
allsum;
        allsum = t1.doubleValue() + t2.doubleValue();
```
```python
return
```
```python
allsum;
    }
    @Test
```
```python
public
```
```python
void
```
```python
testAdd
```
```python
() {
```
```python
int
```
```python
int1 =
```
```python
1
```
```python
;
```
```python
int
```
```python
int2 =
```
```python
2
```
```python
;
        System.
```
```python
out
```
```python
.println(
```
```python
"Integer sum is: "
```
```python
+ add(int1, int2));
```
```python
long
```
```python
long1 =
```
```python
100
```
```python
;
```
```python
long
```
```python
long2 =
```
```python
200
```
```python
;
        System.
```
```python
out
```
```python
.println(
```
```python
"Long sum is: "
```
```python
+ add(long1, long2));
```
```python
float
```
```python
f1 =
```
```python
1.0
```
```python
f;
```
```python
float
```
```python
f2 =
```
```python
2.0
```
```python
f;
        System.
```
```python
out
```
```python
.println(
```
```python
"Float sum is: "
```
```python
+ add(f1, f2));
```
```python
double
```
```python
d1 =
```
```python
1.0
```
```python
;
```
```python
double
```
```python
d2 =
```
```python
2.0
```
```python
;
        System.
```
```python
out
```
```python
.println(
```
```python
"Double sum is: "
```
```python
+ add(d1, d2));
    }
```
将上述的test方法run起来以后，输出如下：
```python
Integer
```
```python
sum
```
```python
is
```
```python
:
```
```python
3
```
```python
Long
```
```python
sum
```
```python
is
```
```python
:
```
```python
300
```
```python
Float sum
```
```python
is
```
```python
:
```
```python
3.0
```
```python
Double
```
```python
sum
```
```python
is
```
```python
:
```
```python
3.0
```
## 2.实现数值类型集合的加法
上面是单个数值类型，推广一下，对于数值类型的集合来说，也经常会有类似的需求，这个时候我们可以也做类似的泛型方法：
```python
public
```
```python
class
```
```python
GenericAdd
```
```python
{
```
```python
//extend限制返回时候的类型
```
```python
public
```
```python
static
```
```python
void sumlist(
```
```python
List
```
```python
<?
```
```python
extends Number>
```
```python
list
```
```python
) {
        double sum =
```
```python
0.0
```
```python
;
```
```python
for
```
```python
(Number each :
```
```python
list
```
```python
) {
            sum += each.doubleValue();
        }
        double sum2 =
```
```python
list
```
```python
.stream().mapToDouble(x -> x.doubleValue()).sum();
        System.out.println(sum);
        System.out.println(sum2);
    }
```
```python
//super限制添加时候的类型
```
```python
public
```
```python
static
```
```python
void lowerBound(
```
```python
List
```
```python
<?
```
```python
super Number>
```
```python
list
```
```python
) {
```
```python
list
```
```python
.add(
```
```python
new
```
```python
Integer(
```
```python
1
```
```python
));
```
```python
list
```
```python
.add(
```
```python
new
```
```python
Float(
```
```python
2
```
```python
));
        Integer value1 = (Integer)
```
```python
list
```
```python
.get(
```
```python
0
```
```python
);
        Float value2 = (Float)
```
```python
list
```
```python
.get(
```
```python
1
```
```python
);
        System.out.println(value1 +
```
```python
"\t"
```
```python
+ value2);
    }
```
```python
public
```
```python
static
```
```python
void main(String[] args) {
```
```python
List
```
```python
<Number>
```
```python
list
```
```python
=
```
```python
new
```
```python
ArrayList<>();
        lowerBound(
```
```python
list
```
```python
);
        System.out.println(
```
```python
"---------"
```
```python
);
```
```python
List
```
```python
<Integer> intList =
```
```python
new
```
```python
ArrayList()
```
```python
{{
```
```python
add
```
```python
(1);
```
```python
add
```
```python
(2);
```
```python
add
```
```python
(3);}}
```
```python
;
        sumlist(intList);
        System.out.println(
```
```python
"---------"
```
```python
);
```
```python
List
```
```python
<Double> doubleList =
```
```python
new
```
```python
ArrayList()
```
```python
{{
```
```python
add
```
```python
(10
```
```python
.
```
```python
0);
```
```python
add
```
```python
(20
```
```python
.
```
```python
0);
```
```python
add
```
```python
(30
```
```python
.
```
```python
0);}}
```
```python
;
        sumlist(doubleList);
    }
}
```
上面代码的输出结果如下：
```python
1   2.0
---------
```
```python
6.0
```
```python
6.0
---------
```
```python
60.0
60.0
```
这样就达到了数值类型集合求和的需求！

